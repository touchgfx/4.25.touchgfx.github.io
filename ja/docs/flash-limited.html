<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-development/scenarios/flash-limited-gui-development" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Flashメモリの使用量に制限のあるGUIの開発 | TouchGFX Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://support.touchgfx.com/4.25/ja/img/meta-image.png"><meta data-rh="true" name="twitter:image" content="https://support.touchgfx.com/4.25/ja/img/meta-image.png"><meta data-rh="true" property="og:url" content="https://support.touchgfx.com/4.25/ja/docs/flash-limited"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Flashメモリの使用量に制限のあるGUIの開発 | TouchGFX Documentation"><meta data-rh="true" name="description" content="この記事では、TouchGFXを使用して、Flashメモリの使用量を低く抑えたグラフィカル･ユーザ･インタフェースを開発する方法について説明します。"><meta data-rh="true" property="og:description" content="この記事では、TouchGFXを使用して、Flashメモリの使用量を低く抑えたグラフィカル･ユーザ･インタフェースを開発する方法について説明します。"><link data-rh="true" rel="icon" href="/4.25/ja/img/favicon.png"><link data-rh="true" rel="canonical" href="https://support.touchgfx.com/4.25/ja/docs/flash-limited"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/docs/flash-limited" hreflang="en"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/ko/docs/flash-limited" hreflang="ko"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/ja/docs/flash-limited" hreflang="ja"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/zh-CN/docs/flash-limited" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/zh-TW/docs/flash-limited" hreflang="zh-TW"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/docs/flash-limited" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://B8LNOI0XWD-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="TouchGFX Documentation" href="/4.25/ja/opensearch.xml">


<script src="/4.25/ja/js/one-trust.js"></script>
<script src="/4.25/js/fix-location.js"></script><link rel="stylesheet" href="/4.25/ja/assets/css/styles.6e57ba1f.css">
<link rel="preload" href="/4.25/ja/assets/js/runtime~main.b1953020.js" as="script">
<link rel="preload" href="/4.25/ja/assets/js/main.caf5b39c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><div role="region" aria-label="メイン･コンテンツまでスキップ"><a class="skipToContent_xAYN" href="#__docusaurus_skipToContent_fallback">メイン･コンテンツまでスキップ</a></div><nav aria-label="Main（メイン）" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar（ナビゲーション･バーをトグル）" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/4.25/ja/docs/introduction/welcome"><div class="navbar__logo"><img src="/4.25/ja/img/logo.svg" alt="TouchGFX" class="themedImage_m0dh themedImage--light_OZkp"><img src="/4.25/ja/img/logo.svg" alt="TouchGFX" class="themedImage_m0dh themedImage--dark_ViMM"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/4.25/ja/docs/introduction/welcome">ドキュメント</a><a class="navbar__item navbar__link" href="/4.25/ja/docs/api/namespacetouchgfx">API</a><a class="navbar__item navbar__link" sidebarid="academy" href="/4.25/ja/academy/academy-introduction">TouchGFX Academy</a><a href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">コミュニティ</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/4.25/ja/docs/introduction/welcome">4.25</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/4.25/ja/docs/flash-limited">4.25</a></li><li><a href="https://support.touchgfx.com/4.25" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.25<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.24" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.24<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.23" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.23<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.22" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.22<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.21" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.21<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.20" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.20<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.19" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.19<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.18" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.18<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.17" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.17<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.16" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.16<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.15" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.15<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.14" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.14<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.13" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.13<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">日本語</a><ul class="dropdown__menu"><li><a href="/4.25/docs/flash-limited" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/4.25/ko/docs/flash-limited" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/4.25/ja/docs/flash-limited" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ja">日本語</a></li><li><a href="/4.25/zh-CN/docs/flash-limited" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">简体中文</a></li><li><a href="/4.25/zh-TW/docs/flash-limited" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-TW">繁體中文</a></li></ul></div><div class="searchBox_y6an"><button type="button" class="DocSearch DocSearch-Button" aria-label="検索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">検索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_ovZa docsWrapper_a09d"><button aria-label="上へスクロールしてもどる" class="clean-btn theme-back-to-top-button backToTopButton_PCdr" type="button"></button><div class="docPage_CL8Z"><aside class="theme-doc-sidebar-container docSidebarContainer_ThtD"><div class="sidebarViewport_mAJy"><div class="sidebar_Oq1e"><nav aria-label="Docs sidebar（ドキュメント･サイドバー）" class="menu thin-scrollbar menu_M44W"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/ja/docs/category/introduction">概要</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;概要&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/ja/docs/category/basic-concepts">基本概念</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;基本概念&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/4.25/ja/docs/development/development-introduction">開発</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;開発&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.25/ja/docs/development/hardware-selection/hardware-selection-introduction">ハードウェアの選択</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;ハードウェアの選択&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.25/ja/docs/development/board-bring-up/board-introduction">ボード立ち上げ</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;ボード立ち上げ&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.25/ja/docs/development/touchgfx-hal-development/touchgfx-al-development-introduction">TouchGFX AL（抽象化レイヤ）開発</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;TouchGFX AL（抽象化レイヤ）開発&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.25/ja/docs/development/ui-development/ui-development-introduction">UI開発</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;UI開発&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/4.25/ja/docs/category/scenarios-2">シナリオ</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;シナリオ&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/ja/docs/development/scenarios/touchgfx-on-lowcost-hardware">低コスト･ハードウェア上のTouchGFX</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/ja/docs/development/scenarios/touchgfx-on-gpu2d">NeoChrom / NeoChromVG上でのTouchGFXの使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/ja/docs/development/scenarios/running-graphics-on-stm32h7r">Running graphics on STM32H7R7 &amp; S7</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/ja/docs/development/scenarios/running-graphics-from-external-ram">Running graphics from external RAM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/ja/docs/development/scenarios/lowering-memory-usage-with-partial-framebuffer">パーシャル･フレームバッファによるメモリ使用量の軽減</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/4.25/ja/docs/flash-limited">Flashメモリの使用量に制限のあるGUIの開発</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/ja/docs/development/scenarios/using-non-memory-mapped-flash">画像保存のために非メモリ･マップドFlashを使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/ja/docs/development/scenarios/using-serial-flash">画像とフォント用にシリアルFlashの使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/ja/docs/development/scenarios/fonts-in-unmapped-flash">フォント･データ用に非メモリ･マップドFlashを使用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/ja/docs/development/scenarios/scenarios-change-pixelformat-bpp">アプリケーションのピクセル･フォーマットの変更</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/ja/docs/development/scenarios/scenarios-create-at">TouchGFXボード設定の作成</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/ja/docs/development/scenarios/example-gpio">トリガとしての外部イベント</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/ja/docs/development/scenarios/running-without-rtos">TouchGFX Board SetupでRTOSを使用せずに実行</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/ja/docs/development/scenarios/adding-files-to-stm32cubemx-projet">STM32CubeMXプロジェクトへのファイルの追加</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/ja/docs/development/scenarios/converting-keil5-project-to-keil6">Converting a Keil compiler 5 project to Keil compiler 6</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/ja/docs/development/scenarios/cmake-as-build-system">CMake as build system</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/ja/docs/category/miscellaneous-1">その他</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;その他&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/ja/docs/category/resources">リソース</a><button aria-label="折りたたみ可能なサイドバーのカテゴリ&#x27;リソース&#x27;を切り替える" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_fxxJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_QTf6"><div id="doc-version-banner-identifier" class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>TouchGFX<!-- --> <b>4.25</b>のドキュメントですが、これはアクティブに保持されていません。</div><div class="margin-top--md">ドキュメントの最新版については、<b><a href="https://support.touchgfx.com/docs/development/scenarios/flash-limited-gui-development" target="_blank" rel="noopener noreferrer">最新版</a></b>を参照してください。</div></div><div class="docItemContainer_yTh1"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer__o78" aria-label="パンくずリスト"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.25/ja/docs/development/development-introduction"><span itemprop="name">開発</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.25/ja/docs/category/scenarios-2"><span itemprop="name">シナリオ</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Flashメモリの使用量に制限のあるGUIの開発</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_CArF theme-doc-toc-mobile tocMobile_PMGv"><button type="button" class="clean-btn tocCollapsibleButton_I8Hj">このページでは</button></div><div class="theme-doc-markdown markdown"><header><h1>Flashメモリの使用量に制限のあるGUIの開発</h1></header><p>この記事では、TouchGFXを使用して、Flashメモリの使用量を低く抑えたグラフィカル･ユーザ･インタフェースを開発する方法について説明します。</p><p>TouchGFXを使用してコードを生成すると、イメージ、テキスト、フォントなどのアセットはC++ファイルに変換され、その後、プログラミング時にTouchGFXアプリケーション･コード、ユーザ･コード、TouchGFXライブラリとともにFlashメモリに格納されます。 これはつまり、多くのアセットを使用する大規模または複雑なプロジェクトでは、Flashメモリの使用量が多くなることを意味します。</p><p>ほとんどのアプリケーションではメモリ･リソースに限りがあるため、必要なFlashメモリの量を低減する方法が用意されています。 TouchGFXは、アプリケーションに必要なFlahメモリ量の大幅な低減を可能にする、次の4つの機能を備えております。 L8画像フォーマット、画像圧縮、スケーラブル･ベクタ･グラフィックス（SVG）およびベクタ･フォントの4つの概念です。</p><p>この記事では、この4つの概念を利用してアプリケーションでのFlashメモリのフットプリントを制限する方法を紹介します。 測定はSTM32U5G9J-DK2を使用して実行されましたが、Flashメモリの使用量を節約するこれらの概念は、別のハードウェア･プラットフォームにも適用できます。</p><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content"><p>メモリ管理の詳細については、<!-- -->[メモリ使用量]<!-- -->（/basic-concepts/memory-usage.mdx）の記事を参照してください。</p></div></div><h2 class="anchor anchorWithStickyNavbar_k1OW" id="flash-limited-e-bike-demo">Flashメモリ使用量が制限されたEバイク･デモ<a href="#flash-limited-e-bike-demo" class="hash-link" aria-label="Flashメモリ使用量が制限されたEバイク･デモに直接リンク" title="Flashメモリ使用量が制限されたEバイク･デモに直接リンク">​</a></h2><p>Flashメモリ使用量が制限されたEバイク･デモは、TouchGFX Designerに用意されており、4つの機能を使用してTouchGFXでFlashメモリ使用量を節約する方法を紹介しています。 このデモは、STM32U5G9J-DK2のボード専用のデモです。 STM32U5G9J-DK2を使用するメリットは、ベクタ･レンダリングのハードウェア･アクセラレーションを可能にするNeoChromVG GPUを搭載していることです。 ただし、L8画像フォーマットと画像圧縮は特に、あらゆるSTM32マイクロコントローラで使用できます。</p><p>デモが非圧縮のビットマップのみ（L8、圧縮、SVGおよびベクタ･フォントなし）で実装される場合は、約10.5 MBのFlashメモリが使用されます。 Flashメモリの使用量を節約するこの4つの概念が使用されるデモの実行では、使用されるFlashメモリは約800 KBのみです。 ここからわかるように、Flashメモリの使用量を十分節約できます。 このデモでは、4つの概念を組み合わせて使用した場合、92%というFlashメモリ使用量の節約を達成しています。</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="when-to-use-which-concept">いつどの概念を使用するか<a href="#when-to-use-which-concept" class="hash-link" aria-label="いつどの概念を使用するかに直接リンク" title="いつどの概念を使用するかに直接リンク">​</a></h2><p>4つのFlashメモリを節約する概念を、TouchGFXで使用する方法の技術情報およびガイドについては、以下を参照してください。</p><ul><li><a href="/4.25/ja/docs/development/ui-development/scenarios/using-the-l8-image-format-to-reduce-memory-consumption">L8画像フォーマット</a></li><li><a href="/4.25/ja/docs/development/ui-development/touchgfx-engine-features/image-compression">画像圧縮</a></li><li><a href="/4.25/ja/docs/development/ui-development/touchgfx-engine-features/svg">SVG</a></li><li><a href="/4.25/ja/docs/development/ui-development/touchgfx-engine-features/vector-fonts">ベクタ･フォント</a></li></ul><p>この4つの概念はすべて、アプリケーションで必要なFlashメモリ量を低減するのに役立ちます。 いつどの概念を使用するのかはシナリオに応じて異なりますが、いくつかの一般的なルールを適用できます。 これらのルールについて以下に説明します。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="L8-and-compression">L8および画像圧縮<a href="#L8-and-compression" class="hash-link" aria-label="L8および画像圧縮に直接リンク" title="L8および画像圧縮に直接リンク">​</a></h3><p>ビットマップでL8画像フォーマットを使用する場合、ビットマップでは最大256色使用できます。 L8フォーマットの画像のレンダリングは、<a href="/4.25/ja/docs/development/hardware-selection/hardware-components/hardware-selection-mcu#chrom-art">Chrom-ART</a>によってハードウェア･アクセラレーションされます。つまり、L8ビットマップの描画時間は通常のビットマップとほぼ同じになります。 場合によっては、Flashメモリから読み取るデータ量が少ないため、通常のビットマップと比べてL8フォーマットでのビットマップの描画が速くなることもあります。 色深度が32bitの場合、L8では、通常のビットマップと比べてFlashメモリの使用量を70%以上節約できます。</p><p>画像圧縮すれば、L8と比べてさらに多くのFlashメモリを節約できます。 画像圧縮は2つのフォーマット、L8圧縮とRGB圧縮で行われます。 ビットマップでL8圧縮を使用するには、L8圧縮アルゴリズムでカラー･ルックアップ･テーブルが使用されるため、まずビットマップをL8フォーマットにする必要があります。 その結果、L8圧縮されたビットマップは、依然として最大256色に制限されています。 一部のL8圧縮アルゴリズムでは、最大色数がさらに制限されます。 L4は最大16色に、L8 RLEは最大64色に制限されています。 RGB圧縮は、ビットマップをL8フォーマットにする必要がないため、すべてのビットマップで使用できます。 Chrom-ARTでハードウェア･アクセラレーションされるL8ビットマップのレンダリングに対し、圧縮ビットマップ（L8圧縮とRGB圧縮の両方）はソフトウェア･レンダリングされるため、描画時間が長くなります。 圧縮ビットマップのもう1つの制限は、スケーラブルなウィジェットや回転可能なウィジェットで使用できないことです。</p><p>PNGフォーマットのアセットがすでにある場合は、L8画像フォーマットと画像圧縮の両方を簡単に使用できます。 通常は、著しいパフォーマンス上のペナルティなしに、最大256色のビットマップでL8画像フォーマットを使用できます。 より多くのFlashメモリを節約する必要があり、必要なパフォーマンスを達成するための描画時間を確保できる場合は、L8画像圧縮も使用できます。 L8フォーマットに対応していないビットマップを圧縮する場合は、代わりにRGB圧縮を使用できます。 ビットマップをスケーラブルまたは回転可能なウィジェットで使用する必要がある場合は、そもそも圧縮ビットマップを使用することはできません。 もちろん、これに対処する方法はいくつかありますが、それについては後ほど説明します。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="SVG">SVG<a href="#SVG" class="hash-link" aria-label="SVGに直接リンク" title="SVGに直接リンク">​</a></h3><p>アセットでFlashメモリを節約するもう1つのオプションは、アセットをPNGフォーマットではなくSVGフォーマットにすることです。 SVGには、色数の制限はありません。 ただし、SVGは通常、L8や圧縮と比べて描画時間が長くかかります。 したがって、同時使用のSVGの数を制限し、SVGのアニメーションを最小限にしておくことを推奨します。 SVGアセットがシンプルになるほど、その結果、Flashメモリのフットプリントがより小さくなり、パフォーマンスを向上できます。 そのため、1レイヤのSVGのみを使用することを推奨します。</p><p>SVGウィジェットでアセットを使用するには、アセットをSVGフォーマットでインポートする必要があります。 その画像はTouchGFXでは変換できません。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="vector-fonts">ベクタ･フォント<a href="#vector-fonts" class="hash-link" aria-label="ベクタ･フォントに直接リンク" title="ベクタ･フォントに直接リンク">​</a></h3><p>SVGフォーマットのフォント以外のアセットについては、ベクタ･フォントもSVGと同じ方法で描画されるため、描画に時間がかかります。 ベクタ･フォントの使用は、通常、大きなフォント･サイズや同じフォントを複数の異なるサイズで使用する場合に有用です。 異なるサイズの同一フォントをベクタで表現する場合は、フォントを1回格納するだけで済みます。 次に必要なのは、さまざまなサイズで表現するためのスケーリング･ファクタのみです。 ビットマップ･フォントでは、各フォント･サイズをそれぞれ格納する必要があります。 ベクタ･フォントは、画像圧縮やSVGほどFlashメモリを大量に節約できないことがよくあります。 したがって、これは、Flashメモリのフットプリントを絶対的に最小にする必要がある場合に、主に使用します。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="examples">例<a href="#examples" class="hash-link" aria-label="例に直接リンク" title="例に直接リンク">​</a></h3><p>各種概念の特徴を示す具体的な例を提供するために、通常のビットマップ、L8、L8 RLE圧縮、RGB圧縮およびSVGフォーマットでのEバイク･デモから、2つのアセットで測定を行います。 測定は、内部Flashメモリのアセットを使用してSTM32U5G9J-DK2で実行します。 SVGの描画時間は、NeoChrom GPUを搭載していないマイクロコントローラの場合は長くなります。 ただし、CPUが高速だと、これを補うこともできます。</p><p>以下のアセットの色深度は32bitで、上面にアイコンが付いたボタンです。 このボタンは122 x 112ピクセル、アイコンは72 x 72ピクセルです。</p><div class="figure"><a href="/4.25/ja/img/development/scenarios/flash-limited-gui-development/button-with-icon.webp" target="_blank"><img src="/4.25/ja/img/development/scenarios/flash-limited-gui-development/button-with-icon.webp"></a><p>Eバイク･デモのアイコン付きボタン</p></div><p>このアセットでは次の測定が実行されました。</p><table><thead><tr><th><strong>フォーマット</strong></th><th><strong>サイズ</strong></th><th><strong>パーセント</strong></th><th><strong>描画時間</strong></th><th><strong>CPU負荷</strong></th></tr></thead><tbody><tr><td>ビットマップ:</td><td>75.4 KB</td><td>100%</td><td>0.414 ms</td><td>2.4%</td></tr><tr><td>L8:</td><td>19.3 KB</td><td>25.6%</td><td>0.448 ms</td><td>2.3%</td></tr><tr><td>L8 RLE:</td><td>2.55 KB</td><td>3.4%</td><td>1.51 ms</td><td>9.6%</td></tr><tr><td>RGB:</td><td>4.53 KB</td><td>12.0%</td><td>1.65 ms</td><td>10.5%</td></tr><tr><td>SVG:</td><td>3.01 KB</td><td>4.0%</td><td>1.43 ms</td><td>4.1%</td></tr></tbody></table><p>ここからわかるように、L8 RLEはFlashメモリのフットプリントが最も小さいものの、通常のビットマップ･フォーマットと比べて描画時間が約1 ms長くかかります。</p><p>次のアセットは、色深度が32bitで、デモのダッシュボード画面のゲージの一部です。 サイズは150 x 436ピクセルです。</p><div class="figure"><a href="/4.25/ja/img/development/scenarios/flash-limited-gui-development/gauge-part.webp" target="_blank"><img src="/4.25/ja/img/development/scenarios/flash-limited-gui-development/gauge-part.webp"></a><p>Eバイク･デモのゲージの一部</p></div><p>このアセットでは次の測定が実行されました。</p><table><thead><tr><th><strong>フォーマット</strong></th><th><strong>サイズ</strong></th><th><strong>パーセント</strong></th><th><strong>描画時間</strong></th><th><strong>CPU負荷</strong></th></tr></thead><tbody><tr><td>ビットマップ:</td><td>261.6 KB</td><td>100%</td><td>1.15 ms</td><td>1.5%</td></tr><tr><td>L8:</td><td>65.6 KB</td><td>25.1%</td><td>1.24 ms</td><td>1.4%</td></tr><tr><td>L8 RLE:</td><td>4.66 KB</td><td>1.78%</td><td>2.75 ms</td><td>15.0%</td></tr><tr><td>RGB:</td><td>10.5 KB</td><td>4.01%</td><td>3.08 ms</td><td>17.6%</td></tr><tr><td>SVG:</td><td>0.686 KB</td><td>0.27%</td><td>3.40 ms</td><td>2.0%</td></tr></tbody></table><p>SVGフォーマットのアセットでは、Flashメモリのフットプリントは断然少ないですが、描画時間は最長です。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="concept-conclusion">まとめ<a href="#concept-conclusion" class="hash-link" aria-label="まとめに直接リンク" title="まとめに直接リンク">​</a></h3><p>上記からわかるように、すべてのアセットに対して最適なフォーマットはありません。 ただし、Flashメモリの節約のみに絞ると、アセットが比較的小さい場合には、通常、L8画像圧縮のFlashメモリのフットプリントが最小になります。また、アセットが大きい場合には、SVGのFlashメモリのフットプリントが最小になります。 SVGアセットで256色を超えて使用できる場合でも、Flashメモリの使用量とパフォーマンスの両方を考慮して、SVGアセットを比較的シンプルにしておくことを推奨します。 L8画像フォーマットの場合、L8、画像圧縮、SVGの中でFlashメモリのフットプリントは最大ですが、描画時間は最短です。</p><p>したがって、Flashメモリの使用量が制限されたアプリケーションを開発する場合、ボトルネックを特定し、アプリケーションにとって何が最重要なのかを判断する必要があります。 最も重要なのはパフォーマンスですか、Flashメモリの節約ですか? パフォーマンスが最重要な場合は、L8が最も効率的なアプローチです。 パフォーマンスが許されるなら、一部のアセットに対して圧縮も組み合わせることができます。 Flashメモリのフットプリントを最小にすることが最重要な場合は、画像圧縮とSVGが最適なアプローチになります。</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="smart-assets">「スマート」アセットの使用<a href="#smart-assets" class="hash-link" aria-label="「スマート」アセットの使用に直接リンク" title="「スマート」アセットの使用に直接リンク">​</a></h2><p>「スマート」アセットを使用すると、Flashメモリの節約とパフォーマンスの両方を改善できます。 ここでは、スマート･アセットとは、アセット自体とその使用の両方を指します。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="simple-assets">シンプルなアセット<a href="#simple-assets" class="hash-link" aria-label="シンプルなアセットに直接リンク" title="シンプルなアセットに直接リンク">​</a></h3><p>まず、アセットがシンプルであるほど、より多くの圧縮が可能になり、SVG定義もシンプルになります。 これにより、結果としてFlashメモリのフットプリントがより小さくなります。</p><p>参考として、Eバイク･デモでは、すべてのビットマップ･アセットは最大で64色を使用し、またアセットはL8 RLEにも適しているため、すべてのビットマップ･アセットはL8 RLE圧縮されます。 L8 RLEはL8 LZW9と比べて描画時間が短いため、パフォーマンスも最高になります。</p><p>さらに、設計もシンプルな場合は、<a href="/4.25/ja/docs/development/ui-development/ui-components/images/tiled-image">タイル化画像</a>も使用できることがあります。 その場合、画像の一部を格納するだけで済み、その後その画像を繰り返すことができます。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="using-boxes">ボックスの使用<a href="#using-boxes" class="hash-link" aria-label="ボックスの使用に直接リンク" title="ボックスの使用に直接リンク">​</a></h3><p>スマートな方法でFlashメモリの使用量を節約するもう1つの手法は、<a href="/4.25/ja/docs/development/ui-development/ui-components/shapes/box">ボックス･ウィジェット</a>を使用するものです。 ボックスの使用には、次の2つの主なメリットがあります。</p><ol><li>1つ目は、ボックスがフレームバッファに直接描画されることです。 その結果、ボックスの格納にFlashメモリは必要ありません。 Flashメモリを必要とするのは、ボックスの定義に必要な少量のコードだけです。</li><li>2つ目に、ボックスは調整可能で、実行時に色やサイズを変更できます。 Flashメモリの使用量が制限されたEバイク･デモでは、たとえば、ボックスは塗りつぶしのバックグラウンド･カラーに使用され、ボックスの色を変更することでライト / ダークの両モードに対応しています。</li></ol><h3 class="anchor anchorWithStickyNavbar_k1OW" id="reusable-assets">再利用可能なアセット<a href="#reusable-assets" class="hash-link" aria-label="再利用可能なアセットに直接リンク" title="再利用可能なアセットに直接リンク">​</a></h3><p>Flashメモリを節約するためのもう1つの方法は、アセットの総数を制限することです。 これはもちろん、設計を非常にシンプルにすることによって実現できますが、同じアセットを複数回再利用することで、既存のアセットの数を制限することでも可能な場合があります。</p><p>Flashメモリの使用量が制限されたEバイク･デモでは、たとえば、このアプローチは天候画面に使用されています。 3つのサイズの天気アイコンは、すべて同一のアセットを使用してスケールされています。 スケールされるアセットなので、FlashメモリのフットプリントがRLE圧縮を適用することで小さくすることができる場合でも、SVGフォーマットが圧縮よりも推奨されます。 ただし、アセットが3つのサイズすべてでRLEフォーマットで格納されている場合には、合計のFlashメモリのフットプリントは大きくなります。</p><p>さらに、ボタンも再利用可能アセットとして実装されます。 たとえば、ボタンは再利用できるように、アイコンから分離されます。</p><p>デモで再利用性を示しているもう1つのケースは、バックグラウンドです。 デモには合計5つの異なるバックグラウンド･デザインがありますが、調整可能なアセット（ボックスと再利用可能アセット）を使用することにより、すべてのバックグラウンドが1つのアセットとボックスだけで作成されています。</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="performance">パフォーマンスの向上<a href="#performance" class="hash-link" aria-label="パフォーマンスの向上に直接リンク" title="パフォーマンスの向上に直接リンク">​</a></h2><p>Flashメモリの使用量が制限されたアプリケーションを開発する場合には、パフォーマンスが阻害されるリスクがあります。 ただし、スペアRAMが利用可能な場合は、アプリケーションのパフォーマンスを向上させる方法があります。 <a href="/4.25/ja/docs/development/ui-development/touchgfx-engine-features/dynamic-bitmaps">ダイナミック･ビットマップ</a>と <a href="/4.25/ja/docs/development/ui-development/scenarios/achieving-better-performance-with-cacheable-container">キャッシュ可能コンテナ</a>を使用することにより、アセットまたはコンテナの静的スナップショットをRAMに描画できます。 その後、このアセットやコンテナを使用する場合には常に、キャッシュされたバージョンを代わりに使用できます。 キャッシュされたバージョンは、RAM内の単なるビットマップですが、描画時間が通常のビットマップと同じであることを意味します。</p><p>Flashメモリの使用量が制限されたEバイク･デモでは、キャッシュ可能コンテナを使用して、優れたパフォーマンスを維持しながら、SVGアセットやベクタ･フォントのスクロールを可能にしています。</p><div class="figure"><a href="/4.25/ja/img/development/scenarios/flash-limited-gui-development/cacheable-container.webp" target="_blank"><img width="500" src="/4.25/ja/img/development/scenarios/flash-limited-gui-development/cacheable-container.webp"></a><p>キャッシュ可能コンテナとしての天候エレメント</p></div><p>通常、ベクタ･フォントは、実行時に移動した場合または移動可能な場合、常にキャッシュされます。 これにより、ベクタ･フォントのスクロールに関係なく、30 FPS以上が保証されます。</p><p>デモで使用されているもう1つの技は、圧縮ビットマップのビットマップ･キャッシュへの解凍です。 ビットマップをRAMに解凍することにより、スケーラブルなウィジェットや回転可能なウィジェットで使用できます。 ビットマップを解凍すると、TouchGFXでは、ビットマップIDを参照する際に、常に解凍したキャッシュ･バージョンが使用されるようになります。 Eバイク･デモでの例を以下に示します。 圧縮ビットマップは単純に解凍され、その後は、このビットマップを通常のビットマップとして使用できるようになります。</p><div class="code-header"><div><h5>StartView.cpp</h5></div></div><div class="language-cpp codeBlockContainer_xMD_ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_JIBA"><pre tabindex="0" class="prism-code language-cpp codeBlock_uX6S thin-scrollbar"><code class="codeBlockLines_ZLum"><span class="token-line" style="color:#bfc7d5"><span class="token class-name" style="color:rgb(255, 203, 107)">StartView</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">StartView</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">Bitmap</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">decompress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">BITMAP_MAIN_RIPPLE_LEFT_ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">     </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Decompress compressed image to bitmap cache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">Bitmap</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">decompress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">BITMAP_MAIN_RIPPLE_RIGHT_ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Decompress compressed image to bitmap cache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">StartView</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">setupScreen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    leftMainRippleScale</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setBitmap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">BITMAP_MAIN_RIPPLE_LEFT_ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Set bitmap for Scalable Image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rightMainRippleScale</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setBitmap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">BITMAP_MAIN_RIPPLE_RIGHT_ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Set bitmap for Scalable Image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    leftMainRippleScale</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setWidthHeight</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">       </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Set scale of image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rightMainRippleScale</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setWidthHeight</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Set scale of image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__VZb"><button type="button" aria-label="コードをクリップボードにコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_TYFZ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dFlr"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_amKQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ダイナミック･ビットマップを多用した結果、Flashメモリの使用量が制限されたこのEバイク･デモでも、922 KBのビットマップ･キャッシュが必要です。 つまり、大量のスペアRAMが必要です。 ただし、このデモでは、Flashメモリをかなり極端に節約してもいます。 よりシンプルなアプリケーションやパフォーマンス要件がそれほど重要でないアプリケーションでは、はるかに少ないビットマップ･キャッシュで済む可能性があります。</p><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content"><p>[ダイナミック･ビットマップ]<!-- -->（/development/ui-development/touchgfx-engine-features/dynamic-bitmaps.mdx）</p><p>[キャッシュ可能コンテナによるパフォーマンス向上]<!-- -->（/development/ui-development/scenarios/achieving-better-performance-with-cacheable-container.mdx）</p><p>[ビットマップ･キャッシュへの画像の解凍]<!-- -->（/development/ui-development/touchgfx-engine-features/image-compression.mdx）</p></div></div><h2 class="anchor anchorWithStickyNavbar_k1OW" id="conclusion">まとめ<a href="#conclusion" class="hash-link" aria-label="まとめに直接リンク" title="まとめに直接リンク">​</a></h2><p>この記事では、TouchGFXアプリケーションのFlashメモリの使用量を制限する方法について説明してきました。</p><p>4つのFlashメモリ使用量節約の概念を、すべてのSTM32ハードウェア･プラットフォームに対して使用できますが、SVGとベクタ･フォントでは描画時間が長くなることに留意してください。 その結果、ベクタ･レンダリングのハードウェア･アクセラレーションや追加の計算能力が利用できない場合には、パフォーマンスが低下する可能性があります。</p><p>Flashメモリの使用量が制限されたGUIの開発におけるこの概念は、パフォーマンス上のペナルティにつながる可能性がありますが、ダイナミック･ビットマップやキャッシュ可能コンテナを使用することで、パフォーマンスを向上させることができます。</p><p>Flashメモリ節約のこれらの概念を使用することにより、Flashメモリの節約に大きな可能性がもたらされます。 これらの概念が節約できるFlashメモリの正確な量は、個々のアプリケーションに応じて異なりますが、Flashメモリの使用量が制限されたEバイク･デモでは、92%というFlashメモリ使用量の節約を達成しています。</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメント･ページのナビゲーション"><a class="pagination-nav__link pagination-nav__link--prev" href="/4.25/ja/docs/development/scenarios/lowering-memory-usage-with-partial-framebuffer"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">パーシャル･フレームバッファによるメモリ使用量の軽減</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/4.25/ja/docs/development/scenarios/using-non-memory-mapped-flash"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">画像保存のために非メモリ･マップドFlashを使用</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cuXu thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#flash-limited-e-bike-demo" class="table-of-contents__link toc-highlight">Flashメモリ使用量が制限されたEバイク･デモ</a></li><li><a href="#when-to-use-which-concept" class="table-of-contents__link toc-highlight">いつどの概念を使用するか</a><ul><li><a href="#L8-and-compression" class="table-of-contents__link toc-highlight">L8および画像圧縮</a></li><li><a href="#SVG" class="table-of-contents__link toc-highlight">SVG</a></li><li><a href="#vector-fonts" class="table-of-contents__link toc-highlight">ベクタ･フォント</a></li><li><a href="#examples" class="table-of-contents__link toc-highlight">例</a></li><li><a href="#concept-conclusion" class="table-of-contents__link toc-highlight">まとめ</a></li></ul></li><li><a href="#smart-assets" class="table-of-contents__link toc-highlight">「スマート」アセットの使用</a><ul><li><a href="#simple-assets" class="table-of-contents__link toc-highlight">シンプルなアセット</a></li><li><a href="#using-boxes" class="table-of-contents__link toc-highlight">ボックスの使用</a></li><li><a href="#reusable-assets" class="table-of-contents__link toc-highlight">再利用可能なアセット</a></li></ul></li><li><a href="#performance" class="table-of-contents__link toc-highlight">パフォーマンスの向上</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">まとめ</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">All rights reserved © 2024 STMicroelectronics | <a href="https://www.st.com/content/st_com/ja/common/terms-of-use.html">ご利用条件</a> | <a href="https://www.st.com/content/st_com/ja/common/privacy-policy.html">プライバシー･ポリシー</a> | <a href="/docs/miscellaneous/cookie-policy">Cookieポリシー</a> | <a href="https://app-de.onetrust.com/app/#/webform/2b87200d-4023-4588-9df7-ab0cdea1a67e">権利行使</a></div></div></div></footer></div></div>
<script src="/4.25/ja/assets/js/runtime~main.b1953020.js"></script>
<script src="/4.25/ja/assets/js/main.caf5b39c.js"></script>
</body>
</html>