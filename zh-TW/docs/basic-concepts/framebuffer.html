<!doctype html>
<html lang="zh-TW" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-basic-concepts/framebuffer" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">影像緩衝區 | TouchGFX Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://support.touchgfx.com/4.25/zh-TW/img/meta-image.png"><meta data-rh="true" name="twitter:image" content="https://support.touchgfx.com/4.25/zh-TW/img/meta-image.png"><meta data-rh="true" property="og:url" content="https://support.touchgfx.com/4.25/zh-TW/docs/basic-concepts/framebuffer"><meta data-rh="true" name="docusaurus_locale" content="zh-TW"><meta data-rh="true" name="docsearch:language" content="zh-TW"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="影像緩衝區 | TouchGFX Documentation"><meta data-rh="true" name="description" content="影像緩衝是記憶體的一部分，圖形引擎通過更新影像緩衝，將要在顯示器上顯示的下一幅圖像包含進來。"><meta data-rh="true" property="og:description" content="影像緩衝是記憶體的一部分，圖形引擎通過更新影像緩衝，將要在顯示器上顯示的下一幅圖像包含進來。"><link data-rh="true" rel="icon" href="/4.25/zh-TW/img/favicon.png"><link data-rh="true" rel="canonical" href="https://support.touchgfx.com/4.25/zh-TW/docs/basic-concepts/framebuffer"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/docs/basic-concepts/framebuffer" hreflang="en"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/ko/docs/basic-concepts/framebuffer" hreflang="ko"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/ja/docs/basic-concepts/framebuffer" hreflang="ja"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/zh-CN/docs/basic-concepts/framebuffer" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/zh-TW/docs/basic-concepts/framebuffer" hreflang="zh-TW"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/docs/basic-concepts/framebuffer" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://B8LNOI0XWD-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="TouchGFX Documentation" href="/4.25/zh-TW/opensearch.xml">


<script src="/4.25/zh-TW/js/one-trust.js"></script>
<script src="/4.25/js/fix-location.js"></script><link rel="stylesheet" href="/4.25/zh-TW/assets/css/styles.6e57ba1f.css">
<link rel="preload" href="/4.25/zh-TW/assets/js/runtime~main.5b355590.js" as="script">
<link rel="preload" href="/4.25/zh-TW/assets/js/main.d2104bed.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><div role="region" aria-label="跳轉到主要內容"><a class="skipToContent_xAYN" href="#__docusaurus_skipToContent_fallback">跳轉到主要內容</a></div><nav aria-label="主要" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切換導覽列" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/4.25/zh-TW/docs/introduction/welcome"><div class="navbar__logo"><img src="/4.25/zh-TW/img/logo.svg" alt="TouchGFX" class="themedImage_m0dh themedImage--light_OZkp"><img src="/4.25/zh-TW/img/logo.svg" alt="TouchGFX" class="themedImage_m0dh themedImage--dark_ViMM"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/4.25/zh-TW/docs/introduction/welcome">文件</a><a class="navbar__item navbar__link" href="/4.25/zh-TW/docs/api/namespacetouchgfx">API</a><a class="navbar__item navbar__link" sidebarid="academy" href="/4.25/zh-TW/academy/academy-introduction">TouchGFX學院</a><a href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">社區</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/4.25/zh-TW/docs/introduction/welcome">4.25</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/4.25/zh-TW/docs/basic-concepts/framebuffer">4.25</a></li><li><a href="https://support.touchgfx.com/4.25" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.25<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.24" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.24<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.23" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.23<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.22" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.22<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.21" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.21<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.20" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.20<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.19" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.19<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.18" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.18<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.17" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.17<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.16" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.16<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.15" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.15<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.14" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.14<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.13" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.13<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">繁體中文</a><ul class="dropdown__menu"><li><a href="/4.25/docs/basic-concepts/framebuffer" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/4.25/ko/docs/basic-concepts/framebuffer" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/4.25/ja/docs/basic-concepts/framebuffer" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/4.25/zh-CN/docs/basic-concepts/framebuffer" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">简体中文</a></li><li><a href="/4.25/zh-TW/docs/basic-concepts/framebuffer" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-TW">繁體中文</a></li></ul></div><div class="searchBox_y6an"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_ovZa docsWrapper_a09d"><button aria-label="滾動返回頂部" class="clean-btn theme-back-to-top-button backToTopButton_PCdr" type="button"></button><div class="docPage_CL8Z"><aside class="theme-doc-sidebar-container docSidebarContainer_ThtD"><div class="sidebarViewport_mAJy"><div class="sidebar_Oq1e"><nav aria-label="文件側邊欄" class="menu thin-scrollbar menu_M44W"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/zh-TW/docs/category/introduction">介紹</a><button aria-label="切換可折疊邊欄類別“介紹”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/4.25/zh-TW/docs/category/basic-concepts">基本概念</a><button aria-label="切換可折疊邊欄類別“基本概念”" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/basic-concepts/embedded-graphics">嵌入式繪圖系統</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/basic-concepts/color-formats">色彩格式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/4.25/zh-TW/docs/basic-concepts/framebuffer">影像緩衝區</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/basic-concepts/graphics-engine">圖形引擎</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/basic-concepts/rendering">主迴圈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/basic-concepts/performance">性能</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/basic-concepts/operating-system">作業系統</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/basic-concepts/memory-usage">記憶體使用</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/zh-TW/docs/development/development-introduction">開發</a><button aria-label="切換可折疊邊欄類別“開發”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/zh-TW/docs/category/miscellaneous-1">其他情況</a><button aria-label="切換可折疊邊欄類別“其他情況”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/zh-TW/docs/category/resources">資源</a><button aria-label="切換可折疊邊欄類別“資源”" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_fxxJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_QTf6"><div id="doc-version-banner-identifier" class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>這是<!-- -->TouchGFX<!-- --> <b>4.25</b> 的文件，該版本不再被主動維護。</div><div class="margin-top--md">如需最新文件，請參閱<b><a href="https://support.touchgfx.com/docs/basic-concepts/framebuffer" target="_blank" rel="noopener noreferrer">最新版本</a></b>。</div></div><div class="docItemContainer_yTh1"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer__o78" aria-label="階層連結"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.25/zh-TW/docs/category/basic-concepts"><span itemprop="name">基本概念</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">影像緩衝區</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_CArF theme-doc-toc-mobile tocMobile_PMGv"><button type="button" class="clean-btn tocCollapsibleButton_I8Hj">在當前頁面</button></div><div class="theme-doc-markdown markdown"><header><h1>影像緩衝區</h1></header><p>影像緩衝是記憶體的一部分，圖形引擎通過更新影像緩衝，將要在顯示器上顯示的下一幅圖像包含進來。</p><p>幀緩衝是RAM的一個連續部分，具有指定大小。</p><div class="figure noshadow"><a href="/4.25/zh-TW/img/basic-concepts/framebuffer-contiguous-memory.svg" target="_blank"><img src="/4.25/zh-TW/img/basic-concepts/framebuffer-contiguous-memory.svg"></a><p>影像緩衝記憶體</p></div><p>影像緩衝具有相應的寬度和高度。 因此，我們通常將影像緩衝視為記憶體的一個二維部分，可通過x、y座標檢索。</p><div class="figure noshadow"><a href="/4.25/zh-TW/img/basic-concepts/framebuffer-2d-memory.svg" target="_blank"><img src="/4.25/zh-TW/img/basic-concepts/framebuffer-2d-memory.svg"></a><p>二維影像緩衝記憶體</p></div><p>影像緩衝具有相應的色彩格式。 影像緩衝中的每個條目都是該色彩格式下的色彩。 我們將影像緩衝中的每一個這樣的條目稱為像素。</p><p>通過計算影像緩衝中像素的儲存位址和更新存儲的色彩，可以更新影像緩衝中位置 x,y 處的像素色彩。</p><div class="language-cpp codeBlockContainer_xMD_ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_JIBA"><pre tabindex="0" class="prism-code language-cpp codeBlock_uX6S thin-scrollbar"><code class="codeBlockLines_ZLum"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> pixelAddress </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> y </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> WIDTH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">framebuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> pixelAddress </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> newColor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__VZb"><button type="button" aria-label="複製程式碼到剪貼板" title="複製" class="clean-btn"><span class="copyButtonIcons_TYFZ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dFlr"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_amKQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>同樣地，我們可以獲取影像緩衝中像素的色彩並用在計算中。 例如，暗化影像緩衝中像素的色彩（假設有<code>暗化</code>函數可用）。</p><div class="language-cpp codeBlockContainer_xMD_ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_JIBA"><pre tabindex="0" class="prism-code language-cpp codeBlock_uX6S thin-scrollbar"><code class="codeBlockLines_ZLum"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">uint32_t</span><span class="token plain"> pixelAddress </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> x </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> y </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> WIDTH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">framebuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> pixelAddress </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">darken</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> framebuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> pixelAddress </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__VZb"><button type="button" aria-label="複製程式碼到剪貼板" title="複製" class="clean-btn"><span class="copyButtonIcons_TYFZ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dFlr"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_amKQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>對於影像緩衝記憶體，通常不會如前文所述逐一讀寫像素，而是利用系統的底層硬體功能（如Chrom-ART DMA）進行讀寫。</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="colors">顏色<a href="#colors" class="hash-link" aria-label="直接連結到顏色" title="直接連結到顏色">​</a></h2><p>在TouchGFX中，影像緩衝的像素色彩格式可以是：</p><ul><li><strong>灰度</strong>1、2或4位元每像素（bpp）灰度，或者</li><li><strong>高或真彩</strong>16、24或32 bpp色彩</li></ul><p>每個像素使用的位元數越多，影像緩衝能夠呈現的顏色就越清晰，此外，每個像素使用的位元數越多，影像緩衝消耗的儲存空間就越多。</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="display">Display<a href="#display" class="hash-link" aria-label="直接連結到Display" title="直接連結到Display">​</a></h2><p>影像緩衝的內容最終會被傳輸並顯示在顯示器上。 因此，影像緩衝與顯示器的像素寬度和高度相同是十分常見的。</p><div class="figure noshadow"><a href="/4.25/zh-TW/img/basic-concepts/display-and-framebuffer.svg" target="_blank"><img src="/4.25/zh-TW/img/basic-concepts/display-and-framebuffer.svg"></a><p>24 bpp影像緩衝內容和顯示器顯示內容</p></div><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content">參見關於<a href="/4.25/zh-TW/docs/development/hardware-selection/hardware-components/hardware-selection-display">顯示器技術</a>的部分瞭解不同顯示器類型。</div></div><h2 class="anchor anchorWithStickyNavbar_k1OW" id="location-of-framebuffer">影像緩衝的位置<a href="#location-of-framebuffer" class="hash-link" aria-label="直接連結到影像緩衝的位置" title="直接連結到影像緩衝的位置">​</a></h2><p>下面是一個基於微控制器的繪圖系統的簡圖。</p><div class="figure noshadow"><a href="/4.25/zh-TW/img/basic-concepts/simplified-graphics-system.webp" target="_blank"><img width="400" src="/4.25/zh-TW/img/basic-concepts/simplified-graphics-system.webp"></a><p>繪圖系統簡圖</p></div><p>影像緩衝可以位於MCU或外部RAM中。</p><div class="figure noshadow"><a href="/4.25/zh-TW/img/basic-concepts/framebuffer-placement.webp" target="_blank"><img width="600" src="/4.25/zh-TW/img/basic-concepts/framebuffer-placement.webp"></a><p>影像緩衝的可能位置</p></div><p>每個可能位置都具有潛在的優勢和不足。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="internal-ram">內部RAM<a href="#internal-ram" class="hash-link" aria-label="直接連結到內部RAM" title="直接連結到內部RAM">​</a></h3><p>如果影像緩衝位於MCU內部的RAM中，對影像緩衝的讀和寫存取會盡可能快地完成。 這意味著TouchGFX應用的運行會盡可能平穩。 反過來，內部RAM是十分稀少的資源，被系統的許多元件使用，因此，影像緩衝大量佔用內部RAM也不可行。</p><p>如果可行，由於無需額外的RAM，在內部RAM中提供影像緩衝可以降低系統的總體成本。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="external-ram">外部RAM<a href="#external-ram" class="hash-link" aria-label="直接連結到外部RAM" title="直接連結到外部RAM">​</a></h3><p>如果系統有外部RAM，可以選擇在外部RAM而不是內部RAM中提供影像緩衝。 對外部RAM的讀和寫存取通常會比內部RAM慢，但外部RAM的空間量通常大得多。 因此，有時候這是唯一可行的解決方案。</p><p>MCU可能具有一些功能（如快取記憶體），可加快外部RAM的存取速度。 參見關於<a href="/4.25/zh-TW/docs/development/hardware-selection/hardware-components/hardware-selection-mcu">MCU</a>的部分瞭解詳細資訊。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="display-with-gram">Display with GRAM<a href="#display-with-gram" class="hash-link" aria-label="直接連結到Display with GRAM" title="直接連結到Display with GRAM">​</a></h3><p>Depending on the type of display in the system there might be memory embedded on the display (often called GRAM). 此記憶體儲存顯示器“實際”像素的內容。 顯示器中有此像素記憶體，意味著在顯示器仍活動時，MCU可能處於空閒狀態。</p><p>由於顯示器記憶體並非記憶體映射，既不打算也不適合用於像素的隨機讀取或寫入，因此不可能在顯示器RAM中提供TouchGFX影像緩衝。 相反，TouchGFX將影像緩衝置於內部或外部RAM中，並在適當的時候將其傳輸到顯示器RAM。</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="memory-consumption">儲存空間消耗<a href="#memory-consumption" class="hash-link" aria-label="直接連結到儲存空間消耗" title="直接連結到儲存空間消耗">​</a></h2><p>影像緩衝中的色彩數量和像素數量決定了影像緩衝消耗的儲存空間。</p><p>影像緩衝使用的儲存空間通常為 寬 <em> 高 </em> 以位元數計的色深 / 8 位元組數。</p><table><thead><tr><th align="right">解析度（像素）</th><th align="right">色彩（bpp）</th><th align="right">計算</th><th align="right">消耗的儲存空間（位元組）</th></tr></thead><tbody><tr><td align="right">800x480</td><td align="right">16 bpp</td><td align="right">800 <em> 480 </em> 16 / 8</td><td align="right">768,000 B</td></tr><tr><td align="right">480x272</td><td align="right">24 bpp</td><td align="right">480 <em> 272 </em> 24 / 8</td><td align="right">391,680 B</td></tr><tr><td align="right">100x100</td><td align="right">8 bpp</td><td align="right">100 <em> 100 </em>  8 / 8</td><td align="right">10,000 B</td></tr></tbody></table><p>當具有一個以上的影像緩衝時，消耗的存儲空間相對地較大。 例如，當使用雙重影像緩衝方案時，使用兩個影像緩衝會消耗兩倍的儲存空間。</p><p>當影像緩衝不足一個時，由應用明確地分配和控制存儲空間的量。 因此，存儲空間的消耗量是完全可定制的，但應注意的是，使用量過少會影響整體圖形性能。</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="framebuffer-strategies">Framebuffer Strategies<a href="#framebuffer-strategies" class="hash-link" aria-label="直接連結到Framebuffer Strategies" title="直接連結到Framebuffer Strategies">​</a></h2><p>Framebuffer strategy is a core feature, that enables you to make the most optimal match between TouchGFX rendering and your existing hardware (MCU, RAM and Display). In case you are selecting new hardware, it is recommended to get familiar with the available framebuffer strategies in relation to your use case. The right choice can help optimize your hardware cost, i.e. assist you in selecting the minimum required hardware in terms of the amount of RAM for framebuffer(s) and the suitable display interface.</p><p>A framebuffer strategy defines how much RAM is used for framebuffers and controls how TouchGFX renders to the RAM. The strategy must match the available RAM and the type of display in the system. TouchGFX offers three different strategies, applicable on display systems with and without GRAM. Below is an overview of the strategies, highlighting their advantages and drawbacks in relation to display systems.</p><h4 class="anchor anchorWithStickyNavbar_k1OW" id="display-without-gram-table">Displays without GRAM<a href="#display-without-gram-table" class="hash-link" aria-label="直接連結到Displays without GRAM" title="直接連結到Displays without GRAM">​</a></h4><table><thead><tr><th>Strategy</th><th>Advantages</th><th>Drawbacks</th><th>Use Cases</th></tr></thead><tbody><tr><td>Double</td><td>No risk of tearing, optimal time for rendering</td><td>RAM for 2 framebuffers</td><td>High performance UIs</td></tr><tr><td>Single</td><td>Only RAM for 1 framebuffer</td><td>Risk of tearing, suboptimal time for rendering</td><td>High - Moderate performance UIs</td></tr><tr><td>Partial</td><td>Only RAM for less than a framebuffer</td><td>Higher risk of tearing, higher CPU load</td><td>Moderate - Low performance UIs</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_k1OW" id="display-with-gram-table">Displays with GRAM<a href="#display-with-gram-table" class="hash-link" aria-label="直接連結到Displays with GRAM" title="直接連結到Displays with GRAM">​</a></h4><table><thead><tr><th>Strategy</th><th>Advantages</th><th>Drawbacks</th><th>Use Cases</th></tr></thead><tbody><tr><td>Double</td><td>No risk of tearing, optimal time for rendering</td><td>RAM for 2 framebuffers</td><td>High performance UIs</td></tr><tr><td>Single</td><td>Only RAM for 1 framebuffer, no risk of tearing</td><td>Suboptimal time for rendering</td><td>High - Moderate performance UIs</td></tr><tr><td>Partial</td><td>Only RAM for less than a framebuffer</td><td>Risk of tearing</td><td>Moderate - Low performance UIs</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_k1OW" id="tearing">Tearing<a href="#tearing" class="hash-link" aria-label="直接連結到Tearing" title="直接連結到Tearing">​</a></h3><p>Tearing is a visual artifact on the display where pixel data from two frames are shown in one screen draw, e.g. the screen has half of an old frame and half of a current one, with a clean horizontal split across (the tear). The location of the tear varies according to timing, it usually jumps all over the place, which can be distracting.</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="framebuffer-strategy-performance">UI Performance<a href="#framebuffer-strategy-performance" class="hash-link" aria-label="直接連結到UI Performance" title="直接連結到UI Performance">​</a></h3><p>In the general <a href="/4.25/zh-TW/docs/basic-concepts/performance">Performance</a> article, you will be introduced to aspects of UI performance, which covers how the individual UI components and there structure impacts performance. In the context of framebuffer strategy we think of:</p><ul><li>High performance, as UIs that uses multiple complex UI components/animations, e.g. Texture Mappers, SVGs, screen transitions</li><li>Moderate performance, as UIs that uses few complex UI components/animations</li><li>Low performance, as UIs that uses no complex UI components/animations</li></ul><div class="highlight highlight-note"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></div>Note</h5></div><div class="highlight-content">The above examples are not definitive. Keep in mind that the UI performance depend on your hardware and UI design.</div></div><h3 class="anchor anchorWithStickyNavbar_k1OW" id="framebuffer-strategies-glossary">Glossary<a href="#framebuffer-strategies-glossary" class="hash-link" aria-label="直接連結到Glossary" title="直接連結到Glossary">​</a></h3><p>The following terms are used to describe the different framebuffer strategies.</p><ul><li><strong>Display Controller (DC)</strong> - The hardware that reads pixels from memory. Is continuously reading the memory containing pixels. Sometimes referred to as the <em>scanline</em>.</li><li><strong>Display Transfer (DT)</strong> - The hardware responsible of transferring pixels from framebuffer memory to GRAM. Is only initiated by the MCU when required. Sometimes referred to as the <em>transferline</em>.</li><li><strong>Framebuffer Write (W)</strong> - The rendering of pixels to the framebuffer.</li></ul><h3 class="anchor anchorWithStickyNavbar_k1OW" id="display-without-gram-framebuffer-strategies">Displays without GRAM<a href="#display-without-gram-framebuffer-strategies" class="hash-link" aria-label="直接連結到Displays without GRAM" title="直接連結到Displays without GRAM">​</a></h3><p>The following demonstrates the working concept of framebuffer strategies on displays without GRAM. Common for all strategies are the use of a Display Controller which continuously reads pixel data directly from a framebuffer.</p><h4 class="anchor anchorWithStickyNavbar_k1OW" id="display-without-gram-double-buffering">Double Buffering Strategy<a href="#display-without-gram-double-buffering" class="hash-link" aria-label="直接連結到Double Buffering Strategy" title="直接連結到Double Buffering Strategy">​</a></h4><p>Having two framebuffers allows rendering of the next frame into one framebuffer while the Display Controller scans the other framebuffer. Render time of the next frame is unrestricted by the Display Controller. Swapping framebuffers is blocked until the next frame is ready, meaning no risk of tearing because the Display Controller just scans the current framebuffer once again. The framebuffers are swapped after the Display Controller has scanned the entire framebuffer and the rendering is complete.</p><div class="figure noshadow"><a href="/4.25/zh-TW/img/basic-concepts/ltdc-double.png" target="_blank"><img width="650" src="/4.25/zh-TW/img/basic-concepts/ltdc-double.png"></a><p>Double Buffering Strategy Concept</p></div><h4 class="anchor anchorWithStickyNavbar_k1OW" id="display-without-gram-single-buffering">Single Buffering Strategy<a href="#display-without-gram-single-buffering" class="hash-link" aria-label="直接連結到Single Buffering Strategy" title="直接連結到Single Buffering Strategy">​</a></h4><p>Having one framebuffer allows rendering of the next frame into the same framebuffer as the Display Controller scans from. Render time of the next frame is restricted by the Display Controller. The Display Controller scans continuously, so if writing to the framebuffer takes too long, the Display Controller will collide (catch up) with the writing area and tearing will occur. This is caused by rendering complex UI components.</p><div class="figure noshadow"><a href="/4.25/zh-TW/img/basic-concepts/ltdc-single.png" target="_blank"><img width="400" src="/4.25/zh-TW/img/basic-concepts/ltdc-single.png"></a><p>Single Buffering Strategy Concept</p></div><h4 class="anchor anchorWithStickyNavbar_k1OW" id="display-without-gram-partial-buffering">Partial Buffering Strategy<a href="#display-without-gram-partial-buffering" class="hash-link" aria-label="直接連結到Partial Buffering Strategy" title="直接連結到Partial Buffering Strategy">​</a></h4><p>A single partial framebuffer block is used to emulate a full size framebuffer through a Memory Management Unit (MMU). Therefore this strategy is also known as <em>Emulated Framebuffer Strategy</em>.</p><p>The partial block acts as a sliding window moving down through the emulated framebuffer, with the phase and speed of the Display Controller.</p><p>Having a partial framebuffer block only allows rendering of a small portion of the next frame, because the block is reused multiple times to render the current frame. The reuse of the partial block results in a large number of small rendering operations, which result in higher CPU load. Render time of the next frame is restricted by the Display Controller and the partial block size. The Display Controller scans continuously, so if writing to the partial framebuffer block takes too long for any given region of the emulated framebuffer, the Display Controller will collide (catch up) with the writing area and tearing will occur. This is caused by rendering complex UI components. Compared to the Single Buffering Strategy the risk of tearing is higher because the working area of the Display Controller and framebuffer rendering is much smaller.</p><div class="figure noshadow"><a href="/4.25/zh-TW/img/basic-concepts/ltdc-partial.png" target="_blank"><img width="700" src="/4.25/zh-TW/img/basic-concepts/ltdc-partial.png"></a><p>Partial Buffering Strategy Concept</p></div><div class="highlight highlight-note"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></div>Note</h5></div><div class="highlight-content">This strategy is only available on MCUs with a <a href="https://www.st.com/resource/en/application_note/an5051-graphic-memory-optimization-with-stm32-chromgrc-stmicroelectronics.pdf" target="_blank" rel="noopener noreferrer">STM32 Chrom-GRC (GFXMMU)</a></div></div><h3 class="anchor anchorWithStickyNavbar_k1OW" id="display-with-gram-framebuffer-strategies">Displays with GRAM<a href="#display-with-gram-framebuffer-strategies" class="hash-link" aria-label="直接連結到Displays with GRAM" title="直接連結到Displays with GRAM">​</a></h3><p>The following demonstrates the working concept of framebuffer strategies on GRAM displays. Common for all strategies are the use of a Display Interface used for transferring pixel data from a framebuffer to the GRAM on the display.</p><h4 class="anchor anchorWithStickyNavbar_k1OW" id="display-with-gram-double-buffering">Double Buffering Strategy<a href="#display-with-gram-double-buffering" class="hash-link" aria-label="直接連結到Double Buffering Strategy" title="直接連結到Double Buffering Strategy">​</a></h4><p>Having two framebuffers allows rendering of the next frame into one framebuffer while the pixels are transferred to GRAM from the other. Render time of the next frame is unrestricted by the Display Transfer. Display transfers are only initiated when the next frame is ready, meaning no risk of tearing because the Display Controller just scans what is already in GRAM. The framebuffers are swapped after the display transfer and the rendering is complete.</p><div class="figure noshadow"><a href="/4.25/zh-TW/img/basic-concepts/gram-double.png" target="_blank"><img src="/4.25/zh-TW/img/basic-concepts/gram-double.png"></a><p>Double Buffering Strategy Concept</p></div><h4 class="anchor anchorWithStickyNavbar_k1OW" id="display-with-gram-single-buffering">Single Buffering Strategy<a href="#display-with-gram-single-buffering" class="hash-link" aria-label="直接連結到Single Buffering Strategy" title="直接連結到Single Buffering Strategy">​</a></h4><p>Having one framebuffer allows rendering of the next frame into the same framebuffer where pixels are transferred to GRAM. Render time of the next frame is restricted by the Display Transfer bandwidth. Display transfers are only initiated when the next frame is ready, meaning no risk of tearing because the Display Controller just scans what is already in GRAM. Rendering of the next frame cannot complete before the corresponding area to update has been transferred to GRAM.</p><div class="figure noshadow"><a href="/4.25/zh-TW/img/basic-concepts/gram-single.png" target="_blank"><img width="700" src="/4.25/zh-TW/img/basic-concepts/gram-single.png"></a><p>Single Buffering Strategy Concept</p></div><h4 class="anchor anchorWithStickyNavbar_k1OW" id="display-with-gram-partial-buffering">Partial Buffering Strategy<a href="#display-with-gram-partial-buffering" class="hash-link" aria-label="直接連結到Partial Buffering Strategy" title="直接連結到Partial Buffering Strategy">​</a></h4><p>One or more partial framebuffer blocks are used to emulate a full size framebuffer.</p><p>The partial blocks are reused to render all parts of the current frame that needs to be updated. When a block is rendered it can be transferred to GRAM and used for subsequent rendering.</p><p>To minimize the risk of tearing we strive to have the largest margin between GRAM being updated by the Display Transfer and the Display Controller scanline. This is done be having the transferline behind the scanline, which means that we can only render the current frame and not begin rendering the next frame. Render time of the current frame depends on the number of partial blocks defined and the time it takes to transfer each block. This means that we are allowed to render a block that is ahead of the Display Controller scanline if a block is available. If rendering and transferring of all the dirty areas of the current frame takes longer than the Display Controller its scanline can wrap around and catch the transferline, resulting in tearing. This is caused by rendering complex UI components and/or transferring too many pixels.</p><div class="figure noshadow"><a href="/4.25/zh-TW/img/basic-concepts/gram-partial.png" target="_blank"><img width="700" src="/4.25/zh-TW/img/basic-concepts/gram-partial.png"></a><p>Partial Buffering Strategy Concept</p></div><h3 class="anchor anchorWithStickyNavbar_k1OW" id="framebuffer-strategy-getting-started">Getting Started with Framebuffer Strategies<a href="#framebuffer-strategy-getting-started" class="hash-link" aria-label="直接連結到Getting Started with Framebuffer Strategies" title="直接連結到Getting Started with Framebuffer Strategies">​</a></h3><p>In the following section we will show common hardware setups and point to scenarios on how to use framebuffer strategies on various hardware setups.</p><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content">See article <a href="/4.25/zh-TW/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/display#buffering-strategies">Buffering Strategies &amp; Location</a> on how to configure a framebuffer strategy through the TouchGFX Generator.</div></div><h4 class="anchor anchorWithStickyNavbar_k1OW" id="displays-with-gram-getting-started">Displays with GRAM<a href="#displays-with-gram-getting-started" class="hash-link" aria-label="直接連結到Displays with GRAM" title="直接連結到Displays with GRAM">​</a></h4><p>This display type has a dedicated RAM buffer with the same size as the display, i.e. a full size framebuffer.</p><div class="figure noshadow"><a href="/4.25/zh-TW/img/basic-concepts/display-with-gram.webp" target="_blank"><img width="700" src="/4.25/zh-TW/img/basic-concepts/display-with-gram.webp"></a><p>Display with GRAM</p></div><p>The interfaces for this type of display are:</p><ul><li>FMC</li><li>SPI</li><li>DSI (Command Mode)</li></ul><p>Scenarios demonstrating the use of these interfaces can be found here:</p><ul><li><a href="/4.25/zh-TW/docs/development/touchgfx-hal-development/scenarios/scenarios-fmc">FMC Display Interface</a></li><li><a href="/4.25/zh-TW/docs/development/touchgfx-hal-development/scenarios/scenarios-spi">SPI Display Interface</a></li><li><a href="/4.25/zh-TW/docs/development/touchgfx-hal-development/scenarios/scenarios-dsi-command-mode">DSI (Command Mode) Display Interface</a></li></ul><h4 class="anchor anchorWithStickyNavbar_k1OW" id="displays-without-gram-getting-started">Displays without GRAM<a href="#displays-without-gram-getting-started" class="hash-link" aria-label="直接連結到Displays without GRAM" title="直接連結到Displays without GRAM">​</a></h4><p>This display type doesn&#x27;t have a dedicated RAM buffer.</p><div class="figure noshadow"><a href="/4.25/zh-TW/img/basic-concepts/display-without-gram.webp" target="_blank"><img width="600" src="/4.25/zh-TW/img/basic-concepts/display-without-gram.webp"></a><p>Display without GRAM</p></div><p>The interfaces for this type of display are:</p><ul><li>LTDC</li><li>DSI (Video Mode)</li></ul><p>Scenarios demonstrating the use of these interfaces can be found here:</p><ul><li><a href="/4.25/zh-TW/docs/development/touchgfx-hal-development/scenarios/scenarios-ltdc-parallel-rgb">LTDC Display Interface</a></li><li><a href="/4.25/zh-TW/docs/development/touchgfx-hal-development/scenarios/scenarios-dsi-video-mode">MIPI-DSI Video Mode</a></li></ul><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content">The <a href="https://www.st.com/content/ccc/resource/technical/document/application_note/group0/25/ca/f9/b4/ae/fc/4e/1e/DM00287603/files/DM00287603.pdf/jcr:content/translations/en.DM00287603.pdf" target="_blank" rel="noopener noreferrer">STM32 LTDC</a> display controller document has further details on framebuffers.</div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件頁面導航"><a class="pagination-nav__link pagination-nav__link--prev" href="/4.25/zh-TW/docs/basic-concepts/color-formats"><div class="pagination-nav__sublabel">上一個</div><div class="pagination-nav__label">色彩格式</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/4.25/zh-TW/docs/basic-concepts/graphics-engine"><div class="pagination-nav__sublabel">下一個</div><div class="pagination-nav__label">圖形引擎</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cuXu thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#colors" class="table-of-contents__link toc-highlight">顏色</a></li><li><a href="#display" class="table-of-contents__link toc-highlight">Display</a></li><li><a href="#location-of-framebuffer" class="table-of-contents__link toc-highlight">影像緩衝的位置</a><ul><li><a href="#internal-ram" class="table-of-contents__link toc-highlight">內部RAM</a></li><li><a href="#external-ram" class="table-of-contents__link toc-highlight">外部RAM</a></li><li><a href="#display-with-gram" class="table-of-contents__link toc-highlight">Display with GRAM</a></li></ul></li><li><a href="#memory-consumption" class="table-of-contents__link toc-highlight">儲存空間消耗</a></li><li><a href="#framebuffer-strategies" class="table-of-contents__link toc-highlight">Framebuffer Strategies</a><ul><li><a href="#tearing" class="table-of-contents__link toc-highlight">Tearing</a></li><li><a href="#framebuffer-strategy-performance" class="table-of-contents__link toc-highlight">UI Performance</a></li><li><a href="#framebuffer-strategies-glossary" class="table-of-contents__link toc-highlight">Glossary</a></li><li><a href="#display-without-gram-framebuffer-strategies" class="table-of-contents__link toc-highlight">Displays without GRAM</a></li><li><a href="#display-with-gram-framebuffer-strategies" class="table-of-contents__link toc-highlight">Displays with GRAM</a></li><li><a href="#framebuffer-strategy-getting-started" class="table-of-contents__link toc-highlight">Getting Started with Framebuffer Strategies</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">保留所有權利 © 2024 STMicroelectronics | <a href="https://www.st.com/content/st_com/en/common/terms-of-use.html">使用條款</a> | <a href="https://www.st.com/content/st_com/en/common/privacy-policy.html">隱私權政策</a> | <a href="https://app-de.onetrust.com/app/#/webform/2b87200d-4023-4588-9df7-ab0cdea1a67e">行使您的權利</a></div></div></div></footer></div></div>
<script src="/4.25/zh-TW/assets/js/runtime~main.5b355590.js"></script>
<script src="/4.25/zh-TW/assets/js/main.d2104bed.js"></script>
</body>
</html>