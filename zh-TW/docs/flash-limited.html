<!doctype html>
<html lang="zh-TW" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-development/scenarios/flash-limited-gui-development" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">快閃記憶體受限的GUI開發 | TouchGFX Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://support.touchgfx.com/4.25/zh-TW/img/meta-image.png"><meta data-rh="true" name="twitter:image" content="https://support.touchgfx.com/4.25/zh-TW/img/meta-image.png"><meta data-rh="true" property="og:url" content="https://support.touchgfx.com/4.25/zh-TW/docs/flash-limited"><meta data-rh="true" name="docusaurus_locale" content="zh-TW"><meta data-rh="true" name="docsearch:language" content="zh-TW"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="快閃記憶體受限的GUI開發 | TouchGFX Documentation"><meta data-rh="true" name="description" content="本文說明如何在使用少量快閃記憶體的情況下以TouchGFX開發圖形使用者介面。"><meta data-rh="true" property="og:description" content="本文說明如何在使用少量快閃記憶體的情況下以TouchGFX開發圖形使用者介面。"><link data-rh="true" rel="icon" href="/4.25/zh-TW/img/favicon.png"><link data-rh="true" rel="canonical" href="https://support.touchgfx.com/4.25/zh-TW/docs/flash-limited"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/docs/flash-limited" hreflang="en"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/ko/docs/flash-limited" hreflang="ko"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/ja/docs/flash-limited" hreflang="ja"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/zh-CN/docs/flash-limited" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/zh-TW/docs/flash-limited" hreflang="zh-TW"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/docs/flash-limited" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://B8LNOI0XWD-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="TouchGFX Documentation" href="/4.25/zh-TW/opensearch.xml">


<script src="/4.25/zh-TW/js/one-trust.js"></script>
<script src="/4.25/js/fix-location.js"></script><link rel="stylesheet" href="/4.25/zh-TW/assets/css/styles.6e57ba1f.css">
<link rel="preload" href="/4.25/zh-TW/assets/js/runtime~main.92e68c02.js" as="script">
<link rel="preload" href="/4.25/zh-TW/assets/js/main.f39b7cf6.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><div role="region" aria-label="跳轉到主要內容"><a class="skipToContent_xAYN" href="#__docusaurus_skipToContent_fallback">跳轉到主要內容</a></div><nav aria-label="主要" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切換導覽列" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/4.25/zh-TW/docs/introduction/welcome"><div class="navbar__logo"><img src="/4.25/zh-TW/img/logo.svg" alt="TouchGFX" class="themedImage_m0dh themedImage--light_OZkp"><img src="/4.25/zh-TW/img/logo.svg" alt="TouchGFX" class="themedImage_m0dh themedImage--dark_ViMM"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/4.25/zh-TW/docs/introduction/welcome">文件</a><a class="navbar__item navbar__link" href="/4.25/zh-TW/docs/api/namespacetouchgfx">API</a><a class="navbar__item navbar__link" sidebarid="academy" href="/4.25/zh-TW/academy/academy-introduction">TouchGFX學院</a><a href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">社區</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/4.25/zh-TW/docs/introduction/welcome">4.25</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/4.25/zh-TW/docs/flash-limited">4.25</a></li><li><a href="https://support.touchgfx.com/4.25" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.25<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.24" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.24<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.23" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.23<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.22" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.22<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.21" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.21<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.20" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.20<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.19" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.19<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.18" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.18<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.17" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.17<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.16" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.16<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.15" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.15<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.14" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.14<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.13" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.13<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">繁體中文</a><ul class="dropdown__menu"><li><a href="/4.25/docs/flash-limited" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/4.25/ko/docs/flash-limited" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/4.25/ja/docs/flash-limited" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/4.25/zh-CN/docs/flash-limited" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">简体中文</a></li><li><a href="/4.25/zh-TW/docs/flash-limited" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-TW">繁體中文</a></li></ul></div><div class="searchBox_y6an"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_ovZa docsWrapper_a09d"><button aria-label="滾動返回頂部" class="clean-btn theme-back-to-top-button backToTopButton_PCdr" type="button"></button><div class="docPage_CL8Z"><aside class="theme-doc-sidebar-container docSidebarContainer_ThtD"><div class="sidebarViewport_mAJy"><div class="sidebar_Oq1e"><nav aria-label="文件側邊欄" class="menu thin-scrollbar menu_M44W"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/zh-TW/docs/category/introduction">介紹</a><button aria-label="切換可折疊邊欄類別“介紹”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/zh-TW/docs/category/basic-concepts">基本概念</a><button aria-label="切換可折疊邊欄類別“基本概念”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/4.25/zh-TW/docs/development/development-introduction">開發</a><button aria-label="切換可折疊邊欄類別“開發”" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.25/zh-TW/docs/development/hardware-selection/hardware-selection-introduction">硬體選擇</a><button aria-label="切換可折疊邊欄類別“硬體選擇”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.25/zh-TW/docs/development/board-bring-up/board-introduction">開發板搭建</a><button aria-label="切換可折疊邊欄類別“開發板搭建”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.25/zh-TW/docs/development/touchgfx-hal-development/touchgfx-al-development-introduction">TouchGFX AL開發</a><button aria-label="切換可折疊邊欄類別“TouchGFX AL開發”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.25/zh-TW/docs/development/ui-development/ui-development-introduction">UI開發</a><button aria-label="切換可折疊邊欄類別“UI開發”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/4.25/zh-TW/docs/category/scenarios-2">場景</a><button aria-label="切換可折疊邊欄類別“場景”" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/development/scenarios/touchgfx-on-lowcost-hardware">低硬體成本上的TouchGFX</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/development/scenarios/touchgfx-on-gpu2d">NeoChrom/NeoChromVG上的TouchGFX</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/development/scenarios/running-graphics-on-stm32h7r">在 STM32H7R7 與 S7 上執行圖形處理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/development/scenarios/running-graphics-from-external-ram">從外部 RAM 執行圖形處理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/development/scenarios/lowering-memory-usage-with-partial-framebuffer">通過部分影像緩衝降低記憶體使用率</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/4.25/zh-TW/docs/flash-limited">快閃記憶體受限的GUI開發</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/development/scenarios/using-non-memory-mapped-flash">使用非記憶體映射快閃記憶體存儲影像</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/development/scenarios/using-serial-flash">使用串列快閃記憶體存儲圖像和字體</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/development/scenarios/fonts-in-unmapped-flash">對字體資料使用非記憶體映射快閃記憶體</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/development/scenarios/scenarios-change-pixelformat-bpp">更改應用程式的像素格式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/development/scenarios/scenarios-create-at">創建TouchGFX開發板配置</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/development/scenarios/example-gpio">外部事件作為觸發器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/development/scenarios/running-without-rtos">在STM32G071 Nucleo上運行的範例應用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/development/scenarios/adding-files-to-stm32cubemx-projet">在STM32CubeMX專案中添加檔</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/development/scenarios/converting-keil5-project-to-keil6">將 Keil 編譯器 5 專案轉換為 Keil 編譯器 6</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/docs/development/scenarios/cmake-as-build-system">CMake 作為建置系統</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/zh-TW/docs/category/miscellaneous-1">其他情況</a><button aria-label="切換可折疊邊欄類別“其他情況”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/zh-TW/docs/category/resources">資源</a><button aria-label="切換可折疊邊欄類別“資源”" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_fxxJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_QTf6"><div id="doc-version-banner-identifier" class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>這是<!-- -->TouchGFX<!-- --> <b>4.25</b> 的文件，該版本不再被主動維護。</div><div class="margin-top--md">如需最新文件，請參閱<b><a href="https://support.touchgfx.com/docs/development/scenarios/flash-limited-gui-development" target="_blank" rel="noopener noreferrer">最新版本</a></b>。</div></div><div class="docItemContainer_yTh1"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer__o78" aria-label="階層連結"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.25/zh-TW/docs/development/development-introduction"><span itemprop="name">開發</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.25/zh-TW/docs/category/scenarios-2"><span itemprop="name">場景</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">快閃記憶體受限的GUI開發</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_CArF theme-doc-toc-mobile tocMobile_PMGv"><button type="button" class="clean-btn tocCollapsibleButton_I8Hj">在當前頁面</button></div><div class="theme-doc-markdown markdown"><header><h1>快閃記憶體受限的GUI開發</h1></header><p>本文說明如何在使用少量快閃記憶體的情況下以TouchGFX開發圖形使用者介面。</p><p>使用TouchGFX產生程式碼時，圖像、文字及字型等資產會轉換為C++檔案，然後在程式設計期間與TouchGFX應用程式碼、使用者程式碼及TouchGFX庫一同儲存在快閃記憶體中。 因此如果是具有眾多資產的大型或複雜專案，將會使用大量快閃記憶體。</p><p>由於大部分應用程式的記憶體資源都有限，有一些方法可以減少所需的快閃記憶體容量。 TouchGFX有四種內建功能，可協助您大幅減少應用程式所需的快閃記憶體容量。 這四種概念為L8圖像格式、圖像壓縮、可縮放向量圖形(SVG)及向量字型。</p><p>本文將介紹如何使用這四種概念，以限制應用程式的快閃記憶體佔用空間。 測量是以STM32U5G9J-DK2執行，不過節省快閃記憶體的概念也可應用於其他硬體平台。</p><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content"><p>如需記憶體管理的詳細資訊，請閱讀<a href="/4.25/zh-TW/docs/basic-concepts/memory-usage">記憶體使用</a>一文。</p></div></div><h2 class="anchor anchorWithStickyNavbar_k1OW" id="flash-limited-e-bike-demo">快閃記憶體受限的電動自行車示範<a href="#flash-limited-e-bike-demo" class="hash-link" aria-label="直接連結到快閃記憶體受限的電動自行車示範" title="直接連結到快閃記憶體受限的電動自行車示範">​</a></h2><p>快閃記憶體受限的電動自行車示範，展示如何使用前述四種功能以TouchGFX節省快閃記憶體；您可在TouchGFX Designer之中參考此示範。 此示範為開發板專屬示範，適用於STM32U5G9J-DK2。 使用STM32U5G9J-DK2的優點之一就是其中具有NeoChromVG GPU，由硬體加速向量渲染。 不過L8圖像格式及圖像壓縮特別適合在所有STM32 MCU使用。</p><p>如果此示範僅以未壓縮的點陣圖實作(無L8、壓縮、SVG及向量字型)，可能會佔用約10.5 MB的快閃記憶體。 在使用四種概念節省快閃記憶體的實作中，此示範僅佔用約800 KB的快閃記憶體。 由此可見，節省大量快閃記憶體是可能做到的。 這四種概念在示範中合計節省了92%的快閃記憶體空間。</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="when-to-use-which-concept">各種概念的使用時機<a href="#when-to-use-which-concept" class="hash-link" aria-label="直接連結到各種概念的使用時機" title="直接連結到各種概念的使用時機">​</a></h2><p>以下是如何以TouchGFX使用四種概念節省快閃記憶體的技術資訊和指南：</p><ul><li><a href="/4.25/zh-TW/docs/development/ui-development/scenarios/using-the-l8-image-format-to-reduce-memory-consumption">L8圖像格式</a></li><li><a href="/4.25/zh-TW/docs/development/ui-development/touchgfx-engine-features/image-compression">圖像壓縮</a></li><li><a href="/4.25/zh-TW/docs/development/ui-development/touchgfx-engine-features/svg">SVG</a></li><li><a href="/4.25/zh-TW/docs/development/ui-development/touchgfx-engine-features/vector-fonts">向量字型</a></li></ul><p>這四種概念都能協助減少應用程式所需的快閃記憶體容量。 每種概念的使用時機需視情境而定，不過有些一般規則可供參考。 以下將進行說明。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="L8-and-compression">L8及壓縮<a href="#L8-and-compression" class="hash-link" aria-label="直接連結到L8及壓縮" title="直接連結到L8及壓縮">​</a></h3><p>在點陣圖使用L8圖像格式時，點陣圖最多會有256種色彩。 L8格式資產渲染是以<a href="/4.25/zh-TW/docs/development/hardware-selection/hardware-components/hardware-selection-mcu#chrom-art">Chrom-ART</a>進行硬體加速，因此L8點陣圖的渲染時間幾乎與一般點陣圖相同。 有時渲染L8格式點陣圖的速度甚至比一般點陣圖更快，原因是從快閃記憶體讀取的資料較少。 相較於色深32位元的一般點陣圖，L8可節省70%以上的快閃記憶體。</p><p>相較於L8，圖像壓縮可讓您節省更多快閃記憶體。 圖像壓縮有兩種格式：L8壓縮和RGB壓縮。 若要在點陣圖使用L8壓縮，首先點陣圖要採用L8格式，因為L8壓縮演算法會使用色彩查閱資料表。 因此，L8壓縮後的點陣圖仍有最多256色的限制。 部分L8壓縮演算法會進一步限制色彩數量上限。 L4限制為最多16種色彩，L8 RLE則限制為最多64種色彩。 RGB壓縮不要求點陣圖需為L8格式，因此適用於所有點陣圖。 L8點陣圖渲染是以Chrom-ART進行硬體加速，壓縮點陣圖(L8壓縮和RGB壓縮皆同)則不一樣，是以軟體進行渲染，因此渲染成本更高。 壓縮點陣圖的另一項限制，則是無法用於可縮放或可旋轉的小工具。</p><p>如果您的資產已經採用PNG格式，則L8圖像格式及圖像壓縮都易於使用。 一般來說，您在最多256色的點陣圖上一律使用L8圖像格式，不會造成任何顯著的效能影響。 如果您需要節省更多快閃記憶體，並具有可用的渲染時間達成所需效能，也可以使用L8圖像壓縮。 如果您想要壓縮與L8格式不相容的點陣圖，您可改用RGB壓縮。 如果您需要在可縮放或可旋轉的小工具使用點陣圖，就無法原生使用壓縮後的點陣圖。 當然我們有方法可以解決這項問題，稍後將簡短說明。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="SVG">SVG<a href="#SVG" class="hash-link" aria-label="直接連結到SVG" title="直接連結到SVG">​</a></h3><p>在資產節省快閃記憶體的另一種選項，就是讓資產採用SVG格式取代PNG格式。 SVG對色彩數量並無限制， 不過SVG的渲染成本通常高於L8及壓縮， 因此建議限制SVG數量，並盡量減少SVG動畫數量。 SVG資產越簡單，所佔用的快閃記憶體就越少，因此可達成更理想的效能。 為此我們建議僅使用單層SVG。</p><p>若要在SVG小工具使用資產，您需要匯入SVG格式的資產。 TouchGFX無法轉換資產。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="vector-fonts">向量字型<a href="#vector-fonts" class="hash-link" aria-label="直接連結到向量字型" title="直接連結到向量字型">​</a></h3><p>對於SVG格式的非字型資產，向量字型也需負擔昂貴的渲染成本，因為其渲染方式與SVG相同。 向量字型一般有利於使用大型字型，或使用多種不同大小的相同字型。 如果您有不同大小及向量表示的相同字型，只需要儲存字型一次即可。 之後您只需要一個縮放係數，即可呈現不同大小的字型。 如果是點陣圖字型，每種字型大小都需要個別儲存。 向量字型所節省的快閃記憶體，通常不及圖像壓縮及SVG所節省的多。 因此主要是在必須盡可能減少使用快閃記憶體的情況下，才應使用此項方法。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="examples">範例<a href="#examples" class="hash-link" aria-label="直接連結到範例" title="直接連結到範例">​</a></h3><p>為了提供不同概念特性的具體範例，我們以一般點陣圖、L8、L8 RLE壓縮、RGB壓縮及SVG格式，針對電動自行車示範的兩項資產進行測量。 我們在STM32U5G9J-DK2針對內部快閃記憶體之中的資產進行測量。 對於沒有NeoChrom GPU的MCU，SVG的渲染時間較長， 不過速度更快的CPU也可為此提供補償。</p><p>以下資產的色深為32位元，是頂端具有圖示的按鈕。 按鈕為122 x 112 px，圖示為72 x 72 px。</p><div class="figure"><a href="/4.25/zh-TW/img/development/scenarios/flash-limited-gui-development/button-with-icon.webp" target="_blank"><img src="/4.25/zh-TW/img/development/scenarios/flash-limited-gui-development/button-with-icon.webp"></a><p>電動自行車示範的含圖示按鈕</p></div><p>以下是在資產執行的測量結果：</p><table><thead><tr><th><strong>格式</strong></th><th><strong>大小</strong></th><th><strong>百分比</strong></th><th><strong>渲染時間</strong></th><th><strong>CPU負載</strong></th></tr></thead><tbody><tr><td>點陣圖：</td><td>75.4 KB</td><td>100%</td><td>0.414 ms</td><td>2.4%</td></tr><tr><td>L8：</td><td>19.3 KB</td><td>25.6%</td><td>0.448 ms</td><td>2.3%</td></tr><tr><td>L8 RLE：</td><td>2.55 KB</td><td>3.4%</td><td>1.51 ms</td><td>9.6%</td></tr><tr><td>RGB：</td><td>4.53 KB</td><td>12.0%</td><td>1.65 ms</td><td>10.5%</td></tr><tr><td>SVG：</td><td>3.01 KB</td><td>4.0%</td><td>1.43 ms</td><td>4.1%</td></tr></tbody></table><p>由此可見，L8 RLE所佔用的快閃記憶體最少，不過渲染時間比一般點陣圖格式多出近1 ms。</p><p>以下資產色深32位元，是示範儀表板螢幕中儀錶的一部分， 尺寸為150 x 436 px。</p><div class="figure"><a href="/4.25/zh-TW/img/development/scenarios/flash-limited-gui-development/gauge-part.webp" target="_blank"><img src="/4.25/zh-TW/img/development/scenarios/flash-limited-gui-development/gauge-part.webp"></a><p>電動自行車示範儀錶的一部分</p></div><p>以下是在資產執行的測量結果：</p><table><thead><tr><th><strong>格式</strong></th><th><strong>大小</strong></th><th><strong>百分比</strong></th><th><strong>渲染時間</strong></th><th><strong>CPU負載</strong></th></tr></thead><tbody><tr><td>點陣圖：</td><td>261.6 KB</td><td>100%</td><td>1.15 ms</td><td>1.5%</td></tr><tr><td>L8：</td><td>65.6 KB</td><td>25.1%</td><td>1.24 ms</td><td>1.4%</td></tr><tr><td>L8 RLE：</td><td>4.66 KB</td><td>1.78%</td><td>2.75 ms</td><td>15.0%</td></tr><tr><td>RGB：</td><td>10.5 KB</td><td>4.01%</td><td>3.08 ms</td><td>17.6%</td></tr><tr><td>SVG：</td><td>0.686 KB</td><td>0.27%</td><td>3.40 ms</td><td>2.0%</td></tr></tbody></table><p>SVG格式資產佔用的快閃記憶體遠低於其他格式，不過渲染成本也是最高。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="concept-conclusion">結論<a href="#concept-conclusion" class="hash-link" aria-label="直接連結到結論" title="直接連結到結論">​</a></h3><p>如前所見，沒有哪一種格式是所有資產的最佳選擇。 不過光就節省快閃記憶體來看，對小型資產而言，L8圖像壓縮佔用的快閃記憶體最少，如果是大型資產，則SVG佔用的快閃記憶體最少。 雖然SVG資產可擁有256種以上色彩，但為了快閃記憶體使用量及效能因素，還是建議讓SVG資產保持簡單。 L8圖像格式在L8、圖像壓縮及SVG之中所佔用的快閃記憶體最多，不過渲染時間最短。</p><p>因此在開發快閃記憶體受限的應用程式時，您需要找出瓶頸，並決定應用程式最重要的考量因素為何。 是效能比較重要，還是節省快閃記憶體比較重要？ 如果效能比較重要，L8就是最有效的方法。 如果效能允許的話，您甚至可以在部分資產合併使用壓縮方法。 如果盡可能減少使用快閃記憶體最重要，圖像壓縮及SVG就是最理想的方法。</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="smart-assets">使用「聰明的」資產<a href="#smart-assets" class="hash-link" aria-label="直接連結到使用「聰明的」資產" title="直接連結到使用「聰明的」資產">​</a></h2><p>使用所謂的「聰明的」資產可節省更多快閃記憶體及提升效能。 本文所述的聰明的資產，是指資產本身及其使用方式。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="simple-assets">簡易資產<a href="#simple-assets" class="hash-link" aria-label="直接連結到簡易資產" title="直接連結到簡易資產">​</a></h3><p>首先，資產越簡單，所能壓縮的程度就越高，SVG定義也會更簡單， 最終可減少使用快閃記憶體。</p><p>作為參考，電動自行車示範中的所有點陣圖資產最多64色；由於資產也適合使用L8 RLE，因此所有點陣圖資產都採用L8 RLE壓縮。 L8 RLE的渲染速度比L8 LZW9更快，因此也能提供最佳效能。</p><p>此外如果也採用簡單設計，在部分情況下您也可以使用<a href="/4.25/zh-TW/docs/development/ui-development/ui-components/images/tiled-image">Tiled Image</a>。 之後您只需要儲存部分圖像並加以重複即可。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="using-boxes">使用方塊<a href="#using-boxes" class="hash-link" aria-label="直接連結到使用方塊" title="直接連結到使用方塊">​</a></h3><p>另一種節省快閃記憶體的聰明方法，就是使用<a href="/4.25/zh-TW/docs/development/ui-development/ui-components/shapes/box">Box小工具</a>。 使用方塊有兩種主要優點：</p><ol><li>首先方塊可在影像緩衝區直接繪製， 因此無需快閃記憶體即可儲存方塊。 唯一會用到快閃記憶體的部分，就是定義方塊所需的少量程式碼。</li><li>第二，方塊可調整，並可於執行階段變更色彩及大小。 在快閃記憶體受限的電動自行車示範中，方塊用於實心背景色彩等範例，透過變更方塊色彩的方式支援淡色及深色模式。</li></ol><h3 class="anchor anchorWithStickyNavbar_k1OW" id="reusable-assets">可重複使用的資產<a href="#reusable-assets" class="hash-link" aria-label="直接連結到可重複使用的資產" title="直接連結到可重複使用的資產">​</a></h3><p>另一種節省快閃記憶體的方法是限制資產總數。 這當然可透過採用非常簡單的設計加以達成，不過有時可重複使用相同資產多次，以限制資產的現有數量。</p><p>在快閃記憶體受限的電動自行車示範中，這種方法用於天氣螢幕。 天氣圖示是以相同資產縮放配合所有3種尺寸。 由於這是縮放調整的資產，因此SVG格式會比壓縮更為理想，即使RLE使用的快閃記憶體較少。 不過如果資產是以RLE格式儲存為所有3種尺寸，總計使用的快閃記憶體就會更多。</p><p>此外按鈕也是實作為可重複使用的資產。 例如按鈕會與其圖示分開，以便讓按鈕能夠重複使用。</p><p>示範中使用可重複性的另一種情況則是背景。 示範中共有5種不同的背景設計，不過使用可調整資產(方塊及可重複使用的資產)就可僅以一個資產和方塊建立所有背景。</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="performance">提升效能<a href="#performance" class="hash-link" aria-label="直接連結到提升效能" title="直接連結到提升效能">​</a></h2><p>開發快閃記憶體受限的應用程式時，會有降低效能的風險。 不過如果有備用RAM可供使用，就有方式可以提升應用程式效能。 使用<a href="/4.25/zh-TW/docs/development/ui-development/touchgfx-engine-features/dynamic-bitmaps">動態點陣圖</a>及<a href="/4.25/zh-TW/docs/development/ui-development/scenarios/achieving-better-performance-with-cacheable-container">可快取容器</a>，就可將資產或容器的靜態快照繪製到RAM。 之後無論何時使用資產或容器，就可改為使用快取版本的資產或容器。 快取版本只是RAM之中的點陣圖，亦即渲染時間與渲染一般點陣圖相同。</p><p>在快閃記憶體受限的電動自行車示範中，可快取容器用於捲動SVG資產及向量字型，同時維持良好效能。</p><div class="figure"><a href="/4.25/zh-TW/img/development/scenarios/flash-limited-gui-development/cacheable-container.webp" target="_blank"><img width="500" src="/4.25/zh-TW/img/development/scenarios/flash-limited-gui-development/cacheable-container.webp"></a><p>將天氣元素作為可快取容器</p></div><p>一般來說，向量字型只要在執行階段移動或可移動，就會受到快取。 這樣可確保達到最低30 FPS，不受捲動的向量字型影響。</p><p>示範中使用的另一項秘訣，就是讓壓縮點陣圖解壓縮為點陣圖快取。 將點陣圖解壓縮至RAM，就能在可縮放及可旋轉的小工具中使用。 點陣圖解壓縮時，TouchGFX在參考點陣圖ID時一律使用解壓縮的快取版本。 以下是電動自行車示範之中的範例。 壓縮點陣圖只要進行解壓縮，之後點陣圖就能像一般點陣圖一樣使用。</p><div class="code-header"><div><h5>StartView.cpp</h5></div></div><div class="language-cpp codeBlockContainer_xMD_ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_JIBA"><pre tabindex="0" class="prism-code language-cpp codeBlock_uX6S thin-scrollbar"><code class="codeBlockLines_ZLum"><span class="token-line" style="color:#bfc7d5"><span class="token class-name" style="color:rgb(255, 203, 107)">StartView</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">StartView</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">Bitmap</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">decompress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">BITMAP_MAIN_RIPPLE_LEFT_ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">     </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Decompress compressed image to bitmap cache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">Bitmap</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">decompress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">BITMAP_MAIN_RIPPLE_RIGHT_ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Decompress compressed image to bitmap cache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">StartView</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">setupScreen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    leftMainRippleScale</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setBitmap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">BITMAP_MAIN_RIPPLE_LEFT_ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Set bitmap for Scalable Image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rightMainRippleScale</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setBitmap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">BITMAP_MAIN_RIPPLE_RIGHT_ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Set bitmap for Scalable Image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    leftMainRippleScale</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setWidthHeight</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">       </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Set scale of image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    rightMainRippleScale</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setWidthHeight</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">      </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Set scale of image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__VZb"><button type="button" aria-label="複製程式碼到剪貼板" title="複製" class="clean-btn"><span class="copyButtonIcons_TYFZ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dFlr"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_amKQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>由於大量使用動態點陣圖，快閃記憶體受限的電動自行車示範需要的點陣圖快取為922 KB， 代表需要大量的備用RAM。 不過這項示範也讓快閃記憶體達到接近極限的節省幅度。 如果是更簡單的應用程式，或是不那麼重視效能需求的應用程式，就有可能大幅減少所需的點陣圖快取。</p><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content"><p><a href="/4.25/zh-TW/docs/development/ui-development/touchgfx-engine-features/dynamic-bitmaps">動態點陣圖</a></p><p><a href="/4.25/zh-TW/docs/development/ui-development/scenarios/achieving-better-performance-with-cacheable-container">用可快取容器達到更出色的效能</a></p><p><a href="/4.25/zh-TW/docs/development/ui-development/touchgfx-engine-features/image-compression">將圖像解壓縮至點陣圖快取</a></p></div></div><h2 class="anchor anchorWithStickyNavbar_k1OW" id="conclusion">結論<a href="#conclusion" class="hash-link" aria-label="直接連結到結論" title="直接連結到結論">​</a></h2><p>本文介紹如何限制TouchGFX應用程式的快閃記憶體使用量。</p><p>這4種節省快閃記憶體的概念，可在所有STM32硬體平台使用，不過請記得SVG與向量字型具有昂貴的渲染成本。 因此如果沒有向量渲染硬體加速，或是沒有可用的額外運算能力，就可能造成效能下降。</p><p>快閃記憶體受限GUI開發的概念，可能會對效能造成不利影響，不過可使用動態點陣圖及可快取容器提升效能。</p><p>各項節省快閃記憶體的方法，可提供節省快閃記憶體的龐大潛能。 各種概念可確切節省的快閃記憶體容量，需視特定應用程式而定，不過對快閃記憶體受限的電動自行車示範而言，節省了92%的快閃記憶體。</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件頁面導航"><a class="pagination-nav__link pagination-nav__link--prev" href="/4.25/zh-TW/docs/development/scenarios/lowering-memory-usage-with-partial-framebuffer"><div class="pagination-nav__sublabel">上一個</div><div class="pagination-nav__label">通過部分影像緩衝降低記憶體使用率</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/4.25/zh-TW/docs/development/scenarios/using-non-memory-mapped-flash"><div class="pagination-nav__sublabel">下一個</div><div class="pagination-nav__label">使用非記憶體映射快閃記憶體存儲影像</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cuXu thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#flash-limited-e-bike-demo" class="table-of-contents__link toc-highlight">快閃記憶體受限的電動自行車示範</a></li><li><a href="#when-to-use-which-concept" class="table-of-contents__link toc-highlight">各種概念的使用時機</a><ul><li><a href="#L8-and-compression" class="table-of-contents__link toc-highlight">L8及壓縮</a></li><li><a href="#SVG" class="table-of-contents__link toc-highlight">SVG</a></li><li><a href="#vector-fonts" class="table-of-contents__link toc-highlight">向量字型</a></li><li><a href="#examples" class="table-of-contents__link toc-highlight">範例</a></li><li><a href="#concept-conclusion" class="table-of-contents__link toc-highlight">結論</a></li></ul></li><li><a href="#smart-assets" class="table-of-contents__link toc-highlight">使用「聰明的」資產</a><ul><li><a href="#simple-assets" class="table-of-contents__link toc-highlight">簡易資產</a></li><li><a href="#using-boxes" class="table-of-contents__link toc-highlight">使用方塊</a></li><li><a href="#reusable-assets" class="table-of-contents__link toc-highlight">可重複使用的資產</a></li></ul></li><li><a href="#performance" class="table-of-contents__link toc-highlight">提升效能</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">結論</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">保留所有權利 © 2024 STMicroelectronics | <a href="https://www.st.com/content/st_com/en/common/terms-of-use.html">使用條款</a> | <a href="https://www.st.com/content/st_com/en/common/privacy-policy.html">隱私權政策</a> | <a href="https://app-de.onetrust.com/app/#/webform/2b87200d-4023-4588-9df7-ab0cdea1a67e">行使您的權利</a></div></div></div></footer></div></div>
<script src="/4.25/zh-TW/assets/js/runtime~main.92e68c02.js"></script>
<script src="/4.25/zh-TW/assets/js/main.f39b7cf6.js"></script>
</body>
</html>