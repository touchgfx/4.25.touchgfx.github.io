<!doctype html>
<html lang="zh-TW" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-academy docs-doc-id-tutorials/tutorial-02" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">教程2：建立您自己的應用程式 | TouchGFX Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://support.touchgfx.com/4.25/zh-TW/img/meta-image.png"><meta data-rh="true" name="twitter:image" content="https://support.touchgfx.com/4.25/zh-TW/img/meta-image.png"><meta data-rh="true" property="og:url" content="https://support.touchgfx.com/4.25/zh-TW/academy/tutorials/tutorial-02"><meta data-rh="true" name="docusaurus_locale" content="zh-TW"><meta data-rh="true" name="docsearch:language" content="zh-TW"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-academy-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-academy-current"><meta data-rh="true" property="og:title" content="教程2：建立您自己的應用程式 | TouchGFX Documentation"><meta data-rh="true" name="description" content="請跟隨本教程學習更多TouchGFX的基本知識。 您將學習如何將圖像新增到應用程式，以及如何使用按鈕。 您還將學習如何使用文字和計算數字。 在最後的步驟中，您將編寫程式碼，強化使用TouchGFX Designer建立的UI視覺效果。 本教程假設您沒有TouchGFX的相關知識，但是有一點程式設計的經驗。"><meta data-rh="true" property="og:description" content="請跟隨本教程學習更多TouchGFX的基本知識。 您將學習如何將圖像新增到應用程式，以及如何使用按鈕。 您還將學習如何使用文字和計算數字。 在最後的步驟中，您將編寫程式碼，強化使用TouchGFX Designer建立的UI視覺效果。 本教程假設您沒有TouchGFX的相關知識，但是有一點程式設計的經驗。"><link data-rh="true" rel="icon" href="/4.25/zh-TW/img/favicon.png"><link data-rh="true" rel="canonical" href="https://support.touchgfx.com/4.25/zh-TW/academy/tutorials/tutorial-02"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/academy/tutorials/tutorial-02" hreflang="en"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/ko/academy/tutorials/tutorial-02" hreflang="ko"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/ja/academy/tutorials/tutorial-02" hreflang="ja"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/zh-CN/academy/tutorials/tutorial-02" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/zh-TW/academy/tutorials/tutorial-02" hreflang="zh-TW"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/academy/tutorials/tutorial-02" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://B8LNOI0XWD-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="TouchGFX Documentation" href="/4.25/zh-TW/opensearch.xml">


<script src="/4.25/zh-TW/js/one-trust.js"></script>
<script src="/4.25/js/fix-location.js"></script><link rel="stylesheet" href="/4.25/zh-TW/assets/css/styles.6e57ba1f.css">
<link rel="preload" href="/4.25/zh-TW/assets/js/runtime~main.92e68c02.js" as="script">
<link rel="preload" href="/4.25/zh-TW/assets/js/main.f39b7cf6.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><div role="region" aria-label="跳轉到主要內容"><a class="skipToContent_xAYN" href="#__docusaurus_skipToContent_fallback">跳轉到主要內容</a></div><nav aria-label="主要" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切換導覽列" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/4.25/zh-TW/docs/introduction/welcome"><div class="navbar__logo"><img src="/4.25/zh-TW/img/logo.svg" alt="TouchGFX" class="themedImage_m0dh themedImage--light_OZkp"><img src="/4.25/zh-TW/img/logo.svg" alt="TouchGFX" class="themedImage_m0dh themedImage--dark_ViMM"></div></a><a class="navbar__item navbar__link" href="/4.25/zh-TW/docs/introduction/welcome">文件</a><a class="navbar__item navbar__link" href="/4.25/zh-TW/docs/api/namespacetouchgfx">API</a><a class="navbar__item navbar__link" sidebarid="academy" href="/4.25/zh-TW/academy/academy-introduction">TouchGFX學院</a><a href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">社區</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/4.25/zh-TW/docs/introduction/welcome">4.25</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/4.25/zh-TW/docs/introduction/welcome">4.25</a></li><li><a href="https://support.touchgfx.com/4.25" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.25<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.24" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.24<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.23" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.23<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.22" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.22<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.21" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.21<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.20" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.20<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.19" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.19<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.18" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.18<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.17" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.17<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.16" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.16<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.15" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.15<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.14" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.14<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.13" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.13<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">繁體中文</a><ul class="dropdown__menu"><li><a href="/4.25/academy/tutorials/tutorial-02" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/4.25/ko/academy/tutorials/tutorial-02" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/4.25/ja/academy/tutorials/tutorial-02" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/4.25/zh-CN/academy/tutorials/tutorial-02" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">简体中文</a></li><li><a href="/4.25/zh-TW/academy/tutorials/tutorial-02" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-TW">繁體中文</a></li></ul></div><div class="searchBox_y6an"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_ovZa docsWrapper_a09d"><button aria-label="滾動返回頂部" class="clean-btn theme-back-to-top-button backToTopButton_PCdr" type="button"></button><div class="docPage_CL8Z"><aside class="theme-doc-sidebar-container docSidebarContainer_ThtD"><div class="sidebarViewport_mAJy"><div class="sidebar_Oq1e"><nav aria-label="文件側邊欄" class="menu thin-scrollbar menu_M44W"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/4.25/zh-TW/academy/academy-introduction">簡介</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/4.25/zh-TW/academy/category/tutorials">教程</a><button aria-label="切換可折疊邊欄類別“教程”" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/academy/tutorials/tutorial-01">教程1：嘗試使用範例</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/4.25/zh-TW/academy/tutorials/tutorial-02">教程2：建立您自己的應用程式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/academy/tutorials/tutorial-03">教程3：多個螢幕的應用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/academy/tutorials/tutorial-04">教程4：建立具有自訂行為的滾輪。</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-TW/academy/tutorials/tutorial-05">教程5：建立自訂觸發條件和動作</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.25/zh-TW/academy/tutorials/tutorial-06/tutorial-06-introduction">教程6：使用TextArea</a><button aria-label="切換可折疊邊欄類別“教程6：使用TextArea”" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/zh-TW/academy/how-to/how-to-introduction">「如何使用TouchGFX」影片</a><button aria-label="切換可折疊邊欄類別“「如何使用TouchGFX」影片”" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_fxxJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_QTf6"><div class="docItemContainer_yTh1"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer__o78" aria-label="階層連結"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.25/zh-TW/academy/category/tutorials"><span itemprop="name">教程</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">教程2：建立您自己的應用程式</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_CArF theme-doc-toc-mobile tocMobile_PMGv"><button type="button" class="clean-btn tocCollapsibleButton_I8Hj">在當前頁面</button></div><div class="theme-doc-markdown markdown"><header><h1>教程2：建立您自己的應用程式</h1></header><p>請跟隨本教程學習更多TouchGFX的基本知識。 您將學習如何將圖像新增到應用程式，以及如何使用按鈕。 您還將學習如何使用文字和計算數字。 在最後的步驟中，您將編寫程式碼，強化使用TouchGFX Designer建立的UI視覺效果。 本教程假設您沒有TouchGFX的相關知識，但是有一點程式設計的經驗。</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="step-1-setting-a-background-image">第1步：設定背景圖像<a href="#step-1-setting-a-background-image" class="hash-link" aria-label="直接連結到第1步：設定背景圖像" title="直接連結到第1步：設定背景圖像">​</a></h2><p>在第一個步驟中，您將看到如何插入PNG圖像作為背景。 但首先我們將建立一個新專案。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="starting-a-new-project">啟動新專案<a href="#starting-a-new-project" class="hash-link" aria-label="直接連結到啟動新專案" title="直接連結到啟動新專案">​</a></h3><p>在TouchGFX Designer中啟動新專案。 我們將此專案命名為「MyApplication1」。 此專案是以「STM32F746G探索套件」為基礎。</p><p>如果您有其他STM32評估套件，請查看TouchGFX Designer提供的支援裝置清單中是否包含此套件。 如果您沒有支援的開發板，可以選擇「模擬器」，並直接在Windows電腦上執行應用程式。</p><p>請注意，本教程在解析度為480x272的顯示器上運作。 如果您選擇具有其他解析度的應用程式範本，則圖形與螢幕將不相符，儘管如此，您仍應能夠完成本教程。</p><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/new-proj-4-17.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/new-proj-4-17.webp"></a><p>使用STM32F746建立新專案</p></div><p>現在有一個新建立的空白專案，我們要開始進行修改。</p><p>TouchGFX應用程式包含許多畫面。 畫面中包含許多小工具，這些小工具組成了使用者介面。 畫面包含整個顯示畫面，因此一次只能向使用者顯示一個畫面。</p><p>首先要做的是將初始畫面的名稱修改為「Main」，如下圖所示。 在左側清單中選擇畫面(1)，並在右側的名稱欄位中修改名稱(2)。 也可對清單的畫面(1)按兩下或按右鍵來重新命名畫面。</p><div style="position:relative"><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/change-name-4-17.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/change-name-4-17.webp"></a><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(30, 11)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">1</text></g></svg><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(470, 7)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">2</text></g></svg><p>變更畫面名稱</p></div></div><h3 class="anchor anchorWithStickyNavbar_k1OW" id="inserting-a-background">插入背景<a href="#inserting-a-background" class="hash-link" aria-label="直接連結到插入背景" title="直接連結到插入背景">​</a></h3><p>用一個或多個小工具覆蓋畫面的整個背景通常是個不錯的選擇。 例如，可以使用方塊或圖像。 如果不覆蓋，背景將顯示為黑色。 在此應用程式中，我們將使用圖像。</p><p>我們需要匯入檔案，才能在TouchGFX Designer中使用圖像。 TouchGFX支援BMP和PNG圖像(儘管TouchGFX Designer只支援匯入PNG圖像)。 PNG檔比BMP檔更好，因為前者更小且支援透明像素。</p><p>本教程使用的圖像可從此<a target="_blank" href="/4.25/zh-TW/assets/files/touchgfx-tutorial-02-fdc5f18c6ee29e0a96fa608460f4d03a.zip">連結</a>下載。 將檔案解壓縮到硬碟上的目錄。</p><p>我們想要使用名為「background.png」的檔案當作背景。 若要匯入該檔案：</p><ul><li>選擇「圖像」分頁並點擊「+」按鈕。</li><li>瀏覽至解壓縮檔案夾，並選擇「background.png」檔案。</li><li>按下「開啟」以匯入檔案。</li></ul><p>您也可以將檔案總管中的圖像拖放到「圖像」分頁上，甚至直接拖放到畫布上，即可將檔案匯入專案，</p><p>請注意，匯入專案的圖像將會經過轉換並編譯至專案中，因此會佔用快閃記憶體空間。 請只匯入需使用的圖像。  點擊左側的「圖像」按鈕(1)，然後點擊右側的「+」按鈕(2)，即可新增圖像。 TouchGFX Designer會開啟一般的檔案瀏覽器，您可以在這裡瀏覽下載的圖像，並選擇「background.png」檔案。</p><div style="position:relative"><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/image-import.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/image-import.webp"></a><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(-4, 14)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">1</text></g></svg><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(471, 1)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">2</text></g></svg><p>background.png圖像已匯入</p></div></div><p></p><p>現在，我們可以在應用程式中使用此圖像。 為此，我們需使用圖像小工具。</p><ul><li>點擊左側的「畫布」按鈕(1)</li><li>在小工具清單(2)中找到圖像小工具</li><li>點擊它，即可在畫面上插入圖像小工具。</li></ul><p>建議將小工具名稱變更為有意義的名稱。 在本例中，我們將名稱變更為「backgroundImage」(3)。</p><div style="position:relative"><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/insert-widget.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/insert-widget.webp"></a><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(-4, 0)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">1</text></g></svg><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(250, 18)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">2</text></g></svg><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(477, 8)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">3</text></g></svg><p>插入圖像小工具</p></div></div><p></p><p>在插入小工具後，通常需要設定一些相關屬性，如<em>位置</em>或<em>顏色</em>。 在TouchGFX Designer中，所選小工具的屬性會顯示在右側。 畫面中的小工具會顯示在左側的樹狀檢視中(1)。 在本例中，我們很滿意點0,0的所在位置，但想要變更圖像屬性，以便選擇之前匯入的檔案「background.png」。 點擊圖像屬性(2)並選擇「background.png」。</p><div style="position:relative"><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/selecting-image-as-background-4-17.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/selecting-image-as-background-4-17.webp"></a><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(40, 18)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">1</text></g></svg><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(474, 72)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">2</text></g></svg><p>選擇匯入的影像檔案作為背景</p></div></div><p></p><p>現在，我們已經建立了一個具有一個畫面的簡單應用程式，這個畫面含有一張已覆蓋整個使用者介面的背景圖像。</p><p>在繼續操作前，嘗試按下「執行模擬器」按鈕，以便確認專案正常編譯和執行。 由於尚未新增任何使用中的小工具，因此現在還不能與應用程式互動。</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="step-2-adding-buttons">第2步：新增按鈕<a href="#step-2-adding-buttons" class="hash-link" aria-label="直接連結到第2步：新增按鈕" title="直接連結到第2步：新增按鈕">​</a></h2><p>在這一步中，我們將為應用增加兩個按鈕，並用不同的PNG檔為它們設定自訂外觀。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="adding-the-buttons">新增按鈕<a href="#adding-the-buttons" class="hash-link" aria-label="直接連結到新增按鈕" title="直接連結到新增按鈕">​</a></h3><ul><li>要將按鈕新增到畫面，點擊「小工具」分頁(1)上的「按鈕」小工具。</li><li>用滑鼠拖曳新的小工具來移動它。</li><li>將按鈕定位在位置 (x=40, y=60) 處。 檢查右側屬性中的位置(2)。</li><li>將新的小工具命名為「buttonUp」。</li><li>在位置 (x=40, y=150) 處增加另一個按鈕。 將此小工具命名為「buttonDown」。</li></ul><p>現在，專案如下圖所示：</p><div style="position:relative"><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/adding-buttons.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/adding-buttons.webp"></a><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(235, 18)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">1</text></g></svg><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(465, 25)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">2</text></g></svg><p>新增兩個按鈕</p></div></div><p>您可以使用X和Y屬性的向上/向下小按鈕對小工具的位置進行微調。 您也可以選擇按鈕小工具(在畫布上點擊它)，然後用鍵盤上的方向鍵調整位置。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="changing-the-look">變更外觀<a href="#changing-the-look" class="hash-link" aria-label="直接連結到變更外觀" title="直接連結到變更外觀">​</a></h3><p>現在，我們將變更按鈕的外觀。 按鈕是由兩幅圖像構成。 一幅圖像會在按鈕按下時顯示，另一幅圖像則在按鈕未按下(鬆開)時顯示。 大多數小工具都附帶一組預定義樣式，基本上是描述小工具實際外觀的一組特定屬性值。 這些樣式有助於進行快速的原型設計，但在建立實際應用時，通常會將它們替換掉。</p><p>與上一步相同，前往「圖像」分頁，並點擊右上角的「+」圖示匯入一些圖像。 這次匯入四張圖像：「button_down_pressed.png」、「button_down_released.png」、「button_up_pressed.png」和「button_up_released.png」。</p><div style="position:relative"><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/image-import-2-4-17.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/image-import-2-4-17.webp"></a><p>新增四張按鈕圖像</p></div></div><p>你可以看到，雖然我們只匯入了5張圖像，但專案中共有7張圖像。 另外2張是按鈕上預設使用的藍色圖像。 當這些圖像不再使用時，系統會自動將其移除。</p><p>回到畫布並選擇「buttonUp」按鈕。 點擊「已釋放圖像」屬性(1)，然後點擊「專案」顯示圖像(2)，最後選擇正確的圖像(3)。 對於「buttonUp」，針對「已釋放圖像」屬性選擇「button_up_released.png」。 針對「已按下圖像」選擇「button_up_pressed.png」。</p><div style="position:relative"><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/button-selecting-up-image.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/button-selecting-up-image.webp"></a><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(470, 80)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">1</text></g></svg><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(337, 80)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">2</text></g></svg><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(367, 150)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">3</text></g></svg><p>設定按鈕圖像</p></div></div><p></p><p>您可以立即看到TouchGFX Designer中畫布上按鈕的外觀。</p><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/bitmap-for-button.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/bitmap-for-button.webp"></a><p>為按鈕設定點陣圖</p></div><p>對於「buttonDown」，針對「已鬆開圖像」選擇「button_down_released.png」，針對「已按下圖像」選擇「button_down_pressed.png」。</p><p>現在，您已完成按鈕的設定。 點擊「執行模擬器」試用您的應用程式。</p><p>嘗試使用兩個按鈕，以確認按鈕設定正確。</p><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/running-the-simulator-4-17.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/running-the-simulator-4-17.webp"></a><p>執行模擬器</p></div><div class="highlight highlight-tip"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></div>Tip</h5></div><div class="highlight-content">TouchGFX中的大多數小工具會使用圖像來定義其大小，這表示無法直接調整其大小。 這樣做是出於效能考量(請參閱<a href="/4.25/zh-TW/docs/development/ui-development/ui-components/general-ui-component-performance">通用UI元件效能</a>)。 如需修改這類小工具的大小，如本教程中的按鈕，方法是為按鈕新建一組圖像，並將它們分別用作「已釋放圖像」和「已按下圖像」。</div></div><h2 class="anchor anchorWithStickyNavbar_k1OW" id="step-3-adding-text">第3步：新增文字<a href="#step-3-adding-text" class="hash-link" aria-label="直接連結到第3步：新增文字" title="直接連結到第3步：新增文字">​</a></h2><p>在這一步中，我們將為應用新增一個大型TextArea小工具。</p><p>所有文字均透過TextArea小工具來顯示，但在將TextArea新增到應用之前，我們先新增另一張圖像，以便為文字提供更好的背景。</p><h3 class="anchor anchorWithStickyNavbar_k1OW" id="text-background">文字背景<a href="#text-background" class="hash-link" aria-label="直接連結到文字背景" title="直接連結到文字背景">​</a></h3><ul><li>匯入另一個影像檔「counter_box.png」。</li><li>插入新的圖像小工具</li><li>將其命名為「textBackground」</li><li>將其定位在 (x=250, y=59) 處。</li><li>將<em>圖像</em>屬性設定為「counter_box」。</li></ul><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/add-background-for-text-4-17.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/add-background-for-text-4-17.webp"></a><p>已為文字新增背景</p></div><h3 class="anchor anchorWithStickyNavbar_k1OW" id="adding-the-text">新增文字<a href="#adding-the-text" class="hash-link" aria-label="直接連結到新增文字" title="直接連結到新增文字">​</a></h3><p>現在，我們可以新增TextArea小工具。 點擊「小工具/其他」下拉式功能表中的TextArea圖示。 將小工具重新命名為「textCounter」，並將小工具移動到位置 (x=250, y=90) 處。 我們要讓小工具顯示大文字，因此取消勾選<em>自動調整大小</em>屬性，並將尺寸設定為固定寬度=152，高度=90。</p><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/add-textarea.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/add-textarea.webp"></a><p>已新增TextArea</p></div><p>TextArea小工具的預設色彩是黑色，在我們使用的背景上顯得很暗。 選擇「textCounter」的<em>色彩</em>屬性，將顏色變更為白色。</p><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/text-color.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/text-color.webp"></a><p>變更文字色彩</p></div><h3 class="anchor anchorWithStickyNavbar_k1OW" id="changing-the-text-typography">變更文字字體排印<a href="#changing-the-text-typography" class="hash-link" aria-label="直接連結到變更文字字體排印" title="直接連結到變更文字字體排印">​</a></h3><p>我們要讓文字更大。 為此，需變更文字使用的<em>字體排印</em>。 字體排印定義了文字的<em>字型</em>(如Verdana)、<em>大小</em>和<em>對齊</em>(置左、置右或置中)。</p><p>選擇TouchGFX Designer左上角的「文字」分頁(1)，點擊「字體排印」(2)，並將「預設」字體排印的大小更新為80 (3)。</p><div style="position:relative"><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/typography-size.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/typography-size.webp"></a><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(-4, 28)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">1</text></g></svg><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(39, -2)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">2</text></g></svg><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(70, 60)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">3</text></g></svg><p>變更文字大小</p></div></div><p></p><p>回到螢幕 (點擊左上角的「畫布」分頁)，現在我們可以看到文字大了許多。 事實上，我們無法讀取完整的文字「新增文字」。 點擊<em>對齊</em>屬性下的置中圖示，讓文字置中對齊 (1)。</p><div style="position:relative"><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/text-alignment-4-17.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/text-alignment-4-17.webp"></a><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(454, 101)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">1</text></g></svg><p>變更文字對齊方式</p></div></div><h3 class="anchor anchorWithStickyNavbar_k1OW" id="using-a-wildcard-text">使用萬用字元文字<a href="#using-a-wildcard-text" class="hash-link" aria-label="直接連結到使用萬用字元文字" title="直接連結到使用萬用字元文字">​</a></h3><p>我們要讓TextArea顯示可以用按鈕變更的數字。 為此，我們必須變更文字，以便包含「萬用字元」。 萬用字元是文字中的一種標記(「<!-- -->&lt;<!-- -->d<!-- -->&gt;<!-- -->」)，在執行階段可以使用其他字元 (如數字) 代替。 我們只想顯示一個數字，因此將文字變更為「<!-- -->&lt;<!-- -->d<!-- -->&gt;<!-- -->」就好。 在其他專案中，您可以將動態部分與固定文字搭配使用，如「溫度：<!-- -->&lt;<!-- -->temp<!-- -->&gt;<!-- -->°C」。</p><div class="highlight highlight-note"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></div>Note</h5></div><div class="highlight-content">&lt;...&gt; 萬用字元括弧內的文字是隨意的。 您可以使用它們向實施者或翻譯人員傳遞萬用字元中插入的資訊類型，或是維持空白。</div></div><p>將文字修改為「<!-- -->&lt;<!-- -->d<!-- -->&gt;<!-- -->」(1)，點擊「萬用字元1」(2)，將預設值設定為「0」，並勾選「使用萬用字元緩衝區」。</p><div style="position:relative"><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/wildcard-text.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/wildcard-text.webp"></a><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(449, 76)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">1</text></g></svg><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(459, 85)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">2</text></g></svg><p>設定萬用字元文字</p></div></div><p></p><p>點擊「執行模擬器」試用您的應用程式。</p><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/running-the-simulator-2.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/running-the-simulator-2.webp"></a><p>執行模擬器</p></div><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content">若要深入了解使用文字和字型的相關資訊，請閱讀<a href="/4.25/zh-TW/development/ui-development/touchgfx-engine-features/texts-and-fonts">文字和字型</a>頁面。</div></div><h2 class="anchor anchorWithStickyNavbar_k1OW" id="step-4-adding-code">第4步：新增程式碼<a href="#step-4-adding-code" class="hash-link" aria-label="直接連結到第4步：新增程式碼" title="直接連結到第4步：新增程式碼">​</a></h2><p>使用TouchGFX Designer時，可輕鬆地透過互動將動作連結到按鈕。 互動會將觸發條件(如按鈕按下)連結到動作(如執行程式碼或移動元素)。</p><p>選擇右上角的「互動」分頁(1)，點擊「+」按鈕建立新互動。</p><div style="position:relative"><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/add-interactions-4-17.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/add-interactions-4-17.webp"></a><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(481, 3)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">1</text></g></svg><p>新增互動</p></div></div><p>我們將建立兩個互動，每個按鈕一個。 我們將兩個互動都設定用來在目前螢幕上呼叫C++方法。</p><ul><li>將<em>觸發條件</em>屬性變更為「Button is clicked」。</li><li>將<em>選擇已點擊來源</em>屬性設定為「buttonUp」。</li><li>將<em>動作</em>屬性變更為「Call new virtual function」。</li><li>在<em>函數名稱</em>欄位輸入「buttonUpClicked」。</li><li>您也應為互動提供描述性名稱，以利日後識別。</li></ul><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/configure-interaction-4-17.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/configure-interaction-4-17.webp"></a><p>設定按鈕互動</p></div><p>用「buttonDown」建立相似互動「clicked source」：</p><ul><li>點擊「+」開始新的互動。</li><li>將<em>觸發條件</em>屬性變更為「Button is clicked」。</li><li>將<em>選擇已點擊的來源</em>屬性設定為「buttonDown」。</li><li>將<em>動作</em>屬性變更為「Call new virtual function」。</li><li>在<em>函數名稱</em>處輸入「buttonDownClicked」。</li><li>您也應為互動提供描述性名稱，以利日後識別。</li></ul><p>如果您點擊「產生程式碼」按鈕或「執行模擬器」按鈕，TouchGFX Designer將用您在剛建立的互動中輸入的資訊更新產生的程式碼。 這表示它將在「檢視」基底類別中為此螢幕建立兩個新的虛擬函數。</p><p>我們進一步研究要如何執行自己的程式碼。 點擊右下角的「產生程式碼」按鈕，然後點擊左下角的「檔案」按鈕。 此動作會使檔案總管置於應用程式資料夾。 瀏覽至以下資料夾：</p><p><code>MyApplication1/TouchGFX/generated/gui_generated/include/gui_generated/main_screen/</code></p><p>並開啟檔案 <code>MainViewBase.hpp</code>。 如果您願意，還可以開啟任一個專案檔案，並在IDE中找到該檔案：</p><table><thead><tr><th>IDE</th><th>專案檔案路徑</th></tr></thead><tbody><tr><td>STM32CubeIDE</td><td><code>MyApplication1/STM32CubeIDE/.project</code></td></tr><tr><td>Visual Studio</td><td><code>MyApplication1/TouchGFX/simulator/msvs/Application.sln</code></td></tr><tr><td>IAR Embedded Workbench 8</td><td><code>MyApplication1/EWARM/Project.eww</code></td></tr><tr><td>KEIL <!-- -->μ<!-- -->Vision v5</td><td><code>MyApplication1/MDK-ARM/STM32F746G_DISCO.uvprojx</code></td></tr></tbody></table><div class="highlight highlight-note"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></div>Note</h5></div><div class="highlight-content">並非所有專案檔案都預設顯示。 若要變更專案的工具鏈，您需要使用STM32CubeMX工具。 關於這一點的詳細資訊，請閱讀<a href="/4.25/zh-TW/development/ui-development/working-with-touchgfx/using-ides-with-touchgfx">使用IDE和TouchGFX</a>頁面。</div></div><p>新的虛擬方法位於<code>MainViewBase</code>類別的公開部分。 產生的方法具有空實作。 用意是程式設計師在會子類別<code>MainView</code>中實作這些方法。</p><div class="code-header"><div><h5>MainViewBase.hpp</h5></div></div><div class="language-cpp codeBlockContainer_xMD_ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_JIBA"><pre tabindex="0" class="prism-code language-cpp codeBlock_uX6S thin-scrollbar"><code class="codeBlockLines_ZLum"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/*********************************************************************************/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/*********************************************************************************/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">ifndef</span><span class="token macro property"> </span><span class="token macro property expression">MAINVIEWBASE_HPP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">define</span><span class="token macro property"> </span><span class="token macro property macro-name">MAINVIEWBASE_HPP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;gui/common/FrontendApplication.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;mvp/View.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;gui/main_screen/MainPresenter.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;touchgfx/widgets/Image.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;touchgfx/widgets/Button.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;touchgfx/widgets/TextAreaWithWildcard.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MainViewBase</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token base-clause keyword" style="font-style:italic">public</span><span class="token base-clause"> touchgfx</span><span class="token base-clause double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token base-clause class-name" style="color:rgb(255, 203, 107)">View</span><span class="token base-clause operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token base-clause class-name" style="color:rgb(255, 203, 107)">MainPresenter</span><span class="token base-clause operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">MainViewBase</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">~</span><span class="token function" style="color:rgb(130, 170, 255)">MainViewBase</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setupScreen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/*</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">    * Custom Action Handlers</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">    */</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">buttonUpClicked</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Override and implement this function in MainView</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">buttonDownClicked</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Override and implement this function in MainView</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__VZb"><button type="button" aria-label="複製程式碼到剪貼板" title="複製" class="clean-btn"><span class="copyButtonIcons_TYFZ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dFlr"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_amKQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_k1OW" id="implementing-the-virtual-methods">實作虛擬方法<a href="#implementing-the-virtual-methods" class="hash-link" aria-label="直接連結到實作虛擬方法" title="直接連結到實作虛擬方法">​</a></h3><p>現在剩下的任務是實作這兩種方法，以便在使用者按下按鈕時變更計數器值。 為此，在<code>MainView</code>類別中再次宣告方法。 這個類別可在以下路徑中找到：</p><p><code>MyApplication1/TouchGFX/gui/include/gui/main_screen/MainView.hpp</code></p><p>開啟此檔案，並在類別中插入兩個函式宣告：</p><div class="code-header"><div><h5>MainView.hpp</h5></div></div><div class="language-cpp codeBlockContainer_xMD_ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_JIBA"><pre tabindex="0" class="prism-code language-cpp codeBlock_uX6S thin-scrollbar"><code class="codeBlockLines_ZLum"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">ifndef</span><span class="token macro property"> </span><span class="token macro property expression">MAIN_VIEW_HPP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">define</span><span class="token macro property"> </span><span class="token macro property macro-name">MAIN_VIEW_HPP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;gui_generated/main_screen/MainViewBase.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;gui/main_screen/MainPresenter.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MainView</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token base-clause keyword" style="font-style:italic">public</span><span class="token base-clause"> </span><span class="token base-clause class-name" style="color:rgb(255, 203, 107)">MainViewBase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">MainView</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">~</span><span class="token function" style="color:rgb(130, 170, 255)">MainView</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setupScreen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">tearDownScreen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">buttonUpClicked</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">buttonDownClicked</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__VZb"><button type="button" aria-label="複製程式碼到剪貼板" title="複製" class="clean-btn"><span class="copyButtonIcons_TYFZ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dFlr"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_amKQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>下一個任務是在.cpp檔中新增實作，以便實作兩種方法。 此檔案位於：</p><p><code>MyApplication1/gui/src/main_screen/MainView.cpp</code></p><p>在下方的實作中，我們將呼叫新增至<code>touchgfx_printf</code>。 此函數用於在執行模擬器時印出文字行。 若要使用此函數，則需包含檔案utils.hpp。 在目標上執行時，文字行無效。</p><div class="code-header"><div><h5>MainView.cpp</h5></div></div><div class="language-cpp codeBlockContainer_xMD_ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_JIBA"><pre tabindex="0" class="prism-code language-cpp codeBlock_uX6S thin-scrollbar"><code class="codeBlockLines_ZLum"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;gui/main_screen/MainView.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;touchgfx/utils.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">MainView</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">MainView</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MainView</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">setupScreen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">MainViewBase</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">setupScreen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MainView</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">tearDownScreen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">MainViewBase</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">tearDownScreen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MainView</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">buttonUpClicked</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">touchgfx_printf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;buttonUpClicked\n&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MainView</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">buttonDownClicked</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">touchgfx_printf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;buttonDownClicked\n&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__VZb"><button type="button" aria-label="複製程式碼到剪貼板" title="複製" class="clean-btn"><span class="copyButtonIcons_TYFZ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dFlr"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_amKQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在TouchGFX Designer中再次點擊「執行模擬器」來執行新程式碼。 多次點擊按鈕，確認互動和方法的運作符合預期：</p><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/running-the-simulator-3-4-17.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/running-the-simulator-3-4-17.webp"></a><p>執行含有列印成品的模擬器</p></div><h3 class="anchor anchorWithStickyNavbar_k1OW" id="updating-the-counter-value">更新計數器值<a href="#updating-the-counter-value" class="hash-link" aria-label="直接連結到更新計數器值" title="直接連結到更新計數器值">​</a></h3><p>最後一個任務是在新方法中寫入C++程式碼，以便在使用者按下按鈕時更新計數器值。 為此，我們首先在<code>MainView</code>類別中新增整數變數<code>counter</code>：</p><div class="code-header"><div><h5>MainView.hpp</h5></div></div><div class="language-cpp codeBlockContainer_xMD_ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_JIBA"><pre tabindex="0" class="prism-code language-cpp codeBlock_uX6S thin-scrollbar"><code class="codeBlockLines_ZLum"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">ifndef</span><span class="token macro property"> </span><span class="token macro property expression">MAIN_VIEW_HPP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">define</span><span class="token macro property"> </span><span class="token macro property macro-name">MAIN_VIEW_HPP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;gui_generated/main_screen/MainViewBase.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;gui/main_screen/MainPresenter.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MainView</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token base-clause keyword" style="font-style:italic">public</span><span class="token base-clause"> </span><span class="token base-clause class-name" style="color:rgb(255, 203, 107)">MainViewBase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">MainView</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">~</span><span class="token function" style="color:rgb(130, 170, 255)">MainView</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setupScreen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">tearDownScreen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">buttonUpClicked</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">virtual</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">buttonDownClicked</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">protected</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> counter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__VZb"><button type="button" aria-label="複製程式碼到剪貼板" title="複製" class="clean-btn"><span class="copyButtonIcons_TYFZ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dFlr"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_amKQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在<code>buttonUpClicked</code>方法中使計數器值遞增。 新的值隨後會轉換為字串並複製到我們在上一步中為TextArea設定的萬用字元緩衝區：</p><div class="code-header"><div><h5>MainView.cpp</h5></div></div><div class="language-cpp codeBlockContainer_xMD_ theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_JIBA"><pre tabindex="0" class="prism-code language-cpp codeBlock_uX6S thin-scrollbar"><code class="codeBlockLines_ZLum"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;gui/main_screen/MainView.hpp&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token class-name" style="color:rgb(255, 203, 107)">MainView</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">MainView</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MainView</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">setupScreen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">MainViewBase</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">setupScreen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MainView</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">tearDownScreen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">MainViewBase</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">tearDownScreen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MainView</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">buttonUpClicked</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">touchgfx_printf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;buttonUpClicked\n&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  counter</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">Unicode</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">snprintf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">textCounterBuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TEXTCOUNTER_SIZE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;%d&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> counter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Invalidate text area, which will result in it being redrawn in next tick.</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  textCounter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">invalidate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">MainView</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">buttonDownClicked</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">touchgfx_printf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;buttonDownClicked\n&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  counter</span><span class="token operator" style="color:rgb(137, 221, 255)">--</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token class-name" style="color:rgb(255, 203, 107)">Unicode</span><span class="token double-colon punctuation" style="color:rgb(199, 146, 234)">::</span><span class="token function" style="color:rgb(130, 170, 255)">snprintf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">textCounterBuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TEXTCOUNTER_SIZE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;%d&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> counter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Invalidate text area, which will result in it being redrawn in next tick.</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#bfc7d5"><span class="token plain">  textCounter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">invalidate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__VZb"><button type="button" aria-label="複製程式碼到剪貼板" title="複製" class="clean-btn"><span class="copyButtonIcons_TYFZ" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_dFlr"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_amKQ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>TextArea小工具使用Unicode，因此我們必須使用支援寫入Unicode緩衝區的特殊snprintf函數。</p><p>請注意，我們會在更新後在<code>textCounter</code>小工具上呼叫 <code>invalidate()</code> 。 如此可確保在計數器值更新後重繪TextArea。</p><p>在應用完成前，還有一件事要做。 TouchGFX只包含需要的字元，因此需告知TouchGFX Designer在「預設」字體排印中包含字元0-9。 為此，返回TouchGFX Designer並點擊「文字」分頁，然後點擊「字體排印」分頁。 在「預設」字體排印的「萬用字元範圍」欄位中新增範圍「0-9」(1)。</p><div style="position:relative"><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/set-wildcard-range-4-17.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/set-wildcard-range-4-17.webp"></a><svg style="position:absolute;top:0;left:0;pointer-events:none" viewBox="0 0 500 500"><g transform="translate(190, 40)"><path id="p1" d="M12 2c3.196 0 6 2.618 6 5.602 0 2.238-1.058 3.488-2.659 5.381-1.078 1.274-2.303 2.722-3.341 4.697-1.038-1.976-2.263-3.423-3.341-4.697-1.601-1.893-2.659-3.143-2.659-5.381 0-2.984 2.804-5.602 6-5.602z" fill="white" stroke="black"></path><text x="11.7" y="9.5" font-size="x-small" dominant-baseline="middle" text-anchor="middle">1</text></g></svg><p>為「預設」字體排印設定「萬用字元範圍」</p></div></div><p>現在，再次點擊「執行模擬器」，然後點擊幾次「向上」按鈕：</p><div class="figure"><a href="/4.25/zh-TW/img/academy/tutorials/tutorial-02/running-the-simulator-4-4-17.webp" target="_blank"><img src="/4.25/zh-TW/img/academy/tutorials/tutorial-02/running-the-simulator-4-4-17.webp"></a><p>執行模擬器</p></div><p>程式現在還不能正確處理負數。 為了解決這個問題，可在<code>buttonDownClicked()</code>函數中插入guard，以確保計數器值不會小於0，或者將字元「-」新增至使用的字體排印。 為此，只需在「預設」字體排印的「萬用字元」儲存格中新增負號(「-」)即可。</p><p>教程2到此結束。</p><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content"><li>如需深入了解文字相關資訊，請閱讀<a href="/4.25/zh-TW/docs/development/ui-development/touchgfx-engine-features/texts-and-fonts">文字和字型</a>頁面。</li></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件頁面導航"><a class="pagination-nav__link pagination-nav__link--prev" href="/4.25/zh-TW/academy/tutorials/tutorial-01"><div class="pagination-nav__sublabel">上一個</div><div class="pagination-nav__label">教程1：嘗試使用範例</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/4.25/zh-TW/academy/tutorials/tutorial-03"><div class="pagination-nav__sublabel">下一個</div><div class="pagination-nav__label">教程3：多個螢幕的應用</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cuXu thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-1-setting-a-background-image" class="table-of-contents__link toc-highlight">第1步：設定背景圖像</a><ul><li><a href="#starting-a-new-project" class="table-of-contents__link toc-highlight">啟動新專案</a></li><li><a href="#inserting-a-background" class="table-of-contents__link toc-highlight">插入背景</a></li></ul></li><li><a href="#step-2-adding-buttons" class="table-of-contents__link toc-highlight">第2步：新增按鈕</a><ul><li><a href="#adding-the-buttons" class="table-of-contents__link toc-highlight">新增按鈕</a></li><li><a href="#changing-the-look" class="table-of-contents__link toc-highlight">變更外觀</a></li></ul></li><li><a href="#step-3-adding-text" class="table-of-contents__link toc-highlight">第3步：新增文字</a><ul><li><a href="#text-background" class="table-of-contents__link toc-highlight">文字背景</a></li><li><a href="#adding-the-text" class="table-of-contents__link toc-highlight">新增文字</a></li><li><a href="#changing-the-text-typography" class="table-of-contents__link toc-highlight">變更文字字體排印</a></li><li><a href="#using-a-wildcard-text" class="table-of-contents__link toc-highlight">使用萬用字元文字</a></li></ul></li><li><a href="#step-4-adding-code" class="table-of-contents__link toc-highlight">第4步：新增程式碼</a><ul><li><a href="#implementing-the-virtual-methods" class="table-of-contents__link toc-highlight">實作虛擬方法</a></li><li><a href="#updating-the-counter-value" class="table-of-contents__link toc-highlight">更新計數器值</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">保留所有權利 © 2024 STMicroelectronics | <a href="https://www.st.com/content/st_com/en/common/terms-of-use.html">使用條款</a> | <a href="https://www.st.com/content/st_com/en/common/privacy-policy.html">隱私權政策</a> | <a href="https://app-de.onetrust.com/app/#/webform/2b87200d-4023-4588-9df7-ab0cdea1a67e">行使您的權利</a></div></div></div></footer></div></div>
<script src="/4.25/zh-TW/assets/js/runtime~main.92e68c02.js"></script>
<script src="/4.25/zh-TW/assets/js/main.f39b7cf6.js"></script>
</body>
</html>