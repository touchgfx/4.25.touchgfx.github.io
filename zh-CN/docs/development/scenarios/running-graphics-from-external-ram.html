<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-development/scenarios/running-graphics-from-external-ram" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Running graphics from external RAM | TouchGFX Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://support.touchgfx.com/4.25/zh-CN/img/meta-image.png"><meta data-rh="true" name="twitter:image" content="https://support.touchgfx.com/4.25/zh-CN/img/meta-image.png"><meta data-rh="true" property="og:url" content="https://support.touchgfx.com/4.25/zh-CN/docs/development/scenarios/running-graphics-from-external-ram"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Running graphics from external RAM | TouchGFX Documentation"><meta data-rh="true" name="description" content="This section describes how to calculate the graphics performance of a typical setup illustrated below. The example is a high resolution 24bit RGB-TFT display at 1024x600 pixels with 16bpp framebuffers stored in external 32bit SDRAM. The graphical assets are stored in an external OSPI NOR flash."><meta data-rh="true" property="og:description" content="This section describes how to calculate the graphics performance of a typical setup illustrated below. The example is a high resolution 24bit RGB-TFT display at 1024x600 pixels with 16bpp framebuffers stored in external 32bit SDRAM. The graphical assets are stored in an external OSPI NOR flash."><link data-rh="true" rel="icon" href="/4.25/zh-CN/img/favicon.png"><link data-rh="true" rel="canonical" href="https://support.touchgfx.com/4.25/zh-CN/docs/development/scenarios/running-graphics-from-external-ram"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/docs/development/scenarios/running-graphics-from-external-ram" hreflang="en"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/ko/docs/development/scenarios/running-graphics-from-external-ram" hreflang="ko"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/ja/docs/development/scenarios/running-graphics-from-external-ram" hreflang="ja"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/zh-CN/docs/development/scenarios/running-graphics-from-external-ram" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/zh-TW/docs/development/scenarios/running-graphics-from-external-ram" hreflang="zh-TW"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/docs/development/scenarios/running-graphics-from-external-ram" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://B8LNOI0XWD-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="TouchGFX Documentation" href="/4.25/zh-CN/opensearch.xml">


<script src="/4.25/zh-CN/js/one-trust.js"></script>
<script src="/4.25/js/fix-location.js"></script><link rel="stylesheet" href="/4.25/zh-CN/assets/css/styles.6e57ba1f.css">
<link rel="preload" href="/4.25/zh-CN/assets/js/runtime~main.934566fd.js" as="script">
<link rel="preload" href="/4.25/zh-CN/assets/js/main.9cd9e6e5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><div role="region" aria-label="跳转到主要内容"><a class="skipToContent_xAYN" href="#__docusaurus_skipToContent_fallback">跳转到主要内容</a></div><nav aria-label="主要" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/4.25/zh-CN/docs/introduction/welcome"><div class="navbar__logo"><img src="/4.25/zh-CN/img/logo.svg" alt="TouchGFX" class="themedImage_m0dh themedImage--light_OZkp"><img src="/4.25/zh-CN/img/logo.svg" alt="TouchGFX" class="themedImage_m0dh themedImage--dark_ViMM"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/4.25/zh-CN/docs/introduction/welcome">文档</a><a class="navbar__item navbar__link" href="/4.25/zh-CN/docs/api/namespacetouchgfx">API</a><a class="navbar__item navbar__link" sidebarid="academy" href="/4.25/zh-CN/academy/academy-introduction">TouchGFX 学院</a><a href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">社区</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/4.25/zh-CN/docs/introduction/welcome">4.25</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/4.25/zh-CN/docs/development/scenarios/running-graphics-from-external-ram">4.25</a></li><li><a href="https://support.touchgfx.com/4.25" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.25<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.24" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.24<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.23" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.23<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.22" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.22<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.21" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.21<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.20" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.20<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.19" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.19<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.18" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.18<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.17" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.17<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.16" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.16<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.15" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.15<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.14" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.14<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.13" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.13<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">简体中文</a><ul class="dropdown__menu"><li><a href="/4.25/docs/development/scenarios/running-graphics-from-external-ram" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/4.25/ko/docs/development/scenarios/running-graphics-from-external-ram" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/4.25/ja/docs/development/scenarios/running-graphics-from-external-ram" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/4.25/zh-CN/docs/development/scenarios/running-graphics-from-external-ram" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-CN">简体中文</a></li><li><a href="/4.25/zh-TW/docs/development/scenarios/running-graphics-from-external-ram" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-TW">繁體中文</a></li></ul></div><div class="searchBox_y6an"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_ovZa docsWrapper_a09d"><button aria-label="滚动返回顶部" class="clean-btn theme-back-to-top-button backToTopButton_PCdr" type="button"></button><div class="docPage_CL8Z"><aside class="theme-doc-sidebar-container docSidebarContainer_ThtD"><div class="sidebarViewport_mAJy"><div class="sidebar_Oq1e"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_M44W"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/zh-CN/docs/category/introduction">介绍</a><button aria-label="切换可折叠边栏类别“介绍”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/zh-CN/docs/category/basic-concepts">基本概念</a><button aria-label="切换可折叠边栏类别“基本概念”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/4.25/zh-CN/docs/development/development-introduction">开发</a><button aria-label="切换可折叠边栏类别“开发”" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.25/zh-CN/docs/development/hardware-selection/hardware-selection-introduction">硬件选择</a><button aria-label="切换可折叠边栏类别“硬件选择”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.25/zh-CN/docs/development/board-bring-up/board-introduction">驱动板卡</a><button aria-label="切换可折叠边栏类别“驱动板卡”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.25/zh-CN/docs/development/touchgfx-hal-development/touchgfx-al-development-introduction">TouchGFX AL开发</a><button aria-label="切换可折叠边栏类别“TouchGFX AL开发”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.25/zh-CN/docs/development/ui-development/ui-development-introduction">UI开发</a><button aria-label="切换可折叠边栏类别“UI开发”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/4.25/zh-CN/docs/category/scenarios-2">场景</a><button aria-label="切换可折叠边栏类别“场景”" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/touchgfx-on-lowcost-hardware">低成本硬件上的TouchGFX</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/touchgfx-on-gpu2d">NeoChrom/NeoChromVG在TouchGFX中的应用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/running-graphics-on-stm32h7r">Running graphics on STM32H7R7 &amp; S7</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/running-graphics-from-external-ram">Running graphics from external RAM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/lowering-memory-usage-with-partial-framebuffer">通过部分帧缓冲降低内存使用率</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/flash-limited">Flash受限的GUI开发</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/using-non-memory-mapped-flash">使用非内存映射闪存存储图像</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/using-serial-flash">使用串行闪存存储图像和字体</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/fonts-in-unmapped-flash">使用非内存映射闪存存储字体数据</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/scenarios-change-pixelformat-bpp">更改应用的像素格式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/scenarios-create-at">创建TouchGFX应用模板</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/example-gpio">外部事件作为触发器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/running-without-rtos">在无RTOS的情况下基于TouchGFX硬件模板上运行项目</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/adding-files-to-stm32cubemx-projet">向STM32CubeMX工程中添加文件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/converting-keil5-project-to-keil6">Converting a Keil compiler 5 project to Keil compiler 6</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/cmake-as-build-system">CMake as build system</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/zh-CN/docs/category/miscellaneous-1">其他情况</a><button aria-label="切换可折叠边栏类别“其他情况”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/zh-CN/docs/category/resources">资源</a><button aria-label="切换可折叠边栏类别“资源”" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_fxxJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_QTf6"><div id="doc-version-banner-identifier" class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>这是<!-- -->TouchGFX<b>4.25</b> 的文档，该版本不再被主动维护。</div><div class="margin-top--md">如需最新文档，请参阅<b><a href="https://support.touchgfx.com/docs/development/scenarios/running-graphics-from-external-ram" target="_blank" rel="noopener noreferrer">最新版本</a></b>。</div></div><div class="docItemContainer_yTh1"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer__o78" aria-label="面包屑导航"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.25/zh-CN/docs/development/development-introduction"><span itemprop="name">开发</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.25/zh-CN/docs/category/scenarios-2"><span itemprop="name">场景</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Running graphics from external RAM</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_CArF theme-doc-toc-mobile tocMobile_PMGv"><button type="button" class="clean-btn tocCollapsibleButton_I8Hj">在当前页面</button></div><div class="theme-doc-markdown markdown"><header><h1>Running graphics from external RAM</h1></header><p>This section describes how to calculate the graphics performance of a typical setup illustrated below. The example is a high resolution 24bit RGB-TFT display at 1024x600 pixels with 16bpp framebuffers stored in external 32bit SDRAM. The graphical assets are stored in an external OSPI NOR flash.</p><div class="figure"><a href="/4.25/zh-CN/img/development/scenarios/running-graphics-from-external-ram/example-setup.png" target="_blank"><img src="/4.25/zh-CN/img/development/scenarios/running-graphics-from-external-ram/example-setup.png"></a><p>Illustration of the setup used in the example</p></div><p><strong>Objective</strong></p><ol><li>Provide a step-by-step overview for developers to better understand and estimate their system performance for a graphical user interface application.</li><li>Check if the selected display and its requirements can be sustained by the defined specified system.</li><li>Understand how complex a GUI it would be possible to develop within the subsystem defined.</li></ol><h2 class="anchor anchorWithStickyNavbar_k1OW" id="step-1-display-specifications">Step 1: Display specifications<a href="#step-1-display-specifications" class="hash-link" aria-label="直接链接到Step 1: Display specifications" title="直接链接到Step 1: Display specifications">​</a></h2><p>The display used on the STM32H7S78 Discovery Kit is the MB1860. Link to BoM for the Discovery Kit can be found <a href="https://www.st.com/en/evaluation-tools/stm32h7s78-dk.html#cad-resources" target="_blank" rel="noopener noreferrer">here</a>. The display on the Discovery Kit has a resolution of 800px x 480px, which is lower than the resolution used in this example. The display specifications for the example can be seen below:</p><ul><li>Display height: 600px</li><li>Display width: 1024px</li><li>Display refresh rate: 60Hz</li><li>Display blanking area<!-- -->*<!-- -->: Typically ~10%</li></ul><p><em>*<!-- -->Display blanking covers the sum of inactive pixels. The main contribution is the porches for the LTDC.</em></p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="step-2-display-requirements-and-pixel-clock-calculations">Step 2: Display requirements and pixel clock calculations<a href="#step-2-display-requirements-and-pixel-clock-calculations" class="hash-link" aria-label="直接链接到Step 2: Display requirements and pixel clock calculations" title="直接链接到Step 2: Display requirements and pixel clock calculations">​</a></h2><p>At this step we need to calculate the display requirements, to understand if our MCU and memory selection can operate the display under the needed specifications.</p><p>From the display size specified above, we know that the total number of pixels is:</p><p>pixel height x pixel width = 600px x 1024px = 614.400px</p><p>The display has a refresh rate of (1000ms / 60 = 16ms) 60Hz, so the LTDC needs to fetch the framebuffer and send it to the display approximately every 16ms. The system (RAM) bandwidth required to keep the display updated at 60Hz (average, without blanking) can then be found with the following formula:</p><p>display pixels x update frequency x framebuffer color depth (RGB565)</p><p>614.400px x 60Hz x 16bpp = 589.824.000bits/sec = 589,82Mbit/sec</p><p>The pixel clock required to update the display at 60Hz can be found with the calculation below.</p><p>(total number of pixels x refresh rate x (blanking% / 100 + 1)) / 1.000.000.</p><p>(614.400px x 60Hz x (10 / 100 + 1)) / 1.000.000 = 40,55 MHz pixel clock</p><div class="highlight highlight-caution"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></div>Caution</h5></div><div class="highlight-content"><p>It is important not to exceed the maximum pixel clock supported by the LTDC.
Check the <a href="https://www.st.com/resource/en/application_note/an4861-lcdtft-display-controller-ltdc-on-stm32-mcus-stmicroelectronics.pdf" target="_blank" rel="noopener noreferrer">LTDC application note, AN4861,</a> for an overview of the maximum supported pixel clock in different configurations. An overview of maximum pixel clock for STM32H7R/S can be found in table 13.</p></div></div><p>An overview of the maximum supported pixel clock for STM32H7R/S can be found in table 13 of the <a href="https://www.st.com/resource/en/application_note/an4861-lcdtft-display-controller-ltdc-on-stm32-mcus-stmicroelectronics.pdf" target="_blank" rel="noopener noreferrer">LTDC application note</a>, which is inserted below.</p><div class="figure"><a href="/4.25/zh-CN/img/development/scenarios/running-graphics-from-external-ram/max-pixel-clock-table.png" target="_blank"><img src="/4.25/zh-CN/img/development/scenarios/running-graphics-from-external-ram/max-pixel-clock-table.png"></a><p>STM32H7R3/7S3 and STM32H7R7/7S7 maximal supported pixel clock</p></div><h2 class="anchor anchorWithStickyNavbar_k1OW" id="step-3-framebuffer-and-memory-strategy">Step 3: Framebuffer and memory strategy<a href="#step-3-framebuffer-and-memory-strategy" class="hash-link" aria-label="直接链接到Step 3: Framebuffer and memory strategy" title="直接链接到Step 3: Framebuffer and memory strategy">​</a></h2><p>In this example, we use an external 32-bit SDRAM connected to a 32-bit wide FMC interface running at 100MHz, employing a double framebuffer strategy. Alternatively, developers can use 16bit SDRAM, 4/8/16 bit Serial RAMs like Hyper RAM and Serial PSRAM at 200MHz DTR also.</p><p>For all external memories some extra cycles are needed to start the operations, and for this example we take the assumption that the SDRAM is working at ~80% efficiency.</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="step-4-framebuffer-performance">Step 4: Framebuffer performance<a href="#step-4-framebuffer-performance" class="hash-link" aria-label="直接链接到Step 4: Framebuffer performance" title="直接链接到Step 4: Framebuffer performance">​</a></h2><p>The theoretical RAM throughput is given by the following equation, when front and back buffer is placed at different RAM banks:</p><p>interface width x interface frequency = Mbit/sec</p><p>32bit x 100MHz  = 3.200Mbit/sec = 400MB/Sec</p><p>However, this throughput is based on the RAM being 100% efficient. If we consider the estimated efficiency from step 3, the actual throughput is:</p><p>3.200Mbit/sec x 0.8 = 2.560Mbit/sec = 320Mbytes/sec</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="step-5-calculating-remaining-bandwidth-after-a-display-update">Step 5: Calculating remaining bandwidth after a display update<a href="#step-5-calculating-remaining-bandwidth-after-a-display-update" class="hash-link" aria-label="直接链接到Step 5: Calculating remaining bandwidth after a display update" title="直接链接到Step 5: Calculating remaining bandwidth after a display update">​</a></h2><p>Earlier we saw that the display required 589,82Mbit/sec, and that our external RAM has a throughput of 2.560Mbit/sec. Now let us check how much is left for the screen rendering/animations.</p><p>2.560Mbit/sec – 589,82Mbit/sec = 1.970,18Mbit/sec = 246,27MBytes/sec</p><p>Overall, the example system can keep the display updated and on top of this there is also ~1.970Mbit/sec remaining bandwidth for extra animations and more UI layers.</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="step-6-ui-rendering-performance-gui-fps">Step 6: UI Rendering performance (GUI FPS)<a href="#step-6-ui-rendering-performance-gui-fps" class="hash-link" aria-label="直接链接到Step 6: UI Rendering performance (GUI FPS)" title="直接链接到Step 6: UI Rendering performance (GUI FPS)">​</a></h2><p>In this UI case, we are targeting 60FPS GUI rendering. This means the system must render and transfer a new frame within 16ms. Additionally, we can accept a drop to 30FPS for some advanced UI animations, ensuring a fluid user experience throughout.</p><p>Let’s calculate the framebuffer performance per framebuffer slice, meaning how many Mbit can we render inside each frame (per 16ms). First, we use the remaining framebuffer bandwidth (1.970Mbit/sec) and divide by 60FPS.</p><p>1.970Mbit/sec / 60FPS = 32,8Mbit per frame (approximately every 16ms at 60FPS).</p><p>This means that the RAM throughput is 32,8Mbit per 16ms to render and update the UI.</p><p>Step 2 in the setup illustration in the beginning shows a possible extra rendering for altering/updating the UI. Since the framebuffers are 16bpp, all operations on the framebuffers are done in 16bpp. Writing a pixel in the framebuffer will hence acquire 16bits of the SDRAM bandwidth. If a pixel needs to be blended, the pixel will first be read from the framebuffer by NeoChrom GPU. After the pixel is blended (modified), it will be written back to the framebuffer. This means that the system needs to transfer 16bits twice for a read-modify-write operation resulting in a use of 16bit + 16bit = 32bit of the SDRAM bandwidth as illustrated in the image below.</p><div class="figure"><a href="/4.25/zh-CN/img/development/scenarios/running-graphics-from-external-ram/read-modify-write.png" target="_blank"><img src="/4.25/zh-CN/img/development/scenarios/running-graphics-from-external-ram/read-modify-write.png"></a><p>Illustration of a read-modify-write operation on the framebuffer</p></div><p>We can now calculate how many pixels we can perform one operation on within each frame:</p><p>32,8Mbit/frame / 16bpp = 2,05Mpixels</p><p>To give a reference point, we calculate how many full screen operations it is possible to do within each frame:</p><p>2,05Mpixels / 614.000px = 3,34 times</p><p>This means that we can for example draw a full-screen box and then blend it with another box (16bpp write + 16bpp read + 16bpp write). This could further be blended with a third box covering 34% / 2 = 17% of the screen.</p><p>As mentioned at the beginning of step 6, we can accept a drop to 30FPS for some advanced UI animations. This means that we have twice the available bandwidth compared to 60FPS, resulting in the following number of full-screen operations possible within each frame:</p><p>3,34 x 2 = 6,68 times</p><p>It cannot be said unequivocally how many full-screen operations it should be possible to do within each frame, as it heavily depends on the complexity of the UI. Furthermore, it is important to consider if the external RAM is required for anything else than framebuffers. However, a reasonable guideline for many applications is that it should be at least above 3 times.</p><p>To compare with a concrete example, the <a href="https://www.youtube.com/watch?v=Ho_lXv0RQqo&amp;t" target="_blank" rel="noopener noreferrer">STM32H7S78-DK</a> runs an 800x480 RGB TFT display, with 16bit framebuffers in external 16bit serial PSRAM at 200MHz DTR (800MB/S theoretically if 100% efficient). This type of memory protocol uses more cycles initially resulting in a lower memory initialization efficiency compared to SDRAM (See <a href="https://www.st.com/resource/en/application_note/an6062-introduction-to-stm32h7rx7sx-system-architecture-and-performance-stmicroelectronics.pdf" target="_blank" rel="noopener noreferrer">AN6062</a> for more details on serial RAM performance). The above example and calculations show that, at this resolution, even most complex UIs can be rendered while maintaining 60 FPS.</p><p>Another reference is the <a href="https://www.youtube.com/watch?v=qYx2ngj6yhs&amp;t" target="_blank" rel="noopener noreferrer">TouchGFX Demo</a> showing a complex UI with 2 different RAM and Flash memory frequencies.</p><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content"><ul><li><a href="https://www.st.com/resource/en/application_note/an6062-introduction-to-stm32h7rx7sx-system-architecture-and-performance-stmicroelectronics.pdf" target="_blank" rel="noopener noreferrer">AN6062: Introduction to STM32H7Rx/7Sx system architecture and performance</a></li><li><a href="https://www.st.com/resource/en/application_note/an4861-lcdtft-display-controller-ltdc-on-stm32-mcus-stmicroelectronics.pdf" target="_blank" rel="noopener noreferrer">AN4861: Introduction to LCD-TFT display controller (LTDC) on STM32 MCUs</a></li><li><a href="https://www.youtube.com/watch?v=Ho_lXv0RQqo&amp;t" target="_blank" rel="noopener noreferrer">Video of STM32H7S78-DK</a></li><li><a href="https://www.youtube.com/watch?v=qYx2ngj6yhs&amp;t" target="_blank" rel="noopener noreferrer">Video of TouchGFX Demo with modifiable RAM and flash frequencies</a></li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_k1OW" id="note">Note<a href="#note" class="hash-link" aria-label="直接链接到Note" title="直接链接到Note">​</a></h2><p>It is important to note that the calculations above do not consider the available computing power; they solely focus on the RAM bandwidth. Additionally, the calculations are based on assumptions regarding the RAM efficiency. While these assumptions are not arbitrary, they remain assumptions, nonetheless.</p><p>Despite these limitations, the procedure in the example can still serve as an indication of possible performance.</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="glossary">Glossary<a href="#glossary" class="hash-link" aria-label="直接链接到Glossary" title="直接链接到Glossary">​</a></h2><ul><li><em>Read-modify-write:</em> A process where a memory location is read, modified, and then written back.</li><li><em>Pixel clock:</em> The frequency at which pixels are transmitted to the display, determining the refresh rate and resolution of the screen. It defines the speed at which the display controller sends pixel data to the display panel.</li><li><em>Framebuffer:</em> An area in RAM containing a bitmap that drives the display. The framebuffer stores pixel values, which are read by the display controller. The rendering operations are performed to the framebuffer.</li><li><em>Blanking:</em> Display blanking covers the sum of inactive pixels. The main contribution is the porches for the LTDC.</li><li><em>FMC:</em> Flexible Memory Controller. A hardware component that manages the interface between the CPU and various types of memory, such as SRAM, NOR, NAND, and SDRAM. In this example it is used for the external SDRAM.</li><li><em>XSPI:</em> Extended-SPI interface. An advanced version of SPI that supports higher data rates and additional features for enhanced communication with peripheral devices. In this example it is used for the external NOR flash. For more information visit the <a href="https://wiki.st.com/stm32mcu/wiki/Introduction_to_external_serial_memories_XSPI_interoperability_for_STM32" target="_blank" rel="noopener noreferrer">wiki</a>.</li><li><em>Memory protocol overhead:</em> The extra time and resources required to manage communication and data transfer between memory and the processor, including tasks like error checking, handshaking, and addressing. This overhead impacts the overall system performance.</li><li><em>DTR:</em> Double Transfer Rate. Data is transferred on both rising and falling clock edges. The bandwith is hence doubled.</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档页面导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/4.25/zh-CN/docs/development/scenarios/running-graphics-on-stm32h7r"><div class="pagination-nav__sublabel">上一个</div><div class="pagination-nav__label">Running graphics on STM32H7R7 &amp; S7</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/4.25/zh-CN/docs/development/scenarios/lowering-memory-usage-with-partial-framebuffer"><div class="pagination-nav__sublabel">下一个</div><div class="pagination-nav__label">通过部分帧缓冲降低内存使用率</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cuXu thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-1-display-specifications" class="table-of-contents__link toc-highlight">Step 1: Display specifications</a></li><li><a href="#step-2-display-requirements-and-pixel-clock-calculations" class="table-of-contents__link toc-highlight">Step 2: Display requirements and pixel clock calculations</a></li><li><a href="#step-3-framebuffer-and-memory-strategy" class="table-of-contents__link toc-highlight">Step 3: Framebuffer and memory strategy</a></li><li><a href="#step-4-framebuffer-performance" class="table-of-contents__link toc-highlight">Step 4: Framebuffer performance</a></li><li><a href="#step-5-calculating-remaining-bandwidth-after-a-display-update" class="table-of-contents__link toc-highlight">Step 5: Calculating remaining bandwidth after a display update</a></li><li><a href="#step-6-ui-rendering-performance-gui-fps" class="table-of-contents__link toc-highlight">Step 6: UI Rendering performance (GUI FPS)</a></li><li><a href="#note" class="table-of-contents__link toc-highlight">Note</a></li><li><a href="#glossary" class="table-of-contents__link toc-highlight">Glossary</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">保留所有权利 © 2024 STMicroelectronics | <a href="https://www.st.com/content/st_com/en/common/terms-of-use.html">使用条款</a> | <a href="https://www.st.com/content/st_com/en/common/privacy-policy.html">隐私策略</a> | <a href="/docs/miscellaneous/cookie-policy">Cookie政策</a> | <a href="https://app-de.onetrust.com/app/#/webform/2b87200d-4023-4588-9df7-ab0cdea1a67e">行使您的权利</a></div></div></div></footer></div></div>
<script src="/4.25/zh-CN/assets/js/runtime~main.934566fd.js"></script>
<script src="/4.25/zh-CN/assets/js/main.9cd9e6e5.js"></script>
</body>
</html>