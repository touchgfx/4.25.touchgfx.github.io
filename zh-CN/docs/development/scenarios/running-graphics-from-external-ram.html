<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-development/scenarios/running-graphics-from-external-ram" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">从外部RAM运行图形 | TouchGFX Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://support.touchgfx.com/4.25/zh-CN/img/meta-image.png"><meta data-rh="true" name="twitter:image" content="https://support.touchgfx.com/4.25/zh-CN/img/meta-image.png"><meta data-rh="true" property="og:url" content="https://support.touchgfx.com/4.25/zh-CN/docs/development/scenarios/running-graphics-from-external-ram"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="从外部RAM运行图形 | TouchGFX Documentation"><meta data-rh="true" name="description" content="本节介绍如何计算下图所示典型配置的图形性能。 示例采用1024x600像素的高分辨率24位RGB-TFT显示屏，帧缓存为16bpp格式并存储于外部32位SDRAM中。 图形资源存储在外部OSPI NOR Flash中。"><meta data-rh="true" property="og:description" content="本节介绍如何计算下图所示典型配置的图形性能。 示例采用1024x600像素的高分辨率24位RGB-TFT显示屏，帧缓存为16bpp格式并存储于外部32位SDRAM中。 图形资源存储在外部OSPI NOR Flash中。"><link data-rh="true" rel="icon" href="/4.25/zh-CN/img/favicon.png"><link data-rh="true" rel="canonical" href="https://support.touchgfx.com/4.25/zh-CN/docs/development/scenarios/running-graphics-from-external-ram"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/docs/development/scenarios/running-graphics-from-external-ram" hreflang="en"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/ko/docs/development/scenarios/running-graphics-from-external-ram" hreflang="ko"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/ja/docs/development/scenarios/running-graphics-from-external-ram" hreflang="ja"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/zh-CN/docs/development/scenarios/running-graphics-from-external-ram" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/zh-TW/docs/development/scenarios/running-graphics-from-external-ram" hreflang="zh-TW"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.25/docs/development/scenarios/running-graphics-from-external-ram" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://B8LNOI0XWD-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="TouchGFX Documentation" href="/4.25/zh-CN/opensearch.xml">


<script src="/4.25/zh-CN/js/one-trust.js"></script>
<script src="/4.25/js/fix-location.js"></script><link rel="stylesheet" href="/4.25/zh-CN/assets/css/styles.6e57ba1f.css">
<link rel="preload" href="/4.25/zh-CN/assets/js/runtime~main.1b1944d0.js" as="script">
<link rel="preload" href="/4.25/zh-CN/assets/js/main.89d1ac63.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><div role="region" aria-label="跳转到主要内容"><a class="skipToContent_xAYN" href="#__docusaurus_skipToContent_fallback">跳转到主要内容</a></div><nav aria-label="主要" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/4.25/zh-CN/docs/introduction/welcome"><div class="navbar__logo"><img src="/4.25/zh-CN/img/logo.svg" alt="TouchGFX" class="themedImage_m0dh themedImage--light_OZkp"><img src="/4.25/zh-CN/img/logo.svg" alt="TouchGFX" class="themedImage_m0dh themedImage--dark_ViMM"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/4.25/zh-CN/docs/introduction/welcome">文档</a><a class="navbar__item navbar__link" href="/4.25/zh-CN/docs/api/namespacetouchgfx">API</a><a class="navbar__item navbar__link" sidebarid="academy" href="/4.25/zh-CN/academy/academy-introduction">TouchGFX 学院</a><a href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">社区</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/4.25/zh-CN/docs/introduction/welcome">4.25</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/4.25/zh-CN/docs/development/scenarios/running-graphics-from-external-ram">4.25</a></li><li><a href="https://support.touchgfx.com/4.25" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.25<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.24" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.24<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.23" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.23<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.22" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.22<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.21" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.21<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.20" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.20<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.19" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.19<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.18" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.18<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.17" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.17<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.16" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.16<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.15" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.15<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.14" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.14<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.13" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.13<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_vrp6"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">简体中文</a><ul class="dropdown__menu"><li><a href="/4.25/docs/development/scenarios/running-graphics-from-external-ram" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/4.25/ko/docs/development/scenarios/running-graphics-from-external-ram" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/4.25/ja/docs/development/scenarios/running-graphics-from-external-ram" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/4.25/zh-CN/docs/development/scenarios/running-graphics-from-external-ram" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-CN">简体中文</a></li><li><a href="/4.25/zh-TW/docs/development/scenarios/running-graphics-from-external-ram" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-TW">繁體中文</a></li></ul></div><div class="searchBox_y6an"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_ovZa docsWrapper_a09d"><button aria-label="滚动返回顶部" class="clean-btn theme-back-to-top-button backToTopButton_PCdr" type="button"></button><div class="docPage_CL8Z"><aside class="theme-doc-sidebar-container docSidebarContainer_ThtD"><div class="sidebarViewport_mAJy"><div class="sidebar_Oq1e"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_M44W"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/zh-CN/docs/category/introduction">介绍</a><button aria-label="切换可折叠边栏类别“介绍”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/zh-CN/docs/category/basic-concepts">基本概念</a><button aria-label="切换可折叠边栏类别“基本概念”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/4.25/zh-CN/docs/development/development-introduction">开发</a><button aria-label="切换可折叠边栏类别“开发”" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.25/zh-CN/docs/development/hardware-selection/hardware-selection-introduction">硬件选择</a><button aria-label="切换可折叠边栏类别“硬件选择”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.25/zh-CN/docs/development/board-bring-up/board-introduction">驱动板卡</a><button aria-label="切换可折叠边栏类别“驱动板卡”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.25/zh-CN/docs/development/touchgfx-hal-development/touchgfx-al-development-introduction">TouchGFX AL开发</a><button aria-label="切换可折叠边栏类别“TouchGFX AL开发”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.25/zh-CN/docs/development/ui-development/ui-development-introduction">UI开发</a><button aria-label="切换可折叠边栏类别“UI开发”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/4.25/zh-CN/docs/category/scenarios-2">场景</a><button aria-label="切换可折叠边栏类别“场景”" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/touchgfx-on-lowcost-hardware">低成本硬件上的TouchGFX</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/touchgfx-on-gpu2d">NeoChrom/NeoChromVG在TouchGFX中的应用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/running-graphics-on-stm32h7r">STM32H7R7/S7图形处理性能</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/running-graphics-from-external-ram">从外部RAM运行图形</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/lowering-memory-usage-with-partial-framebuffer">通过部分帧缓冲降低内存使用率</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/flash-limited">Flash受限的GUI开发</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/using-non-memory-mapped-flash">使用非内存映射闪存存储图像</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/using-serial-flash">使用串行闪存存储图像和字体</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/fonts-in-unmapped-flash">使用非内存映射闪存存储字体数据</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/scenarios-change-pixelformat-bpp">更改应用的像素格式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/scenarios-create-at">创建TouchGFX应用模板</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/example-gpio">外部事件作为触发器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/running-without-rtos">在无RTOS的情况下基于TouchGFX硬件模板上运行项目</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/adding-files-to-stm32cubemx-projet">向STM32CubeMX工程中添加文件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/converting-keil5-project-to-keil6">将Keil编译器5项目转换为Keil编译器6</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.25/zh-CN/docs/development/scenarios/cmake-as-build-system">CMake作为编译系统</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/zh-CN/docs/category/miscellaneous-1">其他情况</a><button aria-label="切换可折叠边栏类别“其他情况”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.25/zh-CN/docs/category/resources">资源</a><button aria-label="切换可折叠边栏类别“资源”" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_fxxJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_QTf6"><div id="doc-version-banner-identifier" class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>这是<!-- -->TouchGFX<b>4.25</b> 的文档，该版本不再被主动维护。</div><div class="margin-top--md">如需最新文档，请参阅<b><a href="https://support.touchgfx.com/docs/development/scenarios/running-graphics-from-external-ram" target="_blank" rel="noopener noreferrer">最新版本</a></b>。</div></div><div class="docItemContainer_yTh1"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer__o78" aria-label="面包屑导航"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.25/zh-CN/docs/development/development-introduction"><span itemprop="name">开发</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.25/zh-CN/docs/category/scenarios-2"><span itemprop="name">场景</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">从外部RAM运行图形</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_CArF theme-doc-toc-mobile tocMobile_PMGv"><button type="button" class="clean-btn tocCollapsibleButton_I8Hj">在当前页面</button></div><div class="theme-doc-markdown markdown"><header><h1>从外部RAM运行图形</h1></header><p>本节介绍如何计算下图所示典型配置的图形性能。 示例采用1024x600像素的高分辨率24位RGB-TFT显示屏，帧缓存为16bpp格式并存储于外部32位SDRAM中。 图形资源存储在外部OSPI NOR Flash中。</p><div class="figure"><a href="/4.25/zh-CN/img/development/scenarios/running-graphics-from-external-ram/example-setup.png" target="_blank"><img src="/4.25/zh-CN/img/development/scenarios/running-graphics-from-external-ram/example-setup.png"></a><p>示例中使用的配置图示</p></div><p><strong>目标</strong></p><ol><li>为开发人员提供分步指导，帮助其更好地理解和评估图形用户界面应用的系统性能。</li><li>验证所选显示屏及其需求是否能在指定系统配置下持续运行。</li><li>明确在定义的子系统范围内可开发何种复杂程度的GUI。</li></ol><h2 class="anchor anchorWithStickyNavbar_k1OW" id="步骤1显示屏规格">步骤1：显示屏规格<a href="#步骤1显示屏规格" class="hash-link" aria-label="直接链接到步骤1：显示屏规格" title="直接链接到步骤1：显示屏规格">​</a></h2><p>STM32H7S78探索套件采用的显示屏型号为MB1860。 探索套件的BOM链接见<a href="https://www.st.com/en/evaluation-tools/stm32h7s78-dk.html#cad-resources" target="_blank" rel="noopener noreferrer">此处</a>。 探索套件显示屏的分辨率为800×480像素，低于本例中的配置。 本例的显示屏规格如下：</p><ul><li>显示高度：600 px</li><li>显示宽度：1024 px</li><li>显示器刷新率：60 Hz</li><li>显示消隐区占比*：通常约10%</li></ul><p><em>*<!-- -->显示消隐区包含所有非活跃像素。 主要由LTDC的 porch区域构成。</em></p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="步骤2显示屏需求与像素时钟计算">步骤2：显示屏需求与像素时钟计算<a href="#步骤2显示屏需求与像素时钟计算" class="hash-link" aria-label="直接链接到步骤2：显示屏需求与像素时钟计算" title="直接链接到步骤2：显示屏需求与像素时钟计算">​</a></h2><p>本步骤需计算显示需求，以确认所选MCU和存储器能否满足显示规格要求。</p><p>根据上述分辨率，总像素数为：</p><p>像素高度 × 像素宽度 = 600 px × 1024 px = 614400 px</p><p>显示屏刷新率为60Hz (1000ms/60 = 16 ms)，因此LTDC需要每16ms从帧缓存读取数据并发送至显示屏。 不考虑消隐区时，维持60 Hz刷新所需的系统 (RAM) 带宽可通过以下公式计算：</p><p>总像素数 × 刷新率 × 帧缓存色深 (RGB565)</p><p>614,400 px × 60 Hz × 16 bpp = 589,824,000 bit/s = 589.82 Mbps</p><p>60Hz 刷新率所需的像素时钟频率计算如下：</p><p>(总像素数 × 刷新率 × (消隐区占比% / 100 + 1))/ 1000000</p><p>(614400 px × 60 Hz × (10 / 100 + 1)) / 1000000 = 40.55 MHz像素时钟</p><div class="highlight highlight-caution"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></div>Caution</h5></div><div class="highlight-content"><p>像素时钟不得超过LTDC支持的最大值。
有关不同配置下最大像素时钟的概述，请查阅<!-- -->[LTDC应用笔记AN4861]<!-- --> (<a href="https://www.st.com/resource/zh/application_note/an4861-lcdtft-display-controller-ltdc-on-stm32-mcus-stmicroelectronics.pdf)%E3%80%82" target="_blank" rel="noopener noreferrer">https://www.st.com/resource/zh/application_note/an4861-lcdtft-display-controller-ltdc-on-stm32-mcus-stmicroelectronics.pdf)。</a> STM32H7R/S的最大像素时钟详情请参见表13。</p></div></div><p>STM32H7R/S支持的最大像素时钟详见下方插入的<a href="https://www.st.com/resource/en/application_note/an4861-lcdtft-display-controller-ltdc-on-stm32-mcus-stmicroelectronics.pdf" target="_blank" rel="noopener noreferrer">LTDC应用笔记</a>表13。</p><div class="figure"><a href="/4.25/zh-CN/img/development/scenarios/running-graphics-from-external-ram/max-pixel-clock-table.png" target="_blank"><img src="/4.25/zh-CN/img/development/scenarios/running-graphics-from-external-ram/max-pixel-clock-table.png"></a><p>STM32H7R3/7S3和STM32H7R7/7S7支持的最大像素时钟</p></div><h2 class="anchor anchorWithStickyNavbar_k1OW" id="步骤3帧缓存和存储器策略">步骤3：帧缓存和存储器策略<a href="#步骤3帧缓存和存储器策略" class="hash-link" aria-label="直接链接到步骤3：帧缓存和存储器策略" title="直接链接到步骤3：帧缓存和存储器策略">​</a></h2><p>本例采用32位宽FMC接口连接外部32位SDRAM，运行频率为100 MHz，并采用双帧缓存策略。 此外，开发人员还可选用16位SDRAM或200MHz DTR模式的4/8/16位串行RAM（如Hyper RAM和串行PSRAM）。</p><p>所有外部存储器均需额外周期启动操作，本例假设SDRAM效率约为80%。</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="步骤4帧缓存性能">步骤4：帧缓存性能<a href="#步骤4帧缓存性能" class="hash-link" aria-label="直接链接到步骤4：帧缓存性能" title="直接链接到步骤4：帧缓存性能">​</a></h2><p>当前后缓存位于不同RAM库时，理论RAM吞吐量公式为：</p><p>接口位宽 × 接口频率 = Mbit/s</p><p>32 bit × 100 MHz = 3200 Mbps = 400 MB/s</p><p>然而，此吞吐量是基于RAM以100%的效率运作的假设。 若考虑步骤3中的估计效率，实际吞吐量为：</p><p>3200 Mbps × 0.8 = 2560 Mbps = 320 Mbyte/s</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="步骤5计算显示更新后的剩余带宽">步骤5：计算显示更新后的剩余带宽<a href="#步骤5计算显示更新后的剩余带宽" class="hash-link" aria-label="直接链接到步骤5：计算显示更新后的剩余带宽" title="直接链接到步骤5：计算显示更新后的剩余带宽">​</a></h2><p>前文可知显示屏需要589.82 Mbps带宽，而外部RAM吞吐量为2560 Mbps。 现在让我们计算可用于屏幕渲染/动画的剩余带宽。</p><p>2560 Mbps - 589.82 Mbps = 1970.18 Mbps = 246.27 MByte/s</p><p>总体而言，示例系统在维持显示更新的同时，还可为额外动画和UI图层提供约1970 Mbps剩余带宽。</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="步骤6ui渲染性能gui-帧率">步骤6：UI渲染性能（GUI 帧率）<a href="#步骤6ui渲染性能gui-帧率" class="hash-link" aria-label="直接链接到步骤6：UI渲染性能（GUI 帧率）" title="直接链接到步骤6：UI渲染性能（GUI 帧率）">​</a></h2><p>在此UI用例中，我们的目标是实现60FPS的GUI渲染。 这意味着系统必须在16 ms内渲染并传输新帧。 此外，对于某些高级UI动画可接受帧率降至30FPS，以确保整体流畅的用户体验。</p><p>让我们计算每帧缓存片的性能，即每帧（每16 ms）可渲染的数据量。 首先取剩余帧缓存带宽1970 Mbps除以60FPS。</p><p>1970 Mbps / 60FPS = 每帧32.8 Mbps（60FPS约16 ms）。</p><p>计算结果表明，系统需在每16 ms周期内完成32.8 Mbps的数据吞吐，以满足UI的实时渲染和更新需求。</p><p>初始配置图示的步骤2展示了用于修改/更新UI的额外渲染流程。 由于帧缓存采用16 bpp格式，所有帧缓存操作均以16 bpp执行。 因此在帧缓存中写入单个像素将占用16位SDRAM带宽。 若需混合像素，NeoChrom GPU将首先从帧缓存读取该像素。 完成像素混合（修改）后再写回帧缓存。 这意味着系统执行读取-修改-写入操作需传输两次16位数据，共占用32位SDRAM带宽（16位读取 + 16位写入），如下图所示。</p><div class="figure"><a href="/4.25/zh-CN/img/development/scenarios/running-graphics-from-external-ram/read-modify-write.png" target="_blank"><img src="/4.25/zh-CN/img/development/scenarios/running-graphics-from-external-ram/read-modify-write.png"></a><p>帧缓存读取-修改-写入操作示意图</p></div><p>基于此，可计算单帧周期内可处理的像素数量：</p><p>32.8 Mbps/帧/ 16 bpp = 205万像素</p><p>为提供直观参考，进一步计算单帧周期内可完成的全屏操作次数：</p><p>205万像素/ 614000像素 = 3.34次</p><p>这意味着系统可以先绘制全屏色块，再与第二个色块混合（16 bpp写入+ 16 bpp读取+ 16 bpp写入）。 然后进一步与覆盖17%屏幕的第三色块混合（34%带宽/2）。</p><p>如步骤6开头所述，部分高级UI动画可接受帧率降至30FPS。 这意味着相比60FPS，可用带宽翻倍，单帧全屏操作次数可提升至：</p><p>3.34 × 2 = 6.68次</p><p>单帧可执行的全屏操作次数无法一概而论，这很大程度上取决于UI的复杂程度。 此外需考虑外部RAM是否需用于帧缓存之外的其他用途。 但对多数应用而言，合理的基准应保持3次以上全屏操作能力。</p><p><a href="https://www.youtube.com/watch?v=Ho_lXv0RQqo&amp;t" target="_blank" rel="noopener noreferrer">STM32H7S78-DK</a>开发板采用800×480分辨率的RGB TFT显示屏，其16位帧缓存存储于外部16位串行PSRAM中，工作于200MHz双倍传输速率 (DTR) 模式，理论传输带宽可达800 MB/s（工作效率100%时）。 相较于SDRAM，该串行PSRAM在初始化阶段需要更多时钟周期，导致内存初始化效率较低（有关串行RAM性能的详细信息，请参见<a href="https://www.st.com/resource/en/application_note/an6062-introduction-to-stm32h7rx7sx-system-architecture-and-performance-stmicroelectronics.pdf" target="_blank" rel="noopener noreferrer">AN6062</a>）。 上述示例和计算表明，在此分辨率下，系统完全能够支持复杂UI的实时渲染，并稳定保持60FPS的刷新率性能。</p><p><a href="https://www.youtube.com/watch?v=qYx2ngj6yhs&amp;t" target="_blank" rel="noopener noreferrer">TouchGFX Demo</a>提供了另一个典型参考案例，其复杂UI支持RAM和Flash存储器的双频工作模式配置。</p><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content"><ul><li><a href="https://www.st.com/resource/zh/application_note/an6062-introduction-to-stm32h7rx7sx-system-architecture-and-performance-stmicroelectronics.pdf" target="_blank" rel="noopener noreferrer">AN6062：STM32H7Rx/7Sx系统架构和性能简介</a></li><li><a href="https://www.st.com/resource/zh/application_note/an4861-lcdtft-display-controller-ltdc-on-stm32-mcus-stmicroelectronics.pdf" target="_blank" rel="noopener noreferrer">AN4861：STM32 MCU上的LCD-TFT显示屏控制器 (LTDC) 简介</a></li><li><a href="https://www.youtube.com/watch?v=Ho_lXv0RQqo&amp;t" target="_blank" rel="noopener noreferrer">STM32H7S78-DK视频</a></li><li><a href="https://www.youtube.com/watch?v=qYx2ngj6yhs&amp;t" target="_blank" rel="noopener noreferrer">可修改RAM和Flash频率的TouchGFX演示视频</a></li></ul></div></div><h2 class="anchor anchorWithStickyNavbar_k1OW" id="注意">注意<a href="#注意" class="hash-link" aria-label="直接链接到注意" title="直接链接到注意">​</a></h2><p>需注意，上述计算仅基于RAM带宽分析，未考虑实际可用计算能力。 同时，相关计算结果建立在RAM效率假设基础上。 尽管这些假设有依据，但仍属于理论范畴。</p><p>尽管存在局限性，本示例中的分析方法仍可为性能评估提供有效参考。</p><h2 class="anchor anchorWithStickyNavbar_k1OW" id="词汇表">词汇表<a href="#词汇表" class="hash-link" aria-label="直接链接到词汇表" title="直接链接到词汇表">​</a></h2><ul><li><em>读取-修改-写入：</em>读取内存数据、修改、写回的操作过程。</li><li><em>像素时钟：</em>像素传输到显示器的频率，决定屏幕的刷新率和分辨率。 即显示控制器向面板发送像素数据的速度。</li><li><em>帧缓存：</em>存储显示位图的RAM区域。 显示控制器从中读取像素值。 所有渲染操作均作用于该区域。</li><li><em>消隐区：</em>显示无效像素的总和。 主要由LTDC的 porch区域构成。</li><li><em>FMC：</em>可变存储控制器。 管理CPU与各类存储器（如SRAM、NOR、NAND和SDRAM）之间接口的硬件组件。 本例中用于控制外部SDRAM。</li><li><em>XSPI：</em>扩展SPI接口。 SPI的高级版本，支持更高的数据传输速率及增强外设通信功能。 本例中用于连接外部NOR Flash。 详见<a href="https://wiki.st.com/stm32mcu/wiki/Introduction_to_external_serial_memories_XSPI_interoperability_for_STM32" target="_blank" rel="noopener noreferrer">wiki</a>说明。</li><li><em>存储器协议开销：</em>管理内存与处理器之间的通信和数据传输所需的额外时间和资源，包括错误校验、握手协议和寻址等任务。 这种开销会影响系统的整体性能。</li><li><em>DTR：</em>双倍传输速率。 数据在时钟上升沿和下降沿传输。 从而实现带宽倍增。</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档页面导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/4.25/zh-CN/docs/development/scenarios/running-graphics-on-stm32h7r"><div class="pagination-nav__sublabel">上一个</div><div class="pagination-nav__label">STM32H7R7/S7图形处理性能</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/4.25/zh-CN/docs/development/scenarios/lowering-memory-usage-with-partial-framebuffer"><div class="pagination-nav__sublabel">下一个</div><div class="pagination-nav__label">通过部分帧缓冲降低内存使用率</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cuXu thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#步骤1显示屏规格" class="table-of-contents__link toc-highlight">步骤1：显示屏规格</a></li><li><a href="#步骤2显示屏需求与像素时钟计算" class="table-of-contents__link toc-highlight">步骤2：显示屏需求与像素时钟计算</a></li><li><a href="#步骤3帧缓存和存储器策略" class="table-of-contents__link toc-highlight">步骤3：帧缓存和存储器策略</a></li><li><a href="#步骤4帧缓存性能" class="table-of-contents__link toc-highlight">步骤4：帧缓存性能</a></li><li><a href="#步骤5计算显示更新后的剩余带宽" class="table-of-contents__link toc-highlight">步骤5：计算显示更新后的剩余带宽</a></li><li><a href="#步骤6ui渲染性能gui-帧率" class="table-of-contents__link toc-highlight">步骤6：UI渲染性能（GUI 帧率）</a></li><li><a href="#注意" class="table-of-contents__link toc-highlight">注意</a></li><li><a href="#词汇表" class="table-of-contents__link toc-highlight">词汇表</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">保留所有权利 © 2024 STMicroelectronics | <a href="https://www.st.com/content/st_com/en/common/terms-of-use.html">使用条款</a> | <a href="https://www.st.com/content/st_com/en/common/privacy-policy.html">隐私策略</a> | <a href="/docs/miscellaneous/cookie-policy">Cookie政策</a> | <a href="https://app-de.onetrust.com/app/#/webform/2b87200d-4023-4588-9df7-ab0cdea1a67e">行使您的权利</a></div></div></div></footer></div></div>
<script src="/4.25/zh-CN/assets/js/runtime~main.1b1944d0.js"></script>
<script src="/4.25/zh-CN/assets/js/main.89d1ac63.js"></script>
</body>
</html>