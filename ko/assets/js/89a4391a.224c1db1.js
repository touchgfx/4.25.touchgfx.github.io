"use strict";(self.webpackChunktouchgfx_documentation=self.webpackChunktouchgfx_documentation||[]).push([[56311],{49613:(e,n,t)=>{t.d(n,{Zo:()=>s,kt:()=>h});var a=t(59496);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=a.createContext({}),p=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},s=function(e){var n=p(e.components);return a.createElement(c.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=p(t),m=r,h=u["".concat(c,".").concat(m)]||u[m]||d[m]||i;return t?a.createElement(h,o(o({ref:n},s),{},{components:t})):a.createElement(h,o({ref:n},s))}));function h(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=m;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l[u]="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=t[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},28128:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(59496);class r extends a.Component{render(){return a.createElement("div",{className:"code-header"},a.createElement("div",null,a.createElement("h5",null,this.props.children)))}}const i=r},89639:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(59496),r=t(97395);const i=function(e){const n=e.noShadow||!1,t=e.width,i=e.height,o=(0,r.Z)(e.imageSource);return n?a.createElement("div",{className:"figure noshadow"},a.createElement("a",{href:o,target:"_blank"},a.createElement("img",{width:t,height:i,src:o})),a.createElement("p",null,e.children)):a.createElement("div",{className:"figure"},a.createElement("a",{href:o,target:"_blank"},a.createElement("img",{width:t,height:i,src:o})),a.createElement("p",null,e.children))}},48753:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(59496),r=t(96151);const i=a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},a.createElement("path",{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}));class o extends a.Component{render(){return a.createElement(r.Z,{color:"var(--highlight-color-further-reading)",header:"Further reading",type:"further-reading",icon:i},this.props.children)}}const l=o},96151:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(59496);class r extends a.Component{render(){const e=`highlight highlight-${this.props.type}`;return a.createElement("div",{className:e},a.createElement("div",{className:"highlight-heading"},a.createElement("h5",null,a.createElement("div",{className:"highlight-icon"},this.props.icon),this.props.header)),a.createElement("div",{className:"highlight-content"},this.props.children))}}const i=r},49018:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(59496),r=t(96151);const i=a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},a.createElement("path",{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}));class o extends a.Component{render(){return a.createElement(r.Z,{color:"var(--highlight-color-note)",header:"Note",type:"note",icon:i},this.props.children)}}const l=o},21100:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(59496),r=t(96151);const i=a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},a.createElement("path",{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}));class o extends a.Component{render(){return a.createElement(r.Z,{color:"var(--highlight-color-tip)",header:"Tip",type:"tip",icon:i},this.props.children)}}const l=o},81810:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>f,contentTitle:()=>m,default:()=>F,frontMatter:()=>d,metadata:()=>h,toc:()=>g});t(59496);var a=t(49613),r=t(89639),i=t(49018),o=t(21100),l=t(28128),c=t(48753),p=t(18399);function s(){return s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},s.apply(this,arguments)}function u(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}const d={id:"scenarios-fmc",title:"FMC \ub514\uc2a4\ud50c\ub808\uc774 \uc778\ud130\ud398\uc774\uc2a4"},m=void 0,h={unversionedId:"development/touchgfx-hal-development/scenarios/scenarios-fmc",id:"development/touchgfx-hal-development/scenarios/scenarios-fmc",title:"FMC \ub514\uc2a4\ud50c\ub808\uc774 \uc778\ud130\ud398\uc774\uc2a4",description:"\uc774 \uc2dc\ub098\ub9ac\uc624\ub294 FMC \ubcd1\ub82c \uc778\ud130\ud398\uc774\uc2a4\uc640 GRAM\uc774 \uc788\ub294 \ub514\uc2a4\ud50c\ub808\uc774\ub97c \uc0ac\uc6a9\ud560 \ub54c STM32 FMC(Flexible Memory Controller) \ubc0f TouchGFX Generator\ub97c \uad6c\uc131\ud558\ub294 \ubc29\ubc95\uc744 \uc124\uba85\ud569\ub2c8\ub2e4.",source:"@site/i18n/ko/docusaurus-plugin-content-docs/current/development/touchgfx-hal-development/scenarios/scenarios-fmc.mdx",sourceDirName:"development/touchgfx-hal-development/scenarios",slug:"/development/touchgfx-hal-development/scenarios/scenarios-fmc",permalink:"/4.25/ko/docs/development/touchgfx-hal-development/scenarios/scenarios-fmc",draft:!1,tags:[],version:"current",frontMatter:{id:"scenarios-fmc",title:"FMC \ub514\uc2a4\ud50c\ub808\uc774 \uc778\ud130\ud398\uc774\uc2a4"},sidebar:"docs",previous:{title:"MIPI-DSI Video Mode",permalink:"/4.25/ko/docs/development/touchgfx-hal-development/scenarios/scenarios-dsi-video-mode"},next:{title:"SPI \ub514\uc2a4\ud50c\ub808\uc774 \uc778\ud130\ud398\uc774\uc2a4",permalink:"/4.25/ko/docs/development/touchgfx-hal-development/scenarios/scenarios-spi"}},f={},g=[{value:"\uad6c\uc131",id:"configuration",level:2},{value:"FMC \uad6c\uc131",id:"fmc-configuration",level:3},{value:"TouchGFX Generator",id:"touchgfx-generator",level:3},{value:"\ub514\uc2a4\ud50c\ub808\uc774 \uc778\ud130\ud398\uc774\uc2a4: \ubcd1\ub82c RGB(FMC)",id:"\ub514\uc2a4\ud50c\ub808\uc774-\uc778\ud130\ud398\uc774\uc2a4-\ubcd1\ub82c-rgbfmc",level:4},{value:"Display Interface: Custom",id:"display-interface-custom",level:4},{value:"DMA \uad6c\uc131",id:"dma-configuration",level:3},{value:"\uc0ac\uc6a9\uc790 \ucf54\ub4dc",id:"user-code",level:2},{value:"\uc9c0\uc6d0\ub418\ub294 \ud504\ub808\uc784 \ubc84\ud37c \uc804\ub7b5",id:"supported-framebuffer-strategies",level:2},{value:"\ub2e8\uc77c",id:"single",level:3},{value:"\ucc38\uc870 \uad6c\ud604",id:"\ucc38\uc870-\uad6c\ud604",level:4},{value:"\uc774\uc911",id:"double",level:3},{value:"\ucc38\uc870 \uad6c\ud604",id:"\ucc38\uc870-\uad6c\ud604-1",level:4},{value:"\ubd80\ubd84 - GRAM \ub514\uc2a4\ud50c\ub808\uc774",id:"partial",level:3},{value:"\ucc38\uc870 \uad6c\ud604",id:"\ucc38\uc870-\uad6c\ud604-2",level:4}],k={toc:g},T="wrapper";function F(e){var{components:n}=e,t=u(e,["components"]);return(0,a.kt)(T,s({},k,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"\uc774 \uc2dc\ub098\ub9ac\uc624\ub294 FMC \ubcd1\ub82c \uc778\ud130\ud398\uc774\uc2a4\uc640 GRAM\uc774 \uc788\ub294 \ub514\uc2a4\ud50c\ub808\uc774\ub97c \uc0ac\uc6a9\ud560 \ub54c STM32 FMC(Flexible Memory Controller) \ubc0f ",(0,a.kt)("em",{parentName:"p"},"TouchGFX Generator"),"\ub97c \uad6c\uc131\ud558\ub294 \ubc29\ubc95\uc744 \uc124\uba85\ud569\ub2c8\ub2e4."),(0,a.kt)(i.Z,{mdxType:"Note"},"\uc774 \uc2dc\ub098\ub9ac\uc624\ub294 \uc791\ub3d9 \uc911\uc778 \ub514\uc2a4\ud50c\ub808\uc774 \ub4dc\ub77c\uc774\ubc84\uac00 \ubcf4\ub4dc \ube0c\ub9c1\uc5c5 \ub2e8\uacc4 \uc911\uc5d0 \uac1c\ubc1c\ub418\uc5c8\ub2e4\uace0 \uac00\uc815\ud569\ub2c8\ub2e4. \ub4dc\ub77c\uc774\ubc84\ub294 \ud53d\uc140\uc744 \ub514\uc2a4\ud50c\ub808\uc774\uc5d0 \uc804\uc1a1\ud558\uace0 \ub514\uc2a4\ud50c\ub808\uc774\uc758 \uba54\ubaa8\ub9ac \uc791\uc131 \uc704\uce58\ub97c \uc81c\uc5b4\ud560 \uc218 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4. \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 \ub514\uc2a4\ud50c\ub808\uc774\uc758 \ub370\uc774\ud130\uc2dc\ud2b8\ub97c \ud655\uc778\ud558\uc2ed\uc2dc\uc624."),(0,a.kt)("h2",s({},{id:"configuration"}),"\uad6c\uc131"),(0,a.kt)("h3",s({},{id:"fmc-configuration"}),"FMC \uad6c\uc131"),(0,a.kt)("p",null,"STM32CubeMX \uce74\ud14c\uace0\ub9ac \ubaa9\ub85d\uc758 ",(0,a.kt)("em",{parentName:"p"},"Connectivity")," \uadf8\ub8f9\uc5d0\uc11c ",(0,a.kt)("em",{parentName:"p"},"FMC"),"\ub97c \ud65c\uc131\ud654\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0\uc11c \uc0ac\uc6a9 \uac00\ub2a5\ud55c FMC Bank \uc911 \ud558\ub098\ub97c ",(0,a.kt)("em",{parentName:"p"},"LCD Interface"),"\ub85c \uad6c\uc131\ud574\uc57c \ud569\ub2c8\ub2e4. \uc774\ub294 STM32CubeMX\uc5d0\uc11c ",(0,a.kt)("em",{parentName:"p"},"Memory type"),"\uc744 ",(0,a.kt)("em",{parentName:"p"},"LCD Interface"),"\ub85c \uc124\uc815\ud558\uc5ec \uc218\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud53d\uc140\uc744 \ub514\uc2a4\ud50c\ub808\uc774\ub85c \uc804\uc1a1\ud558\ub294 \ub370 \uc0ac\uc6a9\ub418\ub294 \ubcd1\ub82c \ub370\uc774\ud130 \ub77c\uc778\uc758 \uac1c\uc218\ub3c4 \uc5ec\uae30\uc5d0\uc11c \uc120\ud0dd\ub429\ub2c8\ub2e4(\uc608: 16\ube44\ud2b8 \ub610\ub294 8\ube44\ud2b8 \ubcd1\ub82c \uc778\ud130\ud398\uc774\uc2a4)."),(0,a.kt)(r.Z,{imageSource:"/img/development/touchgfx-hal-development/scenarios/fmc-bank-configuration.png",width:"600",noShadow:!1,mdxType:"Figure"},"FMC \ubc45\ud06c \uad6c\uc131"),(0,a.kt)("p",null,"\uc0ac\uc6a9\ub418\ub294 \ub514\uc2a4\ud50c\ub808\uc774\uc5d0 \ub9de\ucdb0 \ud0c0\uc774\ubc0d\uc744 \uc62c\ubc14\ub974\uac8c \uc124\uc815\ud574\uc57c \ud569\ub2c8\ub2e4. MCU\uc5d0 \ub300\ud55c FMC\uc758 \uae30\ubcf8 \uc8fc\uc18c\uc640 \ub514\uc2a4\ud50c\ub808\uc774\uc5d0 \uc5f0\uacb0\ud558\ub294 \ub370 \uc0ac\uc6a9\ub41c \ubc45\ud06c\ub97c \ud655\uc778\ud558\uc138\uc694."),(0,a.kt)("h3",s({},{id:"touchgfx-generator"}),"TouchGFX Generator"),(0,a.kt)("h4",s({},{id:"\ub514\uc2a4\ud50c\ub808\uc774-\uc778\ud130\ud398\uc774\uc2a4-\ubcd1\ub82c-rgbfmc"}),"\ub514\uc2a4\ud50c\ub808\uc774 \uc778\ud130\ud398\uc774\uc2a4: \ubcd1\ub82c RGB(FMC)"),(0,a.kt)("p",null,"16\ube44\ud2b8 \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc0ac\uc6a9\ud560 \uacbd\uc6b0 TouchGFX Generator\uac00 HAL\uc744 \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774 HAL\uc740 LCD\uc5d0 \ub370\uc774\ud130 \ubc0f \ub808\uc9c0\uc2a4\ud130\ub97c \uc77d\uace0 \uc4f0\ub294 \uae30\ubcf8 \uad6c\ud604\uc774 \ud3ec\ud568\ub41c \uac04\ub2e8\ud55c API\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4:"),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXGeneratedHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp"}),"...\n    /**\n     * @brief  Initialize the LCD IO.\n     * @param  None\n     * @retval None\n     */\n    __weak void LCD_IO_Init(void)\n    {\n        // Already Done by MX_FMC_Init()\n    }\n\n    /**\n     * @brief  Writes data on LCD data register.\n     * @param  Data: Data to be written\n     * @retval None\n     */\n    __weak void LCD_IO_WriteData(uint16_t RegValue)\n    {\n        /* Write 16-bits Reg */\n        FMC_BANK1_WriteData(RegValue);\n    }\n...\n")),(0,a.kt)("p",null,"\uc0dd\uc131\ub41c \uc804\uccb4 \ucf54\ub4dc\uc5d0 \ub300\ud574\uc11c\ub294 ",(0,a.kt)("inlineCode",{parentName:"p"},"TouchGFXGeneratedHAL.cpp")," \ud30c\uc77c\uc744 \ucc38\uc870\ud558\uc138\uc694. \uc774\ub7ec\ud55c \ud568\uc218\ub294 \uac1c\ubc1c\uc790\uac00 \ud544\uc694\ud560 \uacbd\uc6b0 \uc790\uc2e0\uc758 HAL \uad6c\ud604\uc5d0\uc11c \uc7ac\uc815\uc758\ud560 \uc218 \uc788\ub3c4\ub85d ",(0,a.kt)("inlineCode",{parentName:"p"},"__weak"),"\ub85c \uc815\uc758\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"FMC \ubc45\ud06c\uac00 \uc62c\ubc14\ub974\uac8c \uad6c\uc131\ub418\uc5c8\ub2e4\uba74 TouchGFX Generator\uc5d0\uc11c \uc120\ud0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)(r.Z,{imageSource:"/img/development/touchgfx-hal-development/scenarios/fmc-interface-selection.png",width:"400",noShadow:!1,mdxType:"Figure"},"\ub514\uc2a4\ud50c\ub808\uc774 \uc778\ud130\ud398\uc774\uc2a4 - \ubcd1\ub82c RGB(FMC)"),(0,a.kt)("h4",s({},{id:"display-interface-custom"}),"Display Interface: Custom"),(0,a.kt)("p",null,"8\ube44\ud2b8 FMC \uc778\ud130\ud398\uc774\uc2a4(\ub610\ub294 SPI\ub098 DSI Command \ubaa8\ub4dc \ub4f1\uc758 \ub2e4\ub978 \uc9c1\ub82c \uc778\ud130\ud398\uc774\uc2a4)\ub97c \uc0ac\uc6a9\ud560 \uacbd\uc6b0 TouchGFX Generator\uc5d0\uc11c ",(0,a.kt)("em",{parentName:"p"},"Custom")," Display Interface\ub97c \uc120\ud0dd\ud574\uc57c \ud569\ub2c8\ub2e4. \uc774\ub294 \uc804\uccb4 HAL\uc740 \uc790\ub3d9\uc73c\ub85c \uc0dd\uc131\ub420 \uc218 \uc5c6\uc73c\ubbc0\ub85c \uac1c\ubc1c\uc790\uac00 \ud504\ub808\uc784 \ubc84\ud37c \uba54\ubaa8\ub9ac\uc5d0\uc11c \ud53d\uc140\uc744 \uad6c\uc131\ud558\uc5ec \uc218\ub3d9\uc73c\ub85c \ub514\uc2a4\ud50c\ub808\uc774\ub85c \uc804\uc1a1\ud574 \uae30\ub2a5\uc744 \uad6c\ud604\ud574\uc57c \ud55c\ub2e4\ub294 \ub73b\uc785\ub2c8\ub2e4. \uc774\ub97c \ub2ec\uc131\ud558\ub294 \ub370 \ud544\uc694\ud55c \ubaa8\ub4e0 \ud578\ub4e4\uc740 TouchGFX Generator\uc5d0 \uc758\ud574 \uc0dd\uc131\ub429\ub2c8\ub2e4. \uc544\ub798 \ub0b4\uc6a9\uc740 ",(0,a.kt)("em",{parentName:"p"},"Custom"),"\uc744 \uc120\ud0dd\ud558\ub294 \ubc29\ubc95\uc744 \ubcf4\uc5ec\uc90d\ub2c8\ub2e4."),(0,a.kt)(r.Z,{imageSource:"/img/development/touchgfx-hal-development/scenarios/custom-interface.png",width:"400",noShadow:!1,mdxType:"Figure"},"Display Interface - Custom"),(0,a.kt)(o.Z,{mdxType:"Tip"},"8\ube44\ud2b8 FMC, SPI \ub610\ub294 DSI Command \ubaa8\ub4dc\ub97c \ud1b5\ud574 \uc5f0\uacb0\ub41c \ub514\uc2a4\ud50c\ub808\uc774\uc758 \uacbd\uc6b0 \ucee4\uc2a4\ud140 \ub514\uc2a4\ud50c\ub808\uc774 \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc120\ud0dd\ud574\uc57c \ud569\ub2c8\ub2e4."),(0,a.kt)("h3",s({},{id:"dma-configuration"}),"DMA \uad6c\uc131"),(0,a.kt)("p",null,"CPU \ubd80\ud558\ub97c \ucd5c\uc18c\ud654\ud558\uae30 \uc704\ud574 \ud53d\uc140 \ub370\uc774\ud130\uac00 \ud504\ub808\uc784 \ubc84\ud37c\uc5d0\uc11c FMC\ub85c \uc804\uc1a1\ub418\ub3c4\ub85d DMA \ucc44\ub110\uc744 \uad6c\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. 16\ube44\ud2b8 \ubcd1\ub82c \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc0ac\uc6a9\ud560 \uacbd\uc6b0 \uc0dd\uc131\ub41c LCD API\ub97c \ub300\uc2e0 DMA \uc804\uc1a1\uc744 \uc218\ud589\ud558\ub3c4\ub85d \uc7ac\uc815\uc758\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ub294, ",(0,a.kt)("inlineCode",{parentName:"p"},"TouchGFXHAL.cpp"),"\uc5d0\uc11c DMA \uc804\uc1a1 \uae30\ub2a5\uc744 \ud3ec\ud568\ud558\ub3c4\ub85d API\ub97c \ud655\uc7a5\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. \uc544\ub798 \ub0b4\uc6a9\uc740 FMC\uc5d0 \ub300\ud55c GPDMA \ucc44\ub110 \uad6c\uc131\uc758 \uc608\uc2dc\uc785\ub2c8\ub2e4:"),(0,a.kt)(r.Z,{imageSource:"/img/development/touchgfx-hal-development/scenarios/gpdma-configuration.png",width:"400",noShadow:!1,mdxType:"Figure"},"DMA \uad6c\uc131"),(0,a.kt)("p",null,"\ud504\ub808\uc784 \ubc84\ud37c\ub97c \ub514\uc2a4\ud50c\ub808\uc774\ub85c \uc804\uc1a1\ud558\uae30 \uc704\ud574 HAL \uacc4\uce35\uc5d0\uc11c \uc694\uccad\uc744 \ud504\ub85c\uadf8\ub798\ubc0d\ud574\uc57c \ud558\ubbc0\ub85c ",(0,a.kt)("em",{parentName:"p"},"\uc694\uccad"),"\uc740 ",(0,a.kt)("em",{parentName:"p"},"\uc18c\ud504\ud2b8\uc6e8\uc5b4"),"\ub85c \uc124\uc815\ub429\ub2c8\ub2e4. \ud504\ub808\uc784 \ubc84\ud37c \ud3ec\uc778\ud130\uac00 \uc774\ub3d9\ub418\ub3c4\ub85d ",(0,a.kt)("em",{parentName:"p"},"\uc18c\uc2a4 \uc8fc\uc18c \uc99d\ubd84"),"\uc744 \ud65c\uc131\ud654\ud558\uace0 \ud56d\uc0c1 FMC \ubc45\ud06c \uba54\ubaa8\ub9ac \uc8fc\uc18c\uc5d0 \uc4f0\ub3c4\ub85d ",(0,a.kt)("em",{parentName:"p"},"\ub300\uc0c1 \uc8fc\uc18c \uc99d\ubd84"),"\uc744 \ube44\ud65c\uc131\ud654\ud569\ub2c8\ub2e4."),(0,a.kt)("h2",s({},{id:"user-code"}),"\uc0ac\uc6a9\uc790 \ucf54\ub4dc"),(0,a.kt)("p",null,"\uc77c\ubc18\uc801\uc73c\ub85c \uc784\ubca0\ub514\ub4dc GRAM\uc774 \ud0d1\uc7ac\ub41c \ub514\uc2a4\ud50c\ub808\uc774\uc758 \uacbd\uc6b0 ",(0,a.kt)("inlineCode",{parentName:"p"},"TouchGFXHAL.cpp"),"\uc5d0\uc11c \uc0dd\uc131\ub41c TouchGFX HAL \ud578\ub4e4\uc744 \uad6c\ud604\ud558\ub824\uba74 \ub2e4\uc74c \ub2e8\uacc4\ub97c \uc218\ud589\ud574 \ud53d\uc140\uc744 \ub514\uc2a4\ud50c\ub808\uc774\ub85c \uc804\uc1a1\ud558\uace0 \ub514\uc2a4\ud50c\ub808\uc774\ub97c TouchGFX Engine\uacfc \ub3d9\uae30\ud654\ud574\uc57c \ud569\ub2c8\ub2e4:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},'"VSYNC"(TE(Tearing Effect) \uc2e0\ud638\ub77c\uace0\ub3c4 \ubd88\ub9bc)\uac00 TouchGFX Engine\uc5d0 \uc2e0\ud638\ub97c \ubcf4\ub0bc \ub54c\uae4c\uc9c0 \ub300\uae30\ud569\ub2c8\ub2e4.'),(0,a.kt)("li",{parentName:"ol"},'\ub2e4\uc2dc \uadf8\ub824\uc9c8 \ud504\ub808\uc784 \ubc84\ud37c\uc758 \uc601\uc5ed\uc744 \uae30\uc900\uc73c\ub85c "\ub514\uc2a4\ud50c\ub808\uc774 \ucee4\uc11c"\uc640 "\ud65c\uc131 \ucc3d"(\uc5c5\ub370\uc774\ud2b8\ub418\ub294 \ub514\uc2a4\ud50c\ub808\uc774\uc758 \uc601\uc5ed)\uc744 \uc774 \uc601\uc5ed\uacfc \uc77c\uce58\ud558\ub294 GRAM\uc758 \uc704\uce58\ub85c \uc774\ub3d9\uc2dc\ud0b5\ub2c8\ub2e4.'),(0,a.kt)("li",{parentName:"ol"},"GRAM\uc5d0 \uc785\ub825\ub418\ub294 \ud53d\uc140 \ub370\uc774\ud130\ub97c \uae30\ub85d\ud560 \uc900\ube44\ub97c \ud569\ub2c8\ub2e4. \uc0ac\uc6a9\ub418\ub294 \ud504\ub808\uc784 \ubc84\ud37c \uc804\ub7b5\uacfc \ub514\uc2a4\ud50c\ub808\uc774 \uc778\ud130\ud398\uc774\uc2a4\uc5d0 \ub530\ub77c \uc774\ub294 \ud504\ub808\uc784 \ubc84\ud37c \ud3ec\uc778\ud130\ub97c \ubc14\uafb8\uac70\ub098, TouchGFX Engine\uc5d0 \uc2e0\ud638\ub97c \ubcf4\ub0b4\uac70\ub098, \uc774\uc804 \uc804\uc1a1\uc774 \uc644\ub8cc\ub420 \ub54c\uae4c\uc9c0 \uae30\ub2e4\ub9b4 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ol"},"\ud53d\uc140 \ub370\uc774\ud130\ub97c \uc804\uc1a1\ud569\ub2c8\ub2e4.")),(0,a.kt)("p",null,"\uc5b4\ub5a4 \ub514\uc2a4\ud50c\ub808\uc774\ub97c \uc0ac\uc6a9\ud558\uace0 \ud504\ub808\uc784 \ubc84\ud37c \uc804\ub7b5\uc774 \ubb34\uc5c7\uc778\uc9c0\uc5d0 \ub530\ub77c \uc704 \ub2e8\uacc4\uc758 \uad6c\ud604\uc774 \ub2ec\ub77c\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4. FMC \ubcd1\ub82c \uc778\ud130\ud398\uc774\uc2a4\uac00 \ud0d1\uc7ac\ub41c GRAM \ub514\uc2a4\ud50c\ub808\uc774\ub97c \uc0ac\uc6a9\ud560 \ub54c \uc774\ub7ec\ud55c \ub2e8\uacc4\ub97c \uad6c\ud604\ud558\ub294 \ubc29\ubc95\uc740 \ub2e4\uc74c \uc139\uc158\uc5d0\uc11c \uc124\uba85\ud569\ub2c8\ub2e4."),(0,a.kt)("h2",s({},{id:"supported-framebuffer-strategies"}),"\uc9c0\uc6d0\ub418\ub294 \ud504\ub808\uc784 \ubc84\ud37c \uc804\ub7b5"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\ub2e8\uc77c"),(0,a.kt)("li",{parentName:"ul"},"\uc774\uc911"),(0,a.kt)("li",{parentName:"ul"},"\ubd80\ubd84 - GRAM \ub514\uc2a4\ud50c\ub808\uc774")),(0,a.kt)(c.Z,{mdxType:"FurtherReading"},"TouchGFX\uc758 \ud504\ub808\uc784 \ubc84\ud37c \uc804\ub7b5\uc5d0 \ub300\ud55c \uc804\ubc18\uc801\uc778 \uc124\uba85\uc740 ",(0,a.kt)(p.Z,{to:"../../../basic-concepts/framebuffer#framebuffer-strategies",mdxType:"Link"},"\ud504\ub808\uc784 \ubc84\ud37c \uc804\ub7b5")," \ubb38\uc11c\uc5d0\uc11c \ucc38\uc870\ud558\uc138\uc694."),(0,a.kt)("h3",s({},{id:"single"}),"\ub2e8\uc77c"),(0,a.kt)("p",null,"FMC \ubcd1\ub82c \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud53d\uc140 \ub370\uc774\ud130\ub97c \ub514\uc2a4\ud50c\ub808\uc774\ub85c \uc804\uc1a1\ud558\uba74 \ub9e4\uc6b0 \ub192\uc740 \ub300\uc5ed\ud3ed\uc744 \uc81c\uacf5\ud558\ub294 \uacbd\uc6b0\uac00 \ub9ce\uc2b5\ub2c8\ub2e4. \uc774 \ub54c\ubb38\uc5d0 \ub2e4\uc218\uc758 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc740 ",(0,a.kt)("em",{parentName:"p"},"\ub098\uc774\ube0c(naive)")," \ubc29\uc2dd\uc73c\ub85c \ud504\ub808\uc784 \ubc84\ud37c\ub97c \uc5c5\ub370\uc774\ud2b8\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub098\uc774\ube0c \ubc29\uc2dd\uc740 \uc774\uc804 \ud504\ub808\uc784\uc774 \ub514\uc2a4\ud50c\ub808\uc774\ub85c \uc804\uc1a1\ub41c \ud6c4\uc5d0 \ub2e4\uc74c \ud504\ub808\uc784\uc758 \ub80c\ub354\ub9c1\uc774 \uc2dc\uc791\ub41c\ub2e4\ub294 \ub73b\uc785\ub2c8\ub2e4. \ubcf4\ub2e4 \ucd5c\uc801\uc758 \uc811\uadfc \ubc29\uc2dd\uc740 \uc774\uc804 \ud504\ub808\uc784\uc744 \uc791\uc740 \uc870\uac01\uc73c\ub85c \uc804\uc1a1\ud558\uace0 \uc9c0\uae08\uae4c\uc9c0 \uc804\uc1a1\ub41c \ud504\ub808\uc784 \ubc84\ud37c \uc601\uc5ed\uc5d0\uc11c \ub2e4\uc74c \ud504\ub808\uc784\uc758 \ub80c\ub354\ub9c1\uc744 \uc2dc\uc791\ud558\ub77c\uace0 TouchGFX Engine\uc5d0 \uc2e0\ud638\ub97c \ubcf4\ub0b4\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4. \uc774\ub294 LTDC \uae30\ubc18 \ub514\uc2a4\ud50c\ub808\uc774\uc758 ",(0,a.kt)("em",{parentName:"p"},"\uc8fc\uc0ac\uc120"),"\uc744 \ub530\ub974\ub294 \uac1c\ub150\uc744 \uc5d0\ubbac\ub808\uc774\uc158\ud558\ub294 \uac83\uc774\uc9c0\ub9cc \uc5ec\uae30\uc5d0\uc11c\ub294 \ub300\uc2e0 ",(0,a.kt)("em",{parentName:"p"},"\uc804\uc1a1\uc120"),"\uc744 \ub530\ub985\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ucd5c\uc801\uc758 \ub514\uc2a4\ud50c\ub808\uc774 \uc804\uc1a1\uacfc \ub80c\ub354\ub9c1\uc744 \ub2ec\uc131\ud558\ub824\uba74 TouchGFX Engine\uc774 \uc62c\ubc14\ub978 \ud504\ub808\uc784 \ubc84\ud37c \uc804\ub7b5\uc744 \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc124\uc815\ub418\uc5b4\uc57c \ud558\uba70 \uc9c0\uc5f0 \ud568\uc218\uac00 \uc81c\uacf5\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4:"),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp",metastring:"{5-6}","{5-6}":!0}),"void TouchGFXHAL::initialize()\n{\n    // Other initialization code\n\n    registerTaskDelayFunction(&OSWrappers::taskDelay);\n    setFrameRefreshStrategy(REFRESH_STRATEGY_OPTIM_SINGLE_BUFFER_TFT_CTRL);\n\n    TouchGFXGeneratedHAL::initialize();\n}\n")),(0,a.kt)("p",null,"\ub514\uc2a4\ud50c\ub808\uc774 \uc804\uc1a1\uc744 \uc2dc\uc791\ud558\uae30 \uc704\ud574, \ub514\uc2a4\ud50c\ub808\uc774\uc758 TE \uc2e0\ud638\uc5d0 \uc758\ud574 \uc0dd\uc131\ub41c \uc678\ubd80 \uc778\ud130\ub7fd\ud2b8\uac00 TouchGFX \uc5d4\uc9c4\uc5d0 \uc2e0\ud638\ub97c \ubcf4\ub0b4 \ub2e4\uc74c \ud504\ub808\uc784 \ub80c\ub354\ub9c1\uc744 \uc2dc\uc791\ud558\uace0, \uc774\uc804\uc5d0 \ub80c\ub354\ub9c1\ub41c \ud504\ub808\uc784\uc744 \ub514\uc2a4\ud50c\ub808\uc774\ub85c \uc804\uc1a1\ud558\ub3c4\ub85d \ud569\ub2c8\ub2e4. \uc77c\ubc18\uc801\uc73c\ub85c TE \uc2e0\ud638\ub294 \ub514\uc2a4\ud50c\ub808\uc774 \uc8fc\uc0ac\uc120\uc774 \uc0c1\uc2b9 \uc5e3\uc9c0\uc758 \ud65c\uc131 \uc601\uc5ed\uc744 \ub5a0\ub098 \ud558\uac15 \uc5e3\uc9c0\ub85c \ub2e4\uc2dc \uc9c4\uc785\ud55c\ub2e4\uace0 \uc2e0\ud638\ub97c \ubcf4\ub0b4\ub294 \ud384\uc2a4\uc785\ub2c8\ub2e4. \ub514\uc2a4\ud50c\ub808\uc774 \uc804\uc1a1 \ub300\uc5ed\ud3ed\uc774 \ub514\uc2a4\ud50c\ub808\uc774\uac00 \ud53d\uc140\uc744 \uc2a4\uce94\ud558\ub294 \ub300\uc5ed\ud3ed\ubcf4\ub2e4 \ud074 \uacbd\uc6b0(FMC\uc5d0\uc11c \uc885\uc885 \ubc1c\uc0dd\ud568), \uae68\uc9d0 \ud604\uc0c1\uc774 \ubc1c\uc0dd\ud560 \uc704\ud5d8 \uc5c6\uc774 TE \uc2e0\ud638\uc758 \uc0c1\uc2b9 \uc5e3\uc9c0\uc5d0\uc11c \uc548\uc804\ud558\uac8c \uc804\uc1a1\uc744 \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc544\ub798 \ucf54\ub4dc\uac00 \ubc14\ub85c \uc774\ub7f0 \uacbd\uc6b0\uc5d0 \ud574\ub2f9\ud569\ub2c8\ub2e4."),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp",metastring:"{6,16}","{6,16}":!0}),"void HAL_GPIO_EXTI_Rising_Callback(uint16_t GPIO_Pin)\n{\n    if (GPIO_Pin == LCD_TE_Pin)\n    {\n        // VSync has occurred, increment TouchGFX engine vsync counter\n        HAL::getInstance()->vSync();\n        // VSync has occurred, signal TouchGFX engine\n        OSWrappers::signalVSync();\n        GPIO::set(GPIO::VSYNC_FREQ);\n\n        if (refreshRequested)\n        {\n            refreshRequested = false;\n            nextSendToDisplayLine = refreshMinLine;\n            maxSendToDisplayLine = refreshMaxLine;\n            sendNextFrameBufferBlockToDisplay();\n        }\n    }\n}\n")),(0,a.kt)(i.Z,{mdxType:"Note"},"\ub514\uc2a4\ud50c\ub808\uc774 \uc8fc\uc0ac\uc120\ubcf4\ub2e4 \ub514\uc2a4\ud50c\ub808\uc774 \uc804\uc1a1 \ub300\uc5ed\ud3ed\uc774 \ub354 \ube60\ub97c \uacbd\uc6b0 \uae68\uc9d0 \ud604\uc0c1\uc774 \ubc1c\uc0dd\ud560 \uc704\ud5d8 \uc5c6\uc774 TE \uc2e0\ud638\uc758 \uc0c1\uc2b9 \uc5e3\uc9c0\uc5d0\uc11c \uc804\uc1a1\uc744 \uc548\uc804\ud558\uac8c \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc704\uc758 \ucf54\ub4dc\uc5d0\uc11c \ud5ec\ud37c \ubcc0\uc218 ",(0,a.kt)("inlineCode",{parentName:"p"},"nextSendToDisplayLine")," \ubc0f ",(0,a.kt)("inlineCode",{parentName:"p"},"maxSendToDisplayLine"),"\uc740 \ub514\uc2a4\ud50c\ub808\uc774\ub85c \uc804\uc1a1\ub418\ub294 \uc774\uc804 \ud504\ub808\uc784\uc758 \uc601\uc5ed\uc744 \uc815\uc758\ud569\ub2c8\ub2e4. \uc774\ub7ec\ud55c \ubcc0\uc218\uc758 \uac12\uc740 ",(0,a.kt)("inlineCode",{parentName:"p"},"TouchGFXHAL::flushFrameBuffer"),"\uc5d0\uc11c TouchGFX Engine\uc5d0 \uc758\ud574 \uc5c5\ub370\uc774\ud2b8\ub418\uba70 \uc774\ub294 \ud504\ub808\uc784 \ubc84\ud37c\uac00 \uc5c5\ub370\uc774\ud2b8\ub420 \ub54c\ub9c8\ub2e4 \ud638\ucd9c\ub429\ub2c8\ub2e4. \ud504\ub808\uc784 \ubc84\ud37c\ub294 \ub2e4\uc74c TE \uc2e0\ud638\uc5d0\uc11c \ub370\uc774\ud130\ub97c \uc804\uc1a1\ud574\uc57c \ud55c\ub2e4\ub294 \uac83\uc744 \uc54c\ub9ac\uae30 \uc704\ud574 ",(0,a.kt)("em",{parentName:"p"},"\ub354\ud2f0(dirty)"),"\ub85c \ud45c\uc2dc\ub429\ub2c8\ub2e4."),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp",metastring:"{19-20,22}","{19-20,22}":!0}),"void TouchGFXHAL::flushFrameBuffer(const touchgfx::Rect& rect)\n{\n    // Calling parent implementation of flushFrameBuffer(const touchgfx::Rect& rect).\n    TouchGFXGeneratedHAL::flushFrameBuffer(rect);\n\n    // In the below code, the refreshMinLine and refreshMaxLine variables are updated to span the\n    // smallest possible range, which covers all changes to the framebuffer.\n    int rectMin = rect.y;\n    int rectMax = rect.bottom();\n    refreshMinLine = MIN(rectMin, refreshMinLine);\n    refreshMaxLine = MAX(rectMax, refreshMaxLine);\n\n    refreshRequested = true; // Signal that the framebuffer has been updated this tick\n}\n")),(0,a.kt)("p",null,"\ub300\ub7c9\uc758 \ud504\ub808\uc784 \ubc84\ud37c \ud53d\uc140\uc744 \ub514\uc2a4\ud50c\ub808\uc774\ub85c \uc804\uc1a1\ud558\ub294 \ud5ec\ud37c \ud568\uc218\ub294 FMC \ud568\uc218\ub97c \uc774\uc6a9\ud574 \uad6c\ud604\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4:"),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp",metastring:"{3,9}","{3,9}":!0}),"void sendNextFrameBufferBlockToDisplay()\n{\n    maxDrawLine = nextSendToDisplayLine; // Update the area that TouchGFX framework is allow to draw to based on the progress of the transfer\n\n    const int32_t remainingLines = maxSendToDisplayLine - nextSendToDisplayLine;\n    if (remainingLines > 0)\n    {\n        // The display transfer is not done. Start transfer of the next block\n        const uint32_t sendBlockHeight = MIN(MAX_BLOCK_HEIGHT, remainingLines);\n        setDisplayWindow(0, nextSendToDisplayLine, DISPLAY_WIDTH, sendBlockHeight);\n        uint16_t* dataPtr = framebuffer + nextSendToDisplayLine * DISPLAY_WIDTH;\n        uint32_t dataSize = DISPLAY_WIDTH * sendBlockHeight * 2;\n        nextSendToDisplayLine += sendBlockHeight;\n        LCD_IO_SendDataDMA((uint8_t*)dataPtr, dataSize);\n    }\n    else\n    {\n        // The display transfer is done. Allow drawing to the entire framebuffer\n        maxDrawLine = DISPLAY_HEIGHT;\n    }\n}\n")),(0,a.kt)("p",null,"\uc704\uc758 \ucf54\ub4dc\uc5d0\uc11c ",(0,a.kt)("inlineCode",{parentName:"p"},"remainingLines"),"\ub294 \ub514\uc2a4\ud50c\ub808\uc774\ub85c \uc804\uc1a1\ud574\uc57c \ud558\ub294 \ub0a8\uc740 \ub77c\uc778\uc758 \uc218\uc785\ub2c8\ub2e4. \ub0a8\uc740 \ub77c\uc778\uc774 \uc788\ub2e4\uba74 ",(0,a.kt)("inlineCode",{parentName:"p"},"sendBlockHeight"),"\ub97c \uc804\uc1a1\ub418\ub294 \ub77c\uc778\uc758 \uc218\ub85c \uc815\uc758\ud569\ub2c8\ub2e4. \uc0c1\uc218 ",(0,a.kt)("inlineCode",{parentName:"p"},"MAX_BLOCK_HEIGHT"),"\ub294 \uc804\uc1a1 \ud06c\uae30\ub97c \uc81c\ud55c\ud569\ub2c8\ub2e4. \ubcc0\uc218 ",(0,a.kt)("inlineCode",{parentName:"p"},"maxDrawLine"),"\uc740 \uc804\uc1a1\ub41c \uc601\uc5ed\uc5d0 \ub300\ud55c \ud558\uc774 \uc6cc\ud130\ub9c8\ud06c\ub85c, TouchGFX Engine\uc774 \ub2e4\uc74c \ud504\ub808\uc784\uc5d0 \uadf8\ub9b4 \uc218 \uc788\ub294 \ud604\uc7ac \ub77c\uc778\uc744 \uacb0\uc815\ud569\ub2c8\ub2e4. \uc774 \uac12\uc740 \uc804\uc1a1\uc774 \uc9c4\ud589\ub428\uc5d0 \ub530\ub77c \uc99d\uac00\ud558\uba70 \ub354\ud2f0 \uc601\uc5ed\uc758 \uc804\uc1a1\uc774 \uc644\ub8cc\ub418\uba74 ",(0,a.kt)("inlineCode",{parentName:"p"},"DISPLAY_HEIGHT"),"\ub85c \uc124\uc815\ub418\uc5b4 TouchGFX Engine\uc774 \ub2e4\uc74c \ud504\ub808\uc784\uc744 \uc644\ub8cc\ud560 \uc218 \uc788\ub3c4\ub85d \ud569\ub2c8\ub2e4. TouchGFX Engine\uc740 \uc5bc\ub9c8\ub098 \ub9ce\uc740 \ud504\ub808\uc784 \ubc84\ud37c\ub97c \uc5c5\ub370\uc774\ud2b8\ud560 \uc218 \uc788\ub294\uc9c0 \uc54c\uc544\ubcf4\uae30 \uc704\ud574 ",(0,a.kt)("inlineCode",{parentName:"p"},"maxDrawLine"),"\uc744 \ucffc\ub9ac\ud569\ub2c8\ub2e4:"),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp",metastring:"{3}","{3}":!0}),"uint16_t TouchGFXHAL::getTFTCurrentLine()\n{\n    return maxDrawLine;\n}\n")),(0,a.kt)("p",null,"\ube14\ub85d\uc774 \uc804\uc1a1\ub418\uba74 \ub2e4\uc74c \uc804\uc1a1\uc744 \uc2dc\uc791\ud560 \uc218 \uc788\ub3c4\ub85d \uc804\uc1a1 \uc644\ub8cc \ucf5c\ubc31\uc774 \uc0ac\uc6a9\ub429\ub2c8\ub2e4:"),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp",metastring:"{5}","{5}":!0}),"static void DMA_TxCpltCallback(DMA_HandleTypeDef* hdma)\n{\n    if (hdma == DISPLAY_DMA)\n    {\n        sendNextFrameBufferBlockToDisplay();\n    }\n}\n")),(0,a.kt)("p",null,"\ud504\ub808\uc784 \ubc84\ud37c\uc758 \ubaa8\ub4e0 \ub354\ud2f0 \uc601\uc5ed\uc774 \ub514\uc2a4\ud50c\ub808\uc774\ub85c \uc804\uc1a1\ub420 \ub54c\uae4c\uc9c0 \uc774 \uacfc\uc815\uc774 \ubc18\ubcf5\ub429\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ub2e4\uc74c TE \uc2e0\ud638\uac00 \uc218\uc2e0\ub418\uba74 \uc704\uc5d0 \uc124\uba85\ub41c \uc0ac\uc774\ud074\uc774 \ubc18\ubcf5\ub429\ub2c8\ub2e4."),(0,a.kt)("h4",s({},{id:"\ucc38\uc870-\uad6c\ud604"}),"\ucc38\uc870 \uad6c\ud604"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"TouchGFX Board Setup")," NUCLEO-U575ZI + RVA35HI\uc5d0\ub294 FMC\ub97c \uc0ac\uc6a9\ud574 \ub80c\ub354\ub9c1/\uc804\uc1a1\uc774 \ucd5c\uc801\ud654\ub41c \ub2e8\uc77c \ud504\ub808\uc784 \ubc84\ud37c \uc804\ub7b5\uc758 \ucc38\uc870 \uad6c\ud604\uc774 \ud3ec\ud568\ub429\ub2c8\ub2e4:"),(0,a.kt)(r.Z,{imageSource:"/img/development/touchgfx-hal-development/scenarios/stm32u575zi-rva35hi.png",width:"200",mdxType:"Figure"}),(0,a.kt)("h3",s({},{id:"double"}),"\uc774\uc911"),(0,a.kt)("p",null,"\ub2e8\uc77c \ud504\ub808\uc784 \ubc84\ud37c\uc640 \ube44\uad50\ud558\uc790\uba74, \uc774\uc911 \ubc84\ud37c\ub9c1\uc740 TouchGFX \uc5d4\uc9c4\uc774 \ud558\ub098\uc758 \ud504\ub808\uc784 \ubc84\ud37c\uc5d0 \ub2e4\uc74c \ud504\ub808\uc784\uc744 \uc790\uc720\ub86d\uac8c \uc4f0\ub294 \ub3d9\uc548, \ub2e4\ub978 \ud504\ub808\uc784 \ubc84\ud37c\uc5d0\uc11c \uc774\uc804 \ud504\ub808\uc784\uc744 \ub514\uc2a4\ud50c\ub808\uc774\ub85c \uc804\uc1a1\ud560 \uc218 \uc788\uac8c \ud574\uc90d\ub2c8\ub2e4. \uc774\ub294 \ub514\uc2a4\ud50c\ub808\uc774 \uc804\uc1a1\uc744 \uae30\ub2e4\ub9b4 \ud544\uc694\uac00 \uc5c6\uc73c\ubbc0\ub85c \ucd5c\uc801\uc758 \ub80c\ub354\ub9c1 \uc2dc\uac04\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ub514\uc2a4\ud50c\ub808\uc774 \uc804\uc1a1\uc744 \uc2dc\uc791\ud558\uae30 \uc704\ud574, \ub514\uc2a4\ud50c\ub808\uc774\uc758 TE \uc2e0\ud638\uc5d0 \uc758\ud574 \uc0dd\uc131\ub41c \uc678\ubd80 \uc778\ud130\ub7fd\ud2b8\uac00 TouchGFX \uc5d4\uc9c4\uc5d0 \uc2e0\ud638\ub97c \ubcf4\ub0b4 \ud504\ub808\uc784 \ubc84\ud37c\ub97c \ubcc0\uacbd\ud558\uace0 \ub2e4\uc74c \ud504\ub808\uc784 \ub80c\ub354\ub9c1\uc744 \uc2dc\uc791\ud569\ub2c8\ub2e4. \ub514\uc2a4\ud50c\ub808\uc774\ub294 \uc774\uc804\uc5d0 \ub80c\ub354\ub9c1\ud55c \ud504\ub808\uc784\uc744 \ub514\uc2a4\ud50c\ub808\uc774\ub85c \uc804\uc1a1\ud558\ub3c4\ub85d \uc124\uc815\ub429\ub2c8\ub2e4:"),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp",metastring:"{4,14,20}","{4,14,20}":!0}),"void LCD_SignalTearingEffectEvent(void)\n{\n    // VSync has occurred, increment TouchGFX engine vsync counter\n    HAL::getInstance()->vSync();\n    // VSync has occurred, signal TouchGFX engine\n    OSWrappers::signalVSync();\n\n    if (refreshRequested)\n    {\n        // Swap frame buffers immediately instead of waiting for the task to be scheduled in.\n        // Note: task will also swap when it wakes up, but that operation is guarded and will not have\n        // any effect if already swapped.\n\n        touchgfx::HAL::getInstance()->swapFrameBuffers();\n\n        // Set window, enable display reading to GRAM, transmit buffer using DMA\n        setWindow(0, 0, 240, 240);\n        LCD_IO_WriteReg(ST7789H2_WRITE_RAM);\n        dmaCompleted = false;\n        LCD_IO_SendDataDMA((uint8_t*)TFTframebuffer, (240 * 240 * 2));\n    }\n}\n")),(0,a.kt)("p",null,"\uc704\uc758 \ucf54\ub4dc\uc5d0\uc11c \ub514\uc2a4\ud50c\ub808\uc774 \ud574\uc0c1\ub3c4\ub294 240x240\ud53d\uc140(16\ube44\ud2b8 RGB565 \ud504\ub808\uc784 \ubc84\ud37c)\uc774\ubbc0\ub85c \ucc3d\uc740 \uc804\uccb4 \ub514\uc2a4\ud50c\ub808\uc774 \uc601\uc5ed\uc73c\ub85c \uc124\uc815\ub429\ub2c8\ub2e4. \ub300\uc5ed\ud3ed\uc774 \uc81c\ud55c\ub41c \uacbd\uc6b0 \ucc3d\uc740 \ub354\ud2f0 \uc601\uc5ed\ub9cc \ud3ec\ud568\ud558\ub3c4\ub85d \ub354 \uc791\uac8c \uc904\uc77c \uc218 \uc788\uc2b5\ub2c8\ub2e4. TouchGFX HAL \ud568\uc218 ",(0,a.kt)("inlineCode",{parentName:"p"},"TouchGFXHAL::flushFrameBuffer"),"\ub97c \uc774 \ubaa9\uc801\uc73c\ub85c \uc0ac\uc6a9\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"TouchGFX HAL \ud568\uc218 ",(0,a.kt)("inlineCode",{parentName:"p"},"TouchGFXHAL::beginFrame()")," \ubc0f ",(0,a.kt)("inlineCode",{parentName:"p"},"TouchGFXHAL::endFrame()"),"\uc740 \uc804\uc1a1\uc774 \uc218\ud589\ub418\uc5b4\uc57c \ud55c\ub2e4\uace0 \uc694\uccad\ud558\ub294 \ud568\uc218\uc785\ub2c8\ub2e4. \uc989, \ud504\ub808\uc784 \ubc84\ud37c\uac00 \ub354\ud2f0(dirty)\ub85c \ud45c\uc2dc\ub429\ub2c8\ub2e4."),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp",metastring:"{3,14}","{3,14}":!0}),"bool TouchGFXHAL::beginFrame()\n{\n    refreshRequested = false;\n\n    return TouchGFXGeneratedHAL::beginFrame();\n}\n\nvoid TouchGFXHAL::endFrame()\n{\n    TouchGFXGeneratedHAL::endFrame();\n\n    if (frameBufferUpdatedThisFrame)\n    {\n        refreshRequested = true;\n    }\n}\n")),(0,a.kt)("p",null,"\ub514\uc2a4\ud50c\ub808\uc774\ub85c \uc804\uc1a1\ub418\ub294 \ud504\ub808\uc784 \ubc84\ud37c\uc758 \uc8fc\uc18c\ub294 \uba54\uc18c\ub4dc ",(0,a.kt)("inlineCode",{parentName:"p"},"TouchGFXHAL::setTFTFrameBuffer()")," \ubc0f ",(0,a.kt)("inlineCode",{parentName:"p"},"TouchGFXHAL::getTFTFrameBuffer()")," \ub85c \uc720\uc9c0\ub429\ub2c8\ub2e4:"),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp",metastring:"{3,8}","{3,8}":!0}),"uint16_t* TouchGFXHAL::getTFTFrameBuffer() const\n{\n    return TFTframebuffer;\n}\n\nvoid TouchGFXHAL::setTFTFrameBuffer(uint16_t* address)\n{\n    TFTframebuffer = address;\n\n    TouchGFXGeneratedHAL::setTFTFrameBuffer(address);\n}\n")),(0,a.kt)("p",null,"\ud3ec\uc778\ud130 ",(0,a.kt)("inlineCode",{parentName:"p"},"TFTframebuffer"),"\ub294 TE \uc778\ud130\ub7fd\ud2b8 \ud578\ub4e4\ub7ec\uac00 \ub514\uc2a4\ud50c\ub808\uc774\ub85c \uc804\uc1a1\ub418\ub294 \ucc3d\uc758 \uc18c\uc2a4 \uc8fc\uc18c\ub97c \uc124\uc815\ud558\ub294 \ub370 \uc0ac\uc6a9\ub429\ub2c8\ub2e4."),(0,a.kt)("h4",s({},{id:"\ucc38\uc870-\uad6c\ud604-1"}),"\ucc38\uc870 \uad6c\ud604"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"TouchGFX Board Setup")," STM32H573-DK Int. \ud50c\ub798\uc2dc\uc5d0\ub294 FMC\ub97c \uc0ac\uc6a9\ud558\ub294 \uc774\uc911 \ud504\ub808\uc784 \ubc84\ud37c \uc804\ub7b5\uc758 \ucc38\uc870 \uad6c\ud604\uc774 \ud3ec\ud568\ub429\ub2c8\ub2e4:"),(0,a.kt)(r.Z,{imageSource:"/img/development/touchgfx-hal-development/scenarios/stm32h573i-dk.png",width:"200",mdxType:"Figure"}),(0,a.kt)("h3",s({},{id:"partial"}),"\ubd80\ubd84 - GRAM \ub514\uc2a4\ud50c\ub808\uc774"),(0,a.kt)("p",null,"TocuhGFX Generator\uc5d0\uc11c ",(0,a.kt)("em",{parentName:"p"},"\ubd80\ubd84 - GRAM \ub514\uc2a4\ud50c\ub808\uc774")," \ud504\ub808\uc784 \ubc84\ud37c \uc804\ub7b5\uc744 \uc120\ud0dd\ud558\ub294 \uacbd\uc6b0 \uc0ac\uc6a9\uc790\ub294 \ubd80\ubd84 \ud504\ub808\uc784 \ubc84\ud37c \ube14\ub85d\uc758 \uc218\uc640 \uadf8 \ud06c\uae30\ub97c \uad6c\uc131\ud574\uc57c \ud569\ub2c8\ub2e4. TouchGFX Generator\uc5d0\uc11c \uc0dd\uc131\ub41c \ucf54\ub4dc\ub294 ",(0,a.kt)("inlineCode",{parentName:"p"},"FrameBufferAllocator"),"\ub97c \uc778\uc2a4\ud134\uc2a4\ud654\ud558\uc5ec \ubd80\ubd84 \ud504\ub808\uc784 \ubc84\ud37c \ube14\ub85d\uc758 \uc0c1\ud0dc\ub97c \ucd94\uc801\ud558\uace0 \ud504\ub808\uc784 \ubc84\ud37c \uc804\ub7b5\uc744 \uad6c\uc131\ud569\ub2c8\ub2e4:"),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXGeneratedHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp"}),"// Block Allocator for Partial Framebuffer strategy\nstatic ManyBlockAllocator<2048, /* block size */\n       3, /* number of blocks */\n       2 /* bytes per pixel */\n       > blockAllocator;\n\nvoid TouchGFXGeneratedHAL::initialize()\n{\n    HAL::initialize();\n    registerEventListener(*(Application::getInstance()));\n    // Partial framebuffer strategy\n    setFrameBufferAllocator(&blockAllocator);\n    setFrameRefreshStrategy(HAL::REFRESH_STRATEGY_PARTIAL_FRAMEBUFFER);\n}\n")),(0,a.kt)("p",null,"\ub610 \ub2e4\ub978 \ud074\ub798\uc2a4 ",(0,a.kt)("inlineCode",{parentName:"p"},"PartialFrameBufferManager"),"\ub294 \ubd80\ubd84 \ud504\ub808\uc784 \ubc84\ud37c \ube14\ub85d \uac04\uc758 \ub3d9\uae30\ud654, \ube14\ub85d \uc804\uc1a1, \ub514\uc2a4\ud50c\ub808\uc774 \uc8fc\uc0ac\uc728\uc758 \ud0c0\uc774\ubc0d\uc744 \ucc98\ub9ac\ud569\ub2c8\ub2e4. \uc0dd\uc131\ub41c \ucf54\ub4dc\ub294 ",(0,a.kt)("inlineCode",{parentName:"p"},"PartialFrameBufferManager"),"\uc5d0 \uc758\ud574 \ub178\ucd9c\ub41c API\ub97c \uc0ac\uc6a9\ud558\uc5ec ",(0,a.kt)("inlineCode",{parentName:"p"},"TouchGFXGeneratedHAL::flushFrameBuffer"),"\uc758 \ud504\ub808\uc784 \ubc84\ud37c \ube14\ub85d\uc744 \uc804\uc1a1\ud569\ub2c8\ub2e4:"),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXGeneratedHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp",metastring:"{5}","{5}":!0}),"void TouchGFXGeneratedHAL::flushFrameBuffer(const touchgfx::Rect& rect)\n{\n    HAL::flushFrameBuffer(rect);\n    // Try transmitting a block\n    PartialFrameBufferManager::tryTransmitBlock();\n}\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"PartialFrameBufferManager"),"\ub294 3\uac1c\uc758 \ud568\uc218\ub97c \uc0ac\uc6a9\ud574 \ub514\uc2a4\ud50c\ub808\uc774 \ub4dc\ub77c\uc774\ubc84 \ucf54\ub4dc\uc640 \uc0c1\ud638\uc791\uc6a9\ud569\ub2c8\ub2e4. \uc774\ub294 TouchGFX Board Setup\uc5d0\uc11c \uad6c\ud604\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4:"),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXGeneratedHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp",metastring:"{4-4,12-12,20-20}","{4-4,12-12,20-20}":!0}),"/**\n * Check if a Frame Buffer Block is beeing transmitted.\n */\nint transmitActive()\n{\n    return touchgfxDisplayDriverTransmitActive();\n}\n\n/**\n * Check if a Frame Buffer Block ending at bottom may be sent.\n */\nint shouldTransferBlock(uint16_t bottom)\n{\n    return touchgfxDisplayDriverShouldTransferBlock(bottom);\n}\n\n/**\n * Transmit a Frame Buffer Block.\n */\nvoid transmitBlock(const uint8_t* pixels, uint16_t x, uint16_t y, uint16_t w, uint16_t h)\n{\n    touchgfxDisplayDriverTransmitBlock(pixels, x, y, w, h);\n}\n")),(0,a.kt)("p",null,"\uc704\uc758 \ucf54\ub4dc\ub294 ",(0,a.kt)("inlineCode",{parentName:"p"},"TouchGFXHAL.cpp"),"\uc758 \ub514\uc2a4\ud50c\ub808\uc774 \ub4dc\ub77c\uc774\ubc84\uc5d0\uc11c \uad6c\ud604\ub420 \uc218 \uc788\ub294 C \ud568\uc218\ub85c \ud638\ucd9c\uc744 \uc804\ub2ec\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc544\ub798 \uc608\uc81c\uc5d0\uc11c \uad6c\ud604\uc740 ",(0,a.kt)("inlineCode",{parentName:"p"},"PartialFrameBufferManager"),"\uc758 \ub9e4\uac1c\ubcc0\uc218\ub97c \uc774\uc6a9\ud574 FMC API \ud568\uc218\ub97c \ud638\ucd9c\ud569\ub2c8\ub2e4:"),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp"}),'extern "C" void touchgfxDisplayDriverTransmitBlock(const uint8_t* pixels, uint16_t x, uint16_t y, uint16_t w, uint16_t h)\n{\n    isTransmittingBlock = true;\n\n    setDisplayWindow(x, y, w, h);\n\n    LCD_IO_SendDataDMA((uint8_t*)pixels, w * h * 2);\n}\n')),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"touchgfxDisplayDriverTransmitActive")," \ud568\uc218\ub294 \ub2e8\uc21c\ud788 \uc804\uc5ed \ubcc0\uc218 ",(0,a.kt)("inlineCode",{parentName:"p"},"isTransmittingBlock"),"\uc758 \uac12\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4:"),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp"}),'extern "C" int touchgfxDisplayDriverTransmitActive()\n{\n    return isTransmittingBlock ? 1 : 0;\n}\n')),(0,a.kt)("p",null,"\uc774 \uac12\uc740 \uc804\uc1a1 \uc644\ub8cc \ucf5c\ubc31\uc5d0\uc11c \uc7ac\uc124\uc815\ub429\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"touchgfxDisplayDriverShouldTransferBlock")," \ud568\uc218\ub294 \ub514\uc2a4\ud50c\ub808\uc774\uac00 \uc0c8 \ube14\ub85d\uc744 \ubc1b\uc744 \uc900\ube44\uac00 \ub418\uc5c8\ub294\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4. \ubd80\ubd84 \ud504\ub808\uc784 \ubc84\ud37c \ube14\ub85d\uc740 \ub514\uc2a4\ud50c\ub808\uc774 \uc8fc\uc0ac\uc120 ",(0,a.kt)("strong",{parentName:"p"},"\ub4a4\uc5d0\uc11c")," \uc804\uc1a1\ub429\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4 \ub514\uc2a4\ud50c\ub808\uc774 \uc8fc\uc0ac\uc120\uc774 50\ubc88\uc9f8 \ub77c\uc778\uae4c\uc9c0 \uc2a4\uce94\ub418\uc5c8\uace0 \uc804\uc1a1\ub418\ub294 \ube14\ub85d\uc758 ",(0,a.kt)("em",{parentName:"p"},"\ud558\ub2e8"),"\uc774 70\ubc88\uc9f8 \ub77c\uc778\uc5d0 \uc788\ub2e4\uba74 TouchGFX Engine\uc740 \ub514\uc2a4\ud50c\ub808\uc774\uac00 70\ubc88\uc9f8 \ub77c\uc778 \uc544\ub798\ub85c \uc9c4\ud589\ub420 \ub54c\uae4c\uc9c0 \uae30\ub2e4\ub824\uc57c \ube14\ub85d \uc804\uc1a1\uc744 \uc2dc\uc791\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub294 \ub514\uc2a4\ud50c\ub808\uc774\uc758 \uae68\uc9d0\uc744 \ubc29\uc9c0\ud558\uae30 \uc704\ud55c \uac83\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ub2e4\uc218\uc758 \ub514\uc2a4\ud50c\ub808\uc774\ub294 \uc774 \uae30\ub2a5\uc744 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc73c\ubbc0\ub85c \ub77c\uc778\ub9c8\ub2e4 \uce74\uc6b4\ud130\ub97c \ub298\ub824\uc11c \ub77c\uc778\uc744 \uc608\uce21\ud558\ub294 \ud558\ub4dc\uc6e8\uc5b4 \ud0c0\uc774\uba38\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uce74\uc6b4\ud130\uac00 \uc99d\uac00\ud574\uc57c \ud558\ub294 \uc18d\ub3c4\ub294 \ubaa8\ub4e0 \ud504\ub808\uc784 \uc2dc\uac04(ms)/\ub514\uc2a4\ud50c\ub808\uc774 \ub192\uc774(\ud53d\uc140)\uc5ec\uc57c \uc774\uc0c1\uc801\uc785\ub2c8\ub2e4(\uc608: 16.67ms / 320pixels = \ub77c\uc778\ub2f9 52.1us). ",(0,a.kt)("em",{parentName:"p"},"\ub77c\uc778 \ud0c0\uc774\uba38"),"\ub97c \uc0ac\uc6a9\ud558\uc5ec ",(0,a.kt)("inlineCode",{parentName:"p"},"touchgfxDisplayDriverShouldTransferBlock"),"\uc744 \uad6c\ud604\ud55c \uc608\uc2dc\ub294 \uc544\ub798\uc5d0 \ub098\uc640 \uc788\uc2b5\ub2c8\ub2e4:"),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp"}),'extern "C" int touchgfxDisplayDriverShouldTransferBlock(uint16_t bottom)\n{\n    // Only allow block transfer if the display has drawn past the bottom of the requested block (plus a margin of two lines)\n    // A timer is used to estimate how many lines have been drawn by setting the prescaler so the tick rate matches the line draw rate\n    uint16_t lastLineDrawn = LL_TIM_GetCounter(LINE_TIMER);\n    return bottom + 2 < lastLineDrawn || tearingEffectCount > 0;\n}\n')),(0,a.kt)("p",null,"\uc704\uc758 \ucf54\ub4dc\uc5d0\uc11c \ud558\ub2e8(\uc57d\uac04\uc758 \uc5ec\ubc31\uc744 \ub354\ud568)\uc774 \ub514\uc2a4\ud50c\ub808\uc774 \ub77c\uc778 \uce74\uc6b4\ud130\ubcf4\ub2e4 \uc791\uac70\ub098 ",(0,a.kt)("inlineCode",{parentName:"p"},"tearingEffectCount"),"\uac00 0\ubcf4\ub2e4 \ud06c\uba74 \ud568\uc218\uac00 true\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4. ",(0,a.kt)("inlineCode",{parentName:"p"},"tearingEffectCount"),"\uac00 0\ubcf4\ub2e4 \ud06c\ub2e4\uba74 \uc774\ub294 \ub514\uc2a4\ud50c\ub808\uc774\uac00 TE \uc2e0\ud638\ub97c \ubc29\ucd9c\ud588\uace0 \uc774\uc81c \uc804\uc1a1\ub420 \ube14\ub85d\uacfc \ub3d9\uc77c\ud55c \ud504\ub808\uc784\uc5d0 \uc788\ub2e4\ub294 \ub73b\uc774\uba70(\ud558\uc9c0\ub9cc \ub514\uc2a4\ud50c\ub808\uc774 Y\ucd95\uc758 \ub4a4), \ube14\ub85d\uc744 \uc804\uc1a1\ud574\uc57c \ud55c\ub2e4\ub294 \uc758\ubbf8\uc785\ub2c8\ub2e4."),(0,a.kt)(o.Z,{mdxType:"Tip"},"`void waitUntilTransmitEnd()` \ubc0f `void waitUntilCanTransferBlock(uint16_t bottom)` \ud6c4\ud06c\ub294 \ub514\uc2a4\ud50c\ub808\uc774 \uc804\uc1a1\uc774 \uc9c4\ud589\ub418\uace0 \uc788\uac70\ub098 \ub514\uc2a4\ud50c\ub808\uc774\uac00 \uc0c8 \ube14\ub85d\uc744 \ubc1b\uc744 \uc900\ube44\uac00 \ub418\uc9c0 \uc54a\uc740 \uacbd\uc6b0 \uc5b4\ub5a4 \uc77c\uc774 \ubc1c\uc0dd\ud560\uc9c0 \uc815\uc758\ud558\ub294 \ub370 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uae30\ubcf8 \ub3d9\uc791\uc740 `OSWrappers::taskYield()`\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"tearingEffectCount"),"\ub294 TE \uc778\ud130\ub7fd\ud2b8 \ud578\ub4e4\ub7ec\uc5d0\uc11c \uc99d\uac00\ud558\uba70 TouchGFX Engine\uc740 \ub2e4\uc74c \ud504\ub808\uc784\uc744 \ub80c\ub354\ub9c1\ud558\uae30 \uc2dc\uc791\ud558\ub77c\ub294 \uc2e0\ud638\ub97c \ubc1b\uc2b5\ub2c8\ub2e4:"),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp",metastring:"{7, 10}","{7,":!0,"10}":!0}),"void HAL_GPIO_EXTI_Rising_Callback(uint16_t GPIO_Pin)\n{\n    if (GPIO_Pin == LCD_TE_Pin)\n    {\n        // Code to handle TE signal. Could be fine-tuning the display line timer frequency\n\n        tearingEffectCount++;\n\n        // VSync has occurred, increment TouchGFX engine vsync counter\n        HAL::getInstance()->vSync();\n        // VSync has occurred, signal TouchGFX engine\n        OSWrappers::signalVSync();\n\n        GPIO::set(GPIO::VSYNC_FREQ);\n        startRenderingImmediately = true;\n    }\n}\n")),(0,a.kt)("p",null,"\ub2e4\uc74c \ud504\ub808\uc784\uc744 \uc2dc\uc791\ud560 \ub54c ",(0,a.kt)("inlineCode",{parentName:"p"},"tearingEffectCount"),"\ub97c \uc7ac\uc124\uc815\ud569\ub2c8\ub2e4:"),(0,a.kt)(l.Z,{mdxType:"CodeHeader"},"TouchGFXHAL.cpp"),(0,a.kt)("pre",null,(0,a.kt)("code",s({parentName:"pre"},{className:"language-cpp"}),"bool TouchGFXHAL::beginFrame()\n{\n    tearingEffectCount = 0;\n    return TouchGFXGeneratedHAL::beginFrame();\n}\n")),(0,a.kt)("h4",s({},{id:"\ucc38\uc870-\uad6c\ud604-2"}),"\ucc38\uc870 \uad6c\ud604"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"TouchGFX Board Setup")," NUCLEO-H563ZI + RVA35HI\uc5d0\ub294 FMC \ubc0f \uc801\uc751\ud615 \ub514\uc2a4\ud50c\ub808\uc774 ",(0,a.kt)("em",{parentName:"p"},"\ub77c\uc778 \ud0c0\uc774\uba38")," \uad6c\uc131\uc744 \uc0ac\uc6a9\ud558\ub294 \ubd80\ubd84 \ud504\ub808\uc784 \ubc84\ud37c \uc804\ub7b5\uc758 \ucc38\uc870 \uad6c\ud604\uc774 \ud3ec\ud568\ub429\ub2c8\ub2e4:"),(0,a.kt)(r.Z,{imageSource:"/img/development/touchgfx-hal-development/scenarios/stm32h563zi-rva35hi.png",width:"200",mdxType:"Figure"}))}F.isMDXComponent=!0}}]);